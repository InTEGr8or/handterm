import{p as wl,B as Nm,e as kC,s as bC,a as xC,_ as EC}from"./monaco-BeiUMcnT.js";function RC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const $m=globalThis||void 0||self;function TC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Um={exports:{}},_c={},jm={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=Symbol.for("react.element"),LC=Symbol.for("react.portal"),AC=Symbol.for("react.fragment"),MC=Symbol.for("react.strict_mode"),PC=Symbol.for("react.profiler"),OC=Symbol.for("react.provider"),IC=Symbol.for("react.context"),DC=Symbol.for("react.forward_ref"),BC=Symbol.for("react.suspense"),FC=Symbol.for("react.memo"),NC=Symbol.for("react.lazy"),Wp=Symbol.iterator;function $C(e){return e===null||typeof e!="object"?null:(e=Wp&&e[Wp]||e["@@iterator"],typeof e=="function"?e:null)}var Wm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zm=Object.assign,Km={};function Ns(e,t,r){this.props=e,this.context=t,this.refs=Km,this.updater=r||Wm}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vm(){}Vm.prototype=Ns.prototype;function Od(e,t,r){this.props=e,this.context=t,this.refs=Km,this.updater=r||Wm}var Id=Od.prototype=new Vm;Id.constructor=Od;zm(Id,Ns.prototype);Id.isPureReactComponent=!0;var zp=Array.isArray,Gm=Object.prototype.hasOwnProperty,Dd={current:null},qm={key:!0,ref:!0,__self:!0,__source:!0};function Qm(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Gm.call(t,n)&&!qm.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),h=0;h<o;h++)l[h]=arguments[h+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:aa,type:e,key:s,ref:a,props:i,_owner:Dd.current}}function HC(e,t){return{$$typeof:aa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bd(e){return typeof e=="object"&&e!==null&&e.$$typeof===aa}function UC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Kp=/\/+/g;function yu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UC(""+e.key):t.toString(36)}function Ka(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case aa:case LC:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+yu(a,0):n,zp(i)?(r="",e!=null&&(r=e.replace(Kp,"$&/")+"/"),Ka(i,t,r,"",function(h){return h})):i!=null&&(Bd(i)&&(i=HC(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Kp,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",zp(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+yu(s,o);a+=Ka(s,t,r,l,i)}else if(l=$C(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+yu(s,o++),a+=Ka(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ca(e,t,r){if(e==null)return e;var n=[],i=0;return Ka(e,n,"","",function(s){return t.call(r,s,i++)}),n}function jC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rr={current:null},Va={transition:null},WC={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:Va,ReactCurrentOwner:Dd};function Xm(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Ca,forEach:function(e,t,r){Ca(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ca(e,function(){t++}),t},toArray:function(e){return Ca(e,function(t){return t})||[]},only:function(e){if(!Bd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=Ns;De.Fragment=AC;De.Profiler=PC;De.PureComponent=Od;De.StrictMode=MC;De.Suspense=BC;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WC;De.act=Xm;De.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zm({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Dd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Gm.call(t,l)&&!qm.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var h=0;h<l;h++)o[h]=arguments[h+2];n.children=o}return{$$typeof:aa,type:e.type,key:i,ref:s,props:n,_owner:a}};De.createContext=function(e){return e={$$typeof:IC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OC,_context:e},e.Consumer=e};De.createElement=Qm;De.createFactory=function(e){var t=Qm.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:DC,render:e}};De.isValidElement=Bd;De.lazy=function(e){return{$$typeof:NC,_payload:{_status:-1,_result:e},_init:jC}};De.memo=function(e,t){return{$$typeof:FC,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=Va.transition;Va.transition={};try{e()}finally{Va.transition=t}};De.unstable_act=Xm;De.useCallback=function(e,t){return rr.current.useCallback(e,t)};De.useContext=function(e){return rr.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return rr.current.useDeferredValue(e)};De.useEffect=function(e,t){return rr.current.useEffect(e,t)};De.useId=function(){return rr.current.useId()};De.useImperativeHandle=function(e,t,r){return rr.current.useImperativeHandle(e,t,r)};De.useInsertionEffect=function(e,t){return rr.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return rr.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return rr.current.useMemo(e,t)};De.useReducer=function(e,t,r){return rr.current.useReducer(e,t,r)};De.useRef=function(e){return rr.current.useRef(e)};De.useState=function(e){return rr.current.useState(e)};De.useSyncExternalStore=function(e,t,r){return rr.current.useSyncExternalStore(e,t,r)};De.useTransition=function(){return rr.current.useTransition()};De.version="18.3.1";jm.exports=De;var K=jm.exports;const Jm=TC(K),lh=RC({__proto__:null,default:Jm},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=K,KC=Symbol.for("react.element"),VC=Symbol.for("react.fragment"),GC=Object.prototype.hasOwnProperty,qC=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QC={key:!0,ref:!0,__self:!0,__source:!0};function Ym(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)GC.call(t,n)&&!QC.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:KC,type:e,key:s,ref:a,props:i,_owner:qC.current}}_c.Fragment=VC;_c.jsx=Ym;_c.jsxs=Ym;Um.exports=_c;var Rs=Um.exports,XC=!1;function JC(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function YC(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ZC=function(){function e(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!XC:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(YC(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=JC(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},e}(),jt="-ms-",kl="-moz-",He="-webkit-",Zm="comm",Fd="rule",Nd="decl",ew="@import",ey="@keyframes",tw="@layer",rw=Math.abs,Sc=String.fromCharCode,nw=Object.assign;function iw(e,t){return Ot(e,0)^45?(((t<<2^Ot(e,0))<<2^Ot(e,1))<<2^Ot(e,2))<<2^Ot(e,3):0}function ty(e){return e.trim()}function sw(e,t){return(e=t.exec(e))?e[0]:e}function Ue(e,t,r){return e.replace(t,r)}function ch(e,t){return e.indexOf(t)}function Ot(e,t){return e.charCodeAt(t)|0}function Io(e,t,r){return e.slice(t,r)}function wn(e){return e.length}function $d(e){return e.length}function wa(e,t){return t.push(e),e}function ow(e,t){return e.map(t).join("")}var Cc=1,Ts=1,ry=0,mr=0,St=0,$s="";function wc(e,t,r,n,i,s,a){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:Cc,column:Ts,length:a,return:""}}function Zs(e,t){return nw(wc("",null,null,"",null,null,0),e,{length:-e.length},t)}function aw(){return St}function lw(){return St=mr>0?Ot($s,--mr):0,Ts--,St===10&&(Ts=1,Cc--),St}function Ar(){return St=mr<ry?Ot($s,mr++):0,Ts++,St===10&&(Ts=1,Cc++),St}function xn(){return Ot($s,mr)}function Ga(){return mr}function la(e,t){return Io($s,e,t)}function Do(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ny(e){return Cc=Ts=1,ry=wn($s=e),mr=0,[]}function iy(e){return $s="",e}function qa(e){return ty(la(mr-1,uh(e===91?e+2:e===40?e+1:e)))}function cw(e){for(;(St=xn())&&St<33;)Ar();return Do(e)>2||Do(St)>3?"":" "}function uw(e,t){for(;--t&&Ar()&&!(St<48||St>102||St>57&&St<65||St>70&&St<97););return la(e,Ga()+(t<6&&xn()==32&&Ar()==32))}function uh(e){for(;Ar();)switch(St){case e:return mr;case 34:case 39:e!==34&&e!==39&&uh(St);break;case 40:e===41&&uh(e);break;case 92:Ar();break}return mr}function hw(e,t){for(;Ar()&&e+St!==57;)if(e+St===84&&xn()===47)break;return"/*"+la(t,mr-1)+"*"+Sc(e===47?e:Ar())}function dw(e){for(;!Do(xn());)Ar();return la(e,mr)}function fw(e){return iy(Qa("",null,null,null,[""],e=ny(e),0,[0],e))}function Qa(e,t,r,n,i,s,a,o,l){for(var h=0,g=0,p=a,m=0,w=0,C=0,y=1,v=1,d=1,c=0,f="",_=i,b=s,R=n,L=f;v;)switch(C=c,c=Ar()){case 40:if(C!=108&&Ot(L,p-1)==58){ch(L+=Ue(qa(c),"&","&\f"),"&\f")!=-1&&(d=-1);break}case 34:case 39:case 91:L+=qa(c);break;case 9:case 10:case 13:case 32:L+=cw(C);break;case 92:L+=uw(Ga()-1,7);continue;case 47:switch(xn()){case 42:case 47:wa(pw(hw(Ar(),Ga()),t,r),l);break;default:L+="/"}break;case 123*y:o[h++]=wn(L)*d;case 125*y:case 59:case 0:switch(c){case 0:case 125:v=0;case 59+g:d==-1&&(L=Ue(L,/\f/g,"")),w>0&&wn(L)-p&&wa(w>32?Gp(L+";",n,r,p-1):Gp(Ue(L," ","")+";",n,r,p-2),l);break;case 59:L+=";";default:if(wa(R=Vp(L,t,r,h,g,i,o,f,_=[],b=[],p),s),c===123)if(g===0)Qa(L,t,R,R,_,s,p,o,b);else switch(m===99&&Ot(L,3)===110?100:m){case 100:case 108:case 109:case 115:Qa(e,R,R,n&&wa(Vp(e,R,R,0,0,i,o,f,i,_=[],p),b),i,b,p,o,n?_:b);break;default:Qa(L,R,R,R,[""],b,0,o,b)}}h=g=w=0,y=d=1,f=L="",p=a;break;case 58:p=1+wn(L),w=C;default:if(y<1){if(c==123)--y;else if(c==125&&y++==0&&lw()==125)continue}switch(L+=Sc(c),c*y){case 38:d=g>0?1:(L+="\f",-1);break;case 44:o[h++]=(wn(L)-1)*d,d=1;break;case 64:xn()===45&&(L+=qa(Ar())),m=xn(),g=p=wn(f=L+=dw(Ga())),c++;break;case 45:C===45&&wn(L)==2&&(y=0)}}return s}function Vp(e,t,r,n,i,s,a,o,l,h,g){for(var p=i-1,m=i===0?s:[""],w=$d(m),C=0,y=0,v=0;C<n;++C)for(var d=0,c=Io(e,p+1,p=rw(y=a[C])),f=e;d<w;++d)(f=ty(y>0?m[d]+" "+c:Ue(c,/&\f/g,m[d])))&&(l[v++]=f);return wc(e,t,r,i===0?Fd:o,l,h,g)}function pw(e,t,r){return wc(e,t,r,Zm,Sc(aw()),Io(e,2,-2),0)}function Gp(e,t,r,n){return wc(e,t,r,Nd,Io(e,0,n),Io(e,n+1,-1),n)}function vs(e,t){for(var r="",n=$d(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function vw(e,t,r,n){switch(e.type){case tw:if(e.children.length)break;case ew:case Nd:return e.return=e.return||e.value;case Zm:return"";case ey:return e.return=e.value+"{"+vs(e.children,n)+"}";case Fd:e.value=e.props.join(",")}return wn(r=vs(e.children,n))?e.return=e.value+"{"+r+"}":""}function gw(e){var t=$d(e);return function(r,n,i,s){for(var a="",o=0;o<t;o++)a+=e[o](r,n,i,s)||"";return a}}function mw(e){return function(t){t.root||(t=t.return)&&e(t)}}function yw(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var _w=function(t,r,n){for(var i=0,s=0;i=s,s=xn(),i===38&&s===12&&(r[n]=1),!Do(s);)Ar();return la(t,mr)},Sw=function(t,r){var n=-1,i=44;do switch(Do(i)){case 0:i===38&&xn()===12&&(r[n]=1),t[n]+=_w(mr-1,r,n);break;case 2:t[n]+=qa(i);break;case 4:if(i===44){t[++n]=xn()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Sc(i)}while(i=Ar());return t},Cw=function(t,r){return iy(Sw(ny(t),r))},qp=new WeakMap,ww=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!qp.get(n))&&!i){qp.set(t,!0);for(var s=[],a=Cw(r,s),o=n.props,l=0,h=0;l<a.length;l++)for(var g=0;g<o.length;g++,h++)t.props[h]=s[l]?a[l].replace(/&\f/g,o[g]):o[g]+" "+a[l]}}},kw=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function sy(e,t){switch(iw(e,t)){case 5103:return He+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return He+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return He+e+kl+e+jt+e+e;case 6828:case 4268:return He+e+jt+e+e;case 6165:return He+e+jt+"flex-"+e+e;case 5187:return He+e+Ue(e,/(\w+).+(:[^]+)/,He+"box-$1$2"+jt+"flex-$1$2")+e;case 5443:return He+e+jt+"flex-item-"+Ue(e,/flex-|-self/,"")+e;case 4675:return He+e+jt+"flex-line-pack"+Ue(e,/align-content|flex-|-self/,"")+e;case 5548:return He+e+jt+Ue(e,"shrink","negative")+e;case 5292:return He+e+jt+Ue(e,"basis","preferred-size")+e;case 6060:return He+"box-"+Ue(e,"-grow","")+He+e+jt+Ue(e,"grow","positive")+e;case 4554:return He+Ue(e,/([^-])(transform)/g,"$1"+He+"$2")+e;case 6187:return Ue(Ue(Ue(e,/(zoom-|grab)/,He+"$1"),/(image-set)/,He+"$1"),e,"")+e;case 5495:case 3959:return Ue(e,/(image-set\([^]*)/,He+"$1$`$1");case 4968:return Ue(Ue(e,/(.+:)(flex-)?(.*)/,He+"box-pack:$3"+jt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+He+e+e;case 4095:case 3583:case 4068:case 2532:return Ue(e,/(.+)-inline(.+)/,He+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wn(e)-1-t>6)switch(Ot(e,t+1)){case 109:if(Ot(e,t+4)!==45)break;case 102:return Ue(e,/(.+:)(.+)-([^]+)/,"$1"+He+"$2-$3$1"+kl+(Ot(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ch(e,"stretch")?sy(Ue(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ot(e,t+1)!==115)break;case 6444:switch(Ot(e,wn(e)-3-(~ch(e,"!important")&&10))){case 107:return Ue(e,":",":"+He)+e;case 101:return Ue(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+He+(Ot(e,14)===45?"inline-":"")+"box$3$1"+He+"$2$3$1"+jt+"$2box$3")+e}break;case 5936:switch(Ot(e,t+11)){case 114:return He+e+jt+Ue(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return He+e+jt+Ue(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return He+e+jt+Ue(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return He+e+jt+e+e}return e}var bw=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case Nd:t.return=sy(t.value,t.length);break;case ey:return vs([Zs(t,{value:Ue(t.value,"@","@"+He)})],i);case Fd:if(t.length)return ow(t.props,function(s){switch(sw(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vs([Zs(t,{props:[Ue(s,/:(read-\w+)/,":"+kl+"$1")]})],i);case"::placeholder":return vs([Zs(t,{props:[Ue(s,/:(plac\w+)/,":"+He+"input-$1")]}),Zs(t,{props:[Ue(s,/:(plac\w+)/,":"+kl+"$1")]}),Zs(t,{props:[Ue(s,/:(plac\w+)/,jt+"input-$1")]})],i)}return""})}},xw=[bw],Ew=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(y){var v=y.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=t.stylisPlugins||xw,s={},a,o=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var v=y.getAttribute("data-emotion").split(" "),d=1;d<v.length;d++)s[v[d]]=!0;o.push(y)});var l,h=[ww,kw];{var g,p=[vw,mw(function(y){g.insert(y)})],m=gw(h.concat(i,p)),w=function(v){return vs(fw(v),m)};l=function(v,d,c,f){g=c,w(v?v+"{"+d.styles+"}":d.styles),f&&(C.inserted[d.name]=!0)}}var C={key:r,sheet:new ZC({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return C.sheet.hydrate(o),C},oy={exports:{}},Ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lt=typeof Symbol=="function"&&Symbol.for,Hd=Lt?Symbol.for("react.element"):60103,Ud=Lt?Symbol.for("react.portal"):60106,kc=Lt?Symbol.for("react.fragment"):60107,bc=Lt?Symbol.for("react.strict_mode"):60108,xc=Lt?Symbol.for("react.profiler"):60114,Ec=Lt?Symbol.for("react.provider"):60109,Rc=Lt?Symbol.for("react.context"):60110,jd=Lt?Symbol.for("react.async_mode"):60111,Tc=Lt?Symbol.for("react.concurrent_mode"):60111,Lc=Lt?Symbol.for("react.forward_ref"):60112,Ac=Lt?Symbol.for("react.suspense"):60113,Rw=Lt?Symbol.for("react.suspense_list"):60120,Mc=Lt?Symbol.for("react.memo"):60115,Pc=Lt?Symbol.for("react.lazy"):60116,Tw=Lt?Symbol.for("react.block"):60121,Lw=Lt?Symbol.for("react.fundamental"):60117,Aw=Lt?Symbol.for("react.responder"):60118,Mw=Lt?Symbol.for("react.scope"):60119;function Ir(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Hd:switch(e=e.type,e){case jd:case Tc:case kc:case xc:case bc:case Ac:return e;default:switch(e=e&&e.$$typeof,e){case Rc:case Lc:case Pc:case Mc:case Ec:return e;default:return t}}case Ud:return t}}}function ay(e){return Ir(e)===Tc}Ke.AsyncMode=jd;Ke.ConcurrentMode=Tc;Ke.ContextConsumer=Rc;Ke.ContextProvider=Ec;Ke.Element=Hd;Ke.ForwardRef=Lc;Ke.Fragment=kc;Ke.Lazy=Pc;Ke.Memo=Mc;Ke.Portal=Ud;Ke.Profiler=xc;Ke.StrictMode=bc;Ke.Suspense=Ac;Ke.isAsyncMode=function(e){return ay(e)||Ir(e)===jd};Ke.isConcurrentMode=ay;Ke.isContextConsumer=function(e){return Ir(e)===Rc};Ke.isContextProvider=function(e){return Ir(e)===Ec};Ke.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hd};Ke.isForwardRef=function(e){return Ir(e)===Lc};Ke.isFragment=function(e){return Ir(e)===kc};Ke.isLazy=function(e){return Ir(e)===Pc};Ke.isMemo=function(e){return Ir(e)===Mc};Ke.isPortal=function(e){return Ir(e)===Ud};Ke.isProfiler=function(e){return Ir(e)===xc};Ke.isStrictMode=function(e){return Ir(e)===bc};Ke.isSuspense=function(e){return Ir(e)===Ac};Ke.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===kc||e===Tc||e===xc||e===bc||e===Ac||e===Rw||typeof e=="object"&&e!==null&&(e.$$typeof===Pc||e.$$typeof===Mc||e.$$typeof===Ec||e.$$typeof===Rc||e.$$typeof===Lc||e.$$typeof===Lw||e.$$typeof===Aw||e.$$typeof===Mw||e.$$typeof===Tw)};Ke.typeOf=Ir;oy.exports=Ke;var Pw=oy.exports,ly=Pw,Ow={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Iw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cy={};cy[ly.ForwardRef]=Ow;cy[ly.Memo]=Iw;var Dw=!0;function Bw(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(n+=i+" ")}),n}var uy=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||Dw===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},Fw=function(t,r,n){uy(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s=r;do t.insert(r===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function Nw(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var $w={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Hw=/[A-Z]|^ms/g,Uw=/_EMO_([^_]+?)_([^]*?)_EMO_/g,hy=function(t){return t.charCodeAt(1)===45},Qp=function(t){return t!=null&&typeof t!="boolean"},_u=yw(function(e){return hy(e)?e:e.replace(Hw,"-$&").toLowerCase()}),Xp=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Uw,function(n,i,s){return kn={name:i,styles:s,next:kn},i})}return $w[t]!==1&&!hy(t)&&typeof r=="number"&&r!==0?r+"px":r};function Bo(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return kn={name:i.name,styles:i.styles,next:kn},i.name;var s=r;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)kn={name:a.name,styles:a.styles,next:kn},a=a.next;var o=s.styles+";";return o}return jw(e,t,r)}case"function":{if(e!==void 0){var l=kn,h=r(e);return kn=l,Bo(e,t,h)}break}}var g=r;return g}function jw(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Bo(e,t,r[i])+";";else for(var s in r){var a=r[s];if(typeof a!="object"){var o=a;Qp(o)&&(n+=_u(s)+":"+Xp(s,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&t==null)for(var l=0;l<a.length;l++)Qp(a[l])&&(n+=_u(s)+":"+Xp(s,a[l])+";");else{var h=Bo(e,t,a);switch(s){case"animation":case"animationName":{n+=_u(s)+":"+h+";";break}default:n+=s+"{"+h+"}"}}}return n}var Jp=/label:\s*([^\s;{]+)\s*(;|$)/g,kn;function Ww(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,i="";kn=void 0;var s=e[0];if(s==null||s.raw===void 0)n=!1,i+=Bo(r,t,s);else{var a=s;i+=a[0]}for(var o=1;o<e.length;o++)if(i+=Bo(r,t,e[o]),n){var l=s;i+=l[o]}Jp.lastIndex=0;for(var h="",g;(g=Jp.exec(i))!==null;)h+="-"+g[1];var p=Nw(i)+h;return{name:p,styles:i,next:kn}}var zw=function(t){return t()},Kw=lh.useInsertionEffect?lh.useInsertionEffect:!1,Vw=Kw||zw,Gw=!1,dy=K.createContext(typeof HTMLElement<"u"?Ew({key:"css"}):null);dy.Provider;var qw=function(t){return K.forwardRef(function(r,n){var i=K.useContext(dy);return t(r,i,n)})},Qw=K.createContext({}),Oc={}.hasOwnProperty,hh="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",fy=function(t,r){var n={};for(var i in r)Oc.call(r,i)&&(n[i]=r[i]);return n[hh]=t,n},Xw=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return uy(r,n,i),Vw(function(){return Fw(r,n,i)}),null},Jw=qw(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var i=e[hh],s=[n],a="";typeof e.className=="string"?a=Bw(t.registered,s,e.className):e.className!=null&&(a=e.className+" ");var o=Ww(s,void 0,K.useContext(Qw));a+=t.key+"-"+o.name;var l={};for(var h in e)Oc.call(e,h)&&h!=="css"&&h!==hh&&!Gw&&(l[h]=e[h]);return l.className=a,r&&(l.ref=r),K.createElement(K.Fragment,null,K.createElement(Xw,{cache:t,serialized:o,isStringTag:typeof i=="string"}),K.createElement(i,l))}),py=Jw,Yw=Rs.Fragment,fe=function(t,r,n){return Oc.call(r,"css")?Rs.jsx(py,fy(t,r),n):Rs.jsx(t,r,n)},vt=function(t,r,n){return Oc.call(r,"css")?Rs.jsxs(py,fy(t,r),n):Rs.jsxs(t,r,n)},Zw=Symbol.for("preact-signals");function Wd(){if(gs>1)gs--;else{for(var e,t=!1;Co!==void 0;){var r=Co;for(Co=void 0,dh++;r!==void 0;){var n=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&gy(r))try{r.c()}catch(i){t||(e=i,t=!0)}r=n}}if(dh=0,gs--,t)throw e}}var Qe=void 0,Co=void 0,gs=0,dh=0,bl=0;function vy(e){if(Qe!==void 0){var t=e.n;if(t===void 0||t.t!==Qe)return t={i:0,S:e,p:Qe.s,n:void 0,t:Qe,e:void 0,x:void 0,r:t},Qe.s!==void 0&&(Qe.s.n=t),Qe.s=t,e.n=t,32&Qe.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=Qe.s,t.n=void 0,Qe.s.n=t,Qe.s=t),t}}function Vt(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}Vt.prototype.brand=Zw;Vt.prototype.h=function(){return!0};Vt.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};Vt.prototype.U=function(e){if(this.t!==void 0){var t=e.e,r=e.x;t!==void 0&&(t.x=r,e.e=void 0),r!==void 0&&(r.e=t,e.x=void 0),e===this.t&&(this.t=r)}};Vt.prototype.subscribe=function(e){var t=this;return Kd(function(){var r=t.value,n=Qe;Qe=void 0;try{e(r)}finally{Qe=n}})};Vt.prototype.valueOf=function(){return this.value};Vt.prototype.toString=function(){return this.value+""};Vt.prototype.toJSON=function(){return this.value};Vt.prototype.peek=function(){var e=Qe;Qe=void 0;try{return this.value}finally{Qe=e}};Object.defineProperty(Vt.prototype,"value",{get:function(){var e=vy(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(dh>100)throw new Error("Cycle detected");this.v=e,this.i++,bl++,gs++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{Wd()}}}});function gt(e){return new Vt(e)}function gy(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function my(e){for(var t=e.s;t!==void 0;t=t.n){var r=t.S.n;if(r!==void 0&&(t.r=r),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function yy(e){for(var t=e.s,r=void 0;t!==void 0;){var n=t.p;t.i===-1?(t.S.U(t),n!==void 0&&(n.n=t.n),t.n!==void 0&&(t.n.p=n)):r=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=n}e.s=r}function Hs(e){Vt.call(this,void 0),this.x=e,this.s=void 0,this.g=bl-1,this.f=4}(Hs.prototype=new Vt).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===bl))return!0;if(this.g=bl,this.f|=1,this.i>0&&!gy(this))return this.f&=-2,!0;var e=Qe;try{my(this),Qe=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return Qe=e,yy(this),this.f&=-2,!0};Hs.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Vt.prototype.S.call(this,e)};Hs.prototype.U=function(e){if(this.t!==void 0&&(Vt.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};Hs.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(Hs.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=vy(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function Ic(e){return new Hs(e)}function _y(e){var t=e.u;if(e.u=void 0,typeof t=="function"){gs++;var r=Qe;Qe=void 0;try{t()}catch(n){throw e.f&=-2,e.f|=8,zd(e),n}finally{Qe=r,Wd()}}}function zd(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,_y(e)}function ek(e){if(Qe!==this)throw new Error("Out-of-order effect");yy(this),Qe=e,this.f&=-2,8&this.f&&zd(this),Wd()}function ca(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}ca.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};ca.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,_y(this),my(this),gs++;var e=Qe;return Qe=this,ek.bind(this,e)};ca.prototype.N=function(){2&this.f||(this.f|=2,this.o=Co,Co=this)};ca.prototype.d=function(){this.f|=8,1&this.f||zd(this)};function Kd(e){var t=new ca(e);try{t.c()}catch(r){throw t.d(),r}return t.d.bind(t)}var Sy={exports:{}},Cy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=K;function tk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rk=typeof Object.is=="function"?Object.is:tk,nk=Ls.useState,ik=Ls.useEffect,sk=Ls.useLayoutEffect,ok=Ls.useDebugValue;function ak(e,t){var r=t(),n=nk({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return sk(function(){i.value=r,i.getSnapshot=t,Su(i)&&s({inst:i})},[e,r,t]),ik(function(){return Su(i)&&s({inst:i}),e(function(){Su(i)&&s({inst:i})})},[e]),ok(r),r}function Su(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rk(e,r)}catch{return!0}}function lk(e,t){return t()}var ck=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lk:ak;Cy.useSyncExternalStore=Ls.useSyncExternalStore!==void 0?Ls.useSyncExternalStore:ck;Sy.exports=Cy;var uk=Sy.exports,wy={};/**
 * @license React
 * react-jsx-dev-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk=Symbol.for("react.fragment");wy.Fragment=hk;wy.jsxDEV=void 0;var dk=K.version.split(".").map(Number),ky=[],fk=Symbol.for(dk[0]>=19?"react.transitional.element":"react.element"),Yp=function(){},Ai,by=Symbol.dispose||Symbol.for("Symbol.dispose");function Cu(e,t){var r=t.effect.S();return Ai=t,pk.bind(t,e,r)}function pk(e,t){t(),Ai=e}var Zp,fh;(Zp={u:0,effect:{s:void 0,c:function(){},S:function(){return Yp},d:function(){}},subscribe:function(){return Yp},getSnapshot:function(){return 0},S:function(){},f:function(){}})[by]=function(){};var vk=Promise.prototype.then.bind(Promise.resolve());function gk(){fh||(fh=vk(mk))}function mk(){var e;fh=void 0,(e=Ai)==null||e.f()}function yk(e){gk();var t=K.useRef();t.current==null&&(t.current=function(n){var i,s,a,o,l=0,h=Kd(function(){s=this});return s.c=function(){l=l+1|0,o&&o()},(i={u:n,effect:s,subscribe:function(g){return o=g,function(){l=l+1|0,o=void 0,h()}},getSnapshot:function(){return l},S:function(){if(Ai!=null){var g=Ai.u,p=this.u;g==0&&p==0||g==0&&p==1?(Ai.f(),a=Cu(void 0,this)):g==1&&p==0||g==2&&p==0||(a=Cu(Ai,this))}else a=Cu(void 0,this)},f:function(){var g=a;a=void 0,g?.()}})[by]=function(){this.f()},i}(e));var r=t.current;return uk.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot),r.S(),r}Object.defineProperties(Vt.prototype,{$$typeof:{configurable:!0,value:fk},type:{configurable:!0,value:function(e){var t=e.data,r=yk(1);try{return t.value}finally{r.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});function Gr(e){var t=K.useRef(e);return t.current=e,K.useMemo(function(){return Ic(function(){return t.current()})},ky)}function Vd(e){var t=K.useRef(e);t.current=e,K.useEffect(function(){return Kd(function(){return t.current()})},ky)}const Ce={NORMAL:"normal",EDIT:"edit",GITHUB:"github",TREE:"tree",TUTORIAL:"tutorial",GAME:"game"},ts={terminal:"terminal",line:"terminal-line",output:"terminal-output",input:"terminal-input",terminalGame:"terminal-game",prompt:"prompt",head:"head",tail:"tail",logPrefix:"log-prefix",logTime:"log-time",nextChars:"next-chars",nextCharsRate:"next-chars-rate",wholePhraseChords:"wholePhraseChords",chordImageHolder:"chord-image-holder",testArea:"testArea",svgCharacter:"svgCharacter",testMode:"testMode",chordified:"chordified",pangrams:"pangrams",chordSection:"chord-section",voiceMode:"voiceMode",videoSection:"video-section",allChordsList:"allChordsList",errorCount:"errorCount",phrase:"phrase",timer:"timer",timerSvg:"timerSvg",charTimes:"charTimes",wpm:"wpm"},yr={charTime:"char-time",command:"command",commandHistory:"commandHistory",phrasesAchieved:"phrasesAchieved",targetWPM:"targetWPM",currentCommand:"currentCommand",repoNames:"repoNames",username:"userName",gitHubUsername:"githubUserName",editContent:"editContent",completedTutorials:"completed-tutorials",tutorialState:"tutorial-state"},qe=[{value:`The most important key is the Return (ENTER) key. Press the thumb tip and release. You'll use this key to enter every command.

NOTE: Press enter to reset and redo any tutorial steps.`,displayAs:"Tutorial",key:"\r"},{value:"Type `fdsa` & Enter. Notice that it requires only a finger-pinch and release for each character.",displayAs:"Tutorial",key:"fdsa"},{value:"Type `jkl;`. Notice that it requires only a finger-grasp followed by a release.",displayAs:"Tutorial",key:"jkl;",tutorialGroup:"single-click"},{key:"first-eight",displayAs:"Game",value:"all sad lads ask dad; alas fads fall",tutorialGroup:"single-click"},{value:"Press the thumb tip followed by a finger tip to type numbers 0-4",displayAs:"Tutorial",key:"01234"},{value:"Press the thumb tip followed by a finger tip to type numbers 5-9",displayAs:"Tutorial",key:"56789",tutorialGroup:"numbers"},{key:"numbers",displayAs:"Game",value:"0123 4567 8901 2345 6789 0987",tutorialGroup:"numbers"},{value:`Characters are only entered when the keys are released. For example, when you grasp the thumb and release it a space is entered.

However, when you HOLD a grasp of your thumb it activates the shift key. Use Shift to type FDSA in uppercase letters. Remember to release your grip after each character.`,displayAs:"Tutorial",key:"FDSA"},{value:`These two characters complete the traditional home-row keys, but require two finger keystrokes similar to numbers. 

Notice that both actions start from the middle finger and end on the index finger. G uses 2 pinches. H uses 2 grasps, like their home-row counterparts.`,displayAs:"Tutorial",key:"gh",tutorialGroup:"home-row"},{key:"ask",displayAs:"Game",value:"All lads had flasks as glad gals ask halls; all had a glass",tutorialGroup:"home-row"},{key:"gallant",displayAs:"Game",value:"A gallant lad; a glass",tutorialGroup:"home-row"}];qe.filter(e=>e.displayAs==="Tutorial").map(e=>e.key);const Re={AccessToken:"AccessToken",RefreshToken:"RefreshToken",IdToken:"IdToken",ExpiresAt:"ExpiresAt",ExpiresIn:"ExpiresIn",GithubUsername:"githubUsername"};var mi=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.SILENT=4]="SILENT",e))(mi||{});class _k{config;constructor(t={}){this.config={level:t.level??1,prefix:t.prefix??"HandTerm",logToConsole:t.logToConsole??!0,logToFile:t.logToFile??!1}}log(t,r,...n){if(this.config.level!==void 0&&t<this.config.level)return;const s=`[${new Date().toISOString()}] [${this.config.prefix}] [${mi[t]}] ${r}`;this.config.logToConsole===!0&&this.safeConsoleLog(t,s,...n),this.config.logToFile===!0&&this.writeToLogFile(s,...n)}safeConsoleLog(t,r,...n){if(typeof window<"u"&&window.console)switch(t){case 0:window.console.log(r,...n);break;case 1:window.console.info(r,...n);break;case 2:window.console.warn(r,...n);break;case 3:window.console.error(r,...n);break}}writeToLogFile(t,...r){}debug(t,...r){this.log(0,t,...r)}info(t,...r){this.log(1,t,...r)}warn(t,...r){this.log(2,t,...r)}error(t,...r){this.log(3,t,...r)}}function Gt(e){return new _k(e)}function Dc({key:e,signal:t,serialize:r=JSON.stringify,deserialize:n=JSON.parse}){const i=()=>{try{const l=(typeof localStorage<"u"?localStorage:typeof window<"u"&&window.localStorage?window.localStorage:{getItem:()=>null,setItem:()=>{}}).getItem(e);l!=null&&(t.value=n(l))}catch(o){console.warn("Failed to access storage:",o)}},s=o=>{console.log(`[persistToLocalStorage] key: ${e}, value:`,o),e=="completed-tutorials"&&console.log("Completing tutorial",o),queueMicrotask(()=>{(typeof localStorage<"u"?localStorage:typeof window<"u"&&window.localStorage?window.localStorage:{getItem:()=>null,setItem:()=>{}}).setItem(e,r(o))})};return i(),{signal:t,update:o=>{typeof o=="function"?t.value=o(t.value):t.value=o,s(t.value)}}}function Pt(e=window.location.toString()){const t=new URL(e);return{activityKey:Sk(t.searchParams.get("activity")??""),contentKey:decodeURIComponent(t.searchParams.get("key")??""),groupKey:t.searchParams.get("group")??null,clearParams:t.searchParams.has("clearParams")}}function Sk(e){const t=(e??"").toUpperCase();return Ce[t]??Ce.NORMAL}function Ck(){const e=Pt();e.activityKey&&e.activityKey!==Ce.NORMAL&&window.dispatchEvent(new CustomEvent("locationchange",{detail:{activity:e.activityKey,key:e.contentKey,group:e.groupKey}}))}function Et(e,t=!1){const r=typeof t=="boolean"?t:t.forceClear??!1,n=typeof t=="boolean"?!1:t.replace??!1,i=typeof t=="boolean"?!1:t.skipTutorial??!1,s=e.activityKey??Ce.NORMAL,a=e.contentKey!=null?e.contentKey:null,o=e.groupKey??null,l=e.clearParams??!1,h=window.location.pathname.replace(/\/+/g,"/").replace(/\/+$/,""),g=window.location.origin+(h||"/"),p=new URL(g);if(s===Ce.NORMAL||l||r||i){p.search="",window.history.replaceState({},"",p.toString()),window.dispatchEvent(new CustomEvent("locationchange",{detail:{activity:Ce.NORMAL,key:null,group:null,clearParams:!0}})),window.location.search&&window.location.reload();return}else p.searchParams.set("activity",s.toLowerCase()),a!=null?p.searchParams.set("key",encodeURIComponent(a)):p.searchParams.delete("key"),o!=null?p.searchParams.set("group",o):p.searchParams.delete("group"),l?p.searchParams.set("clearParams","true"):p.searchParams.delete("clearParams");console.log(`NAVIGATING to: ${p.search.toString()}`);const m=l||r||i||n?"replaceState":"pushState";window.history[m]({},"",p.toString()),window.dispatchEvent(new CustomEvent("locationchange",{detail:{activity:s,key:a,group:o,clearParams:l}}))}const wk=Gt({prefix:"AppSignals",level:mi.DEBUG}),kk="current-output",Fe=gt(Ce.NORMAL),bk=gt(null),wo=gt(!1),ms=gt(!1),ys=gt(!1),Fo=gt(""),Xn=gt(""),Gd=gt(""),Xa=e=>{ys.value=e},xy=e=>{Gd.value=e},Zr=e=>{ms.value=e},xl=e=>{Fo.value=e},ev=e=>{Xn.value=e},{signal:El,update:xk}=Dc({key:"bypassTutorialKey",signal:gt(!1),serialize:e=>JSON.stringify(e),deserialize:e=>JSON.parse(e)}),{signal:Ek,update:Rk}=Dc({key:kk,signal:gt([]),serialize:e=>JSON.stringify(e),deserialize:e=>JSON.parse(e)});Ic(()=>Fe.value===Ce.GAME);Ic(()=>Fe.value===Ce.TUTORIAL);const Ey=e=>{Fe.value=e,wk.debug(Fe.value),Et({activityKey:e,contentKey:null,groupKey:null})},tv=e=>{Rk(t=>{if(e.sensitive!=null&&e.command!=null){const n={...e.command,args:e.command.args.map((i,s)=>s===0?i:"*".repeat(i.length))};e={...e,command:n}}return[...t,e].slice(-3)})},Tk=e=>{bk.value=e},Mn=gt(!1),Lk=gt(null),Hr=e=>{Mn.value=e},Ak=e=>{Lk.value=e};typeof window<"u"&&(window.setActivity=Ey,window.ActivityType=Ce);const Mk={name:"bypass",description:"Toggle tutorial bypass mode for testing",execute:(e,t)=>{const r=!El.value;return xk(r),r&&(Fe.value=Ce.NORMAL,Et({activityKey:Ce.NORMAL,contentKey:null,groupKey:null})),Promise.resolve({status:200,message:`Bypass mode ${r?"enabled":"disabled"}. ${r?"You are now in NORMAL mode.":"Tutorial mode will resume on next page load."}`})}},Pk=Object.freeze(Object.defineProperty({__proto__:null,BypassCommand:Mk},Symbol.toStringTag,{value:"Module"})),zr=Gt({prefix:"tutorialSignals"}),Ry="completed-tutorials",{signal:oi,update:qd}=Dc({key:Ry,signal:gt(new Set),serialize:e=>JSON.stringify([...e]),deserialize:e=>new Set(JSON.parse(e))}),Jt=gt(null),en=()=>{const e=qe.filter(t=>t.displayAs==="Tutorial").find(t=>!oi.value.has(t.key));return zr.debug("Getting next tutorial:",{nextTutorial:e,completedTutorials:[...oi.value]}),e??null},As=e=>{zr.debug("Setting next tutorial:",e),Jt.value=e},Ok=()=>{try{zr.debug("Loading initial tutorial state");const e=localStorage.getItem(Ry);e!=null?(zr.debug("Found stored tutorials:",e),oi.value=new Set(JSON.parse(e))):(zr.debug("No stored tutorials found - initializing new state"),oi.value=new Set);const t=en();zr.debug("Initial tutorial state:",{nextTutorial:t,completedTutorials:[...oi.value]}),t!=null&&As(t)}catch(e){zr.error("Error loading tutorial state:",e),ph()}};setTimeout(Ok,100);Ic(()=>[...oi.value]);const rv=e=>{zr.debug("Setting completed tutorial:",{tutorialKey:e,currentTutorial:Jt.value}),qd(r=>new Set(r).add(e));const t=en();zr.debug("Next tutorial after completion:",t),As(t)},ph=()=>{zr.debug("Resetting completed tutorials"),qd(new Set);const e=en();zr.debug("First tutorial after reset:",e),As(e)},Ik=()=>{zr.debug("Completing all tutorials");const e=qe.filter(t=>t.displayAs==="Tutorial").map(t=>t.key);qd(new Set(e)),As(null),Fe.value=Ce.NORMAL},Dk=Gt({prefix:"CompleteCommand"}),Bk={name:"complete",description:"Mark tutorials as completed",switches:{},execute:async(e,t)=>{try{return Ik(),Et({activityKey:Ce.NORMAL,contentKey:null,groupKey:null}),Promise.resolve({status:200,message:"Tutorial completion status saved successfully"})}catch(r){return Dk.error("Complete command error:",r),Promise.resolve({status:500,message:"Failed to save tutorial completion status"})}}},Fk=Object.freeze(Object.defineProperty({__proto__:null,CompleteCommand:Bk},Symbol.toStringTag,{value:"Module"}));function Ty(e,t){return function(){return e.apply(t,arguments)}}const{toString:Nk}=Object.prototype,{getPrototypeOf:Qd}=Object,Bc=(e=>t=>{const r=Nk.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ln=e=>(e=e.toLowerCase(),t=>Bc(t)===e),Fc=e=>t=>typeof t===e,{isArray:Us}=Array,No=Fc("undefined");function $k(e){return e!==null&&!No(e)&&e.constructor!==null&&!No(e.constructor)&&Mr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ly=ln("ArrayBuffer");function Hk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ly(e.buffer),t}const Uk=Fc("string"),Mr=Fc("function"),Ay=Fc("number"),Nc=e=>e!==null&&typeof e=="object",jk=e=>e===!0||e===!1,Ja=e=>{if(Bc(e)!=="object")return!1;const t=Qd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Wk=ln("Date"),zk=ln("File"),Kk=ln("Blob"),Vk=ln("FileList"),Gk=e=>Nc(e)&&Mr(e.pipe),qk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Mr(e.append)&&((t=Bc(e))==="formdata"||t==="object"&&Mr(e.toString)&&e.toString()==="[object FormData]"))},Qk=ln("URLSearchParams"),[Xk,Jk,Yk,Zk]=["ReadableStream","Request","Response","Headers"].map(ln),eb=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ua(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Us(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let o;for(n=0;n<a;n++)o=s[n],t.call(null,e[o],o,e)}}function My(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Mi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:$m,Py=e=>!No(e)&&e!==Mi;function vh(){const{caseless:e}=Py(this)&&this||{},t={},r=(n,i)=>{const s=e&&My(t,i)||i;Ja(t[s])&&Ja(n)?t[s]=vh(t[s],n):Ja(n)?t[s]=vh({},n):Us(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ua(arguments[n],r);return t}const tb=(e,t,r,{allOwnKeys:n}={})=>(ua(t,(i,s)=>{r&&Mr(i)?e[s]=Ty(i,r):e[s]=i},{allOwnKeys:n}),e),rb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nb=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ib=(e,t,r,n)=>{let i,s,a;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!n||n(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=r!==!1&&Qd(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},sb=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},ob=e=>{if(!e)return null;if(Us(e))return e;let t=e.length;if(!Ay(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},ab=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Qd(Uint8Array)),lb=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},cb=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},ub=ln("HTMLFormElement"),hb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),nv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),db=ln("RegExp"),Oy=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ua(r,(i,s)=>{let a;(a=t(i,s,e))!==!1&&(n[s]=a||i)}),Object.defineProperties(e,n)},fb=e=>{Oy(e,(t,r)=>{if(Mr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Mr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},pb=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Us(e)?n(e):n(String(e).split(t)),r},vb=()=>{},gb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,wu="abcdefghijklmnopqrstuvwxyz",iv="0123456789",Iy={DIGIT:iv,ALPHA:wu,ALPHA_DIGIT:wu+wu.toUpperCase()+iv},mb=(e=16,t=Iy.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function yb(e){return!!(e&&Mr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const _b=e=>{const t=new Array(10),r=(n,i)=>{if(Nc(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=Us(n)?[]:{};return ua(n,(a,o)=>{const l=r(a,i+1);!No(l)&&(s[o]=l)}),t[i]=void 0,s}}return n};return r(e,0)},Sb=ln("AsyncFunction"),Cb=e=>e&&(Nc(e)||Mr(e))&&Mr(e.then)&&Mr(e.catch),Dy=((e,t)=>e?setImmediate:t?((r,n)=>(Mi.addEventListener("message",({source:i,data:s})=>{i===Mi&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Mi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Mr(Mi.postMessage)),wb=typeof queueMicrotask<"u"?queueMicrotask.bind(Mi):typeof wl<"u"&&wl.nextTick||Dy,ne={isArray:Us,isArrayBuffer:Ly,isBuffer:$k,isFormData:qk,isArrayBufferView:Hk,isString:Uk,isNumber:Ay,isBoolean:jk,isObject:Nc,isPlainObject:Ja,isReadableStream:Xk,isRequest:Jk,isResponse:Yk,isHeaders:Zk,isUndefined:No,isDate:Wk,isFile:zk,isBlob:Kk,isRegExp:db,isFunction:Mr,isStream:Gk,isURLSearchParams:Qk,isTypedArray:ab,isFileList:Vk,forEach:ua,merge:vh,extend:tb,trim:eb,stripBOM:rb,inherits:nb,toFlatObject:ib,kindOf:Bc,kindOfTest:ln,endsWith:sb,toArray:ob,forEachEntry:lb,matchAll:cb,isHTMLForm:ub,hasOwnProperty:nv,hasOwnProp:nv,reduceDescriptors:Oy,freezeMethods:fb,toObjectSet:pb,toCamelCase:hb,noop:vb,toFiniteNumber:gb,findKey:My,global:Mi,isContextDefined:Py,ALPHABET:Iy,generateString:mb,isSpecCompliantForm:yb,toJSONObject:_b,isAsyncFn:Sb,isThenable:Cb,setImmediate:Dy,asap:wb};function Ae(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ne.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const By=Ae.prototype,Fy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Fy[e]={value:e}});Object.defineProperties(Ae,Fy);Object.defineProperty(By,"isAxiosError",{value:!0});Ae.from=(e,t,r,n,i,s)=>{const a=Object.create(By);return ne.toFlatObject(e,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Ae.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const kb=null;function gh(e){return ne.isPlainObject(e)||ne.isArray(e)}function Ny(e){return ne.endsWith(e,"[]")?e.slice(0,-2):e}function sv(e,t,r){return e?e.concat(t).map(function(i,s){return i=Ny(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function bb(e){return ne.isArray(e)&&!e.some(gh)}const xb=ne.toFlatObject(ne,{},null,function(t){return/^is[A-Z]/.test(t)});function $c(e,t,r){if(!ne.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!ne.isUndefined(v[y])});const n=r.metaTokens,i=r.visitor||g,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(t);if(!ne.isFunction(i))throw new TypeError("visitor must be a function");function h(C){if(C===null)return"";if(ne.isDate(C))return C.toISOString();if(!l&&ne.isBlob(C))throw new Ae("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(C)||ne.isTypedArray(C)?l&&typeof Blob=="function"?new Blob([C]):Nm.from(C):C}function g(C,y,v){let d=C;if(C&&!v&&typeof C=="object"){if(ne.endsWith(y,"{}"))y=n?y:y.slice(0,-2),C=JSON.stringify(C);else if(ne.isArray(C)&&bb(C)||(ne.isFileList(C)||ne.endsWith(y,"[]"))&&(d=ne.toArray(C)))return y=Ny(y),d.forEach(function(f,_){!(ne.isUndefined(f)||f===null)&&t.append(a===!0?sv([y],_,s):a===null?y:y+"[]",h(f))}),!1}return gh(C)?!0:(t.append(sv(v,y,s),h(C)),!1)}const p=[],m=Object.assign(xb,{defaultVisitor:g,convertValue:h,isVisitable:gh});function w(C,y){if(!ne.isUndefined(C)){if(p.indexOf(C)!==-1)throw Error("Circular reference detected in "+y.join("."));p.push(C),ne.forEach(C,function(d,c){(!(ne.isUndefined(d)||d===null)&&i.call(t,d,ne.isString(c)?c.trim():c,y,m))===!0&&w(d,y?y.concat(c):[c])}),p.pop()}}if(!ne.isObject(e))throw new TypeError("data must be an object");return w(e),t}function ov(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Xd(e,t){this._pairs=[],e&&$c(e,this,t)}const $y=Xd.prototype;$y.append=function(t,r){this._pairs.push([t,r])};$y.toString=function(t){const r=t?function(n){return t.call(this,n,ov)}:ov;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Eb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Hy(e,t,r){if(!t)return e;const n=r&&r.encode||Eb;ne.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=ne.isURLSearchParams(t)?t.toString():new Xd(t,r).toString(n),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class av{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ne.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Uy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rb=typeof URLSearchParams<"u"?URLSearchParams:Xd,Tb=typeof FormData<"u"?FormData:null,Lb=typeof Blob<"u"?Blob:null,Ab={isBrowser:!0,classes:{URLSearchParams:Rb,FormData:Tb,Blob:Lb},protocols:["http","https","file","blob","url","data"]},Jd=typeof window<"u"&&typeof document<"u",mh=typeof navigator=="object"&&navigator||void 0,Mb=Jd&&(!mh||["ReactNative","NativeScript","NS"].indexOf(mh.product)<0),Pb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ob=Jd&&window.location.href||"http://localhost",Ib=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jd,hasStandardBrowserEnv:Mb,hasStandardBrowserWebWorkerEnv:Pb,navigator:mh,origin:Ob},Symbol.toStringTag,{value:"Module"})),zt={...Ib,...Ab};function Db(e,t){return $c(e,new zt.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return zt.isNode&&ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function Bb(e){return ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Fb(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function jy(e){function t(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&ne.isArray(i)?i.length:a,l?(ne.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!ne.isObject(i[a]))&&(i[a]=[]),t(r,n,i[a],s)&&ne.isArray(i[a])&&(i[a]=Fb(i[a])),!o)}if(ne.isFormData(e)&&ne.isFunction(e.entries)){const r={};return ne.forEachEntry(e,(n,i)=>{t(Bb(n),i,r,0)}),r}return null}function Nb(e,t,r){if(ne.isString(e))try{return(t||JSON.parse)(e),ne.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const ha={transitional:Uy,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=ne.isObject(t);if(s&&ne.isHTMLForm(t)&&(t=new FormData(t)),ne.isFormData(t))return i?JSON.stringify(jy(t)):t;if(ne.isArrayBuffer(t)||ne.isBuffer(t)||ne.isStream(t)||ne.isFile(t)||ne.isBlob(t)||ne.isReadableStream(t))return t;if(ne.isArrayBufferView(t))return t.buffer;if(ne.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Db(t,this.formSerializer).toString();if((o=ne.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return $c(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Nb(t)):t}],transformResponse:[function(t){const r=this.transitional||ha.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ne.isResponse(t)||ne.isReadableStream(t))return t;if(t&&ne.isString(t)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?Ae.from(o,Ae.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zt.classes.FormData,Blob:zt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],e=>{ha.headers[e]={}});const $b=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hb=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||t[r]&&$b[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},lv=Symbol("internals");function eo(e){return e&&String(e).trim().toLowerCase()}function Ya(e){return e===!1||e==null?e:ne.isArray(e)?e.map(Ya):String(e)}function Ub(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const jb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ku(e,t,r,n,i){if(ne.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!ne.isString(t)){if(ne.isString(n))return t.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(t)}}function Wb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function zb(e,t){const r=ne.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,a){return this[n].call(this,t,i,s,a)},configurable:!0})})}class fr{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(o,l,h){const g=eo(l);if(!g)throw new Error("header name must be a non-empty string");const p=ne.findKey(i,g);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||l]=Ya(o))}const a=(o,l)=>ne.forEach(o,(h,g)=>s(h,g,l));if(ne.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(ne.isString(t)&&(t=t.trim())&&!jb(t))a(Hb(t),r);else if(ne.isHeaders(t))for(const[o,l]of t.entries())s(l,o,n);else t!=null&&s(r,t,n);return this}get(t,r){if(t=eo(t),t){const n=ne.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return Ub(i);if(ne.isFunction(r))return r.call(this,i,n);if(ne.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=eo(t),t){const n=ne.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||ku(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(a){if(a=eo(a),a){const o=ne.findKey(n,a);o&&(!r||ku(n,n[o],o,r))&&(delete n[o],i=!0)}}return ne.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||ku(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return ne.forEach(this,(i,s)=>{const a=ne.findKey(n,s);if(a){r[a]=Ya(i),delete r[s];return}const o=t?Wb(s):String(s).trim();o!==s&&delete r[s],r[o]=Ya(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ne.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[lv]=this[lv]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=eo(a);n[o]||(zb(i,a),n[o]=!0)}return ne.isArray(t)?t.forEach(s):s(t),this}}fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(fr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ne.freezeMethods(fr);function bu(e,t){const r=this||ha,n=t||r,i=fr.from(n.headers);let s=n.data;return ne.forEach(e,function(o){s=o.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Wy(e){return!!(e&&e.__CANCEL__)}function js(e,t,r){Ae.call(this,e??"canceled",Ae.ERR_CANCELED,t,r),this.name="CanceledError"}ne.inherits(js,Ae,{__CANCEL__:!0});function zy(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ae("Request failed with status code "+r.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Kb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Vb(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,a;return t=t!==void 0?t:1e3,function(l){const h=Date.now(),g=n[s];a||(a=h),r[i]=l,n[i]=h;let p=s,m=0;for(;p!==i;)m+=r[p++],p=p%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),h-a<t)return;const w=g&&h-g;return w?Math.round(m*1e3/w):void 0}}function Gb(e,t){let r=0,n=1e3/t,i,s;const a=(h,g=Date.now())=>{r=g,i=null,s&&(clearTimeout(s),s=null),e.apply(null,h)};return[(...h)=>{const g=Date.now(),p=g-r;p>=n?a(h,g):(i=h,s||(s=setTimeout(()=>{s=null,a(i)},n-p)))},()=>i&&a(i)]}const Rl=(e,t,r=3)=>{let n=0;const i=Vb(50,250);return Gb(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,h=i(l),g=a<=o;n=a;const p={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:h||void 0,estimated:h&&o&&g?(o-a)/h:void 0,event:s,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(p)},r)},cv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},uv=e=>(...t)=>ne.asap(()=>e(...t)),qb=zt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,zt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(zt.origin),zt.navigator&&/(msie|trident)/i.test(zt.navigator.userAgent)):()=>!0,Qb=zt.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const a=[e+"="+encodeURIComponent(t)];ne.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),ne.isString(n)&&a.push("path="+n),ne.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Jb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ky(e,t){return e&&!Xb(t)?Jb(e,t):t}const hv=e=>e instanceof fr?{...e}:e;function Hi(e,t){t=t||{};const r={};function n(h,g,p,m){return ne.isPlainObject(h)&&ne.isPlainObject(g)?ne.merge.call({caseless:m},h,g):ne.isPlainObject(g)?ne.merge({},g):ne.isArray(g)?g.slice():g}function i(h,g,p,m){if(ne.isUndefined(g)){if(!ne.isUndefined(h))return n(void 0,h,p,m)}else return n(h,g,p,m)}function s(h,g){if(!ne.isUndefined(g))return n(void 0,g)}function a(h,g){if(ne.isUndefined(g)){if(!ne.isUndefined(h))return n(void 0,h)}else return n(void 0,g)}function o(h,g,p){if(p in t)return n(h,g);if(p in e)return n(void 0,h)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(h,g,p)=>i(hv(h),hv(g),p,!0)};return ne.forEach(Object.keys(Object.assign({},e,t)),function(g){const p=l[g]||i,m=p(e[g],t[g],g);ne.isUndefined(m)&&p!==o||(r[g]=m)}),r}const Vy=e=>{const t=Hi({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=t;t.headers=a=fr.from(a),t.url=Hy(Ky(t.baseURL,t.url),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(ne.isFormData(r)){if(zt.hasStandardBrowserEnv||zt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[h,...g]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([h||"multipart/form-data",...g].join("; "))}}if(zt.hasStandardBrowserEnv&&(n&&ne.isFunction(n)&&(n=n(t)),n||n!==!1&&qb(t.url))){const h=i&&s&&Qb.read(s);h&&a.set(i,h)}return t},Yb=typeof XMLHttpRequest<"u",Zb=Yb&&function(e){return new Promise(function(r,n){const i=Vy(e);let s=i.data;const a=fr.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:h}=i,g,p,m,w,C;function y(){w&&w(),C&&C(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function d(){if(!v)return;const f=fr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:f,config:e,request:v};zy(function(L){r(L),y()},function(L){n(L),y()},b),v=null}"onloadend"in v?v.onloadend=d:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(d)},v.onabort=function(){v&&(n(new Ae("Request aborted",Ae.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new Ae("Network Error",Ae.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const b=i.transitional||Uy;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new Ae(_,b.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,e,v)),v=null},s===void 0&&a.setContentType(null),"setRequestHeader"in v&&ne.forEach(a.toJSON(),function(_,b){v.setRequestHeader(b,_)}),ne.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),o&&o!=="json"&&(v.responseType=i.responseType),h&&([m,C]=Rl(h,!0),v.addEventListener("progress",m)),l&&v.upload&&([p,w]=Rl(l),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(g=f=>{v&&(n(!f||f.type?new js(null,e,v):f),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const c=Kb(i.url);if(c&&zt.protocols.indexOf(c)===-1){n(new Ae("Unsupported protocol "+c+":",Ae.ERR_BAD_REQUEST,e));return}v.send(s||null)})},ex=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(h){if(!i){i=!0,o();const g=h instanceof Error?h:this.reason;n.abort(g instanceof Ae?g:new js(g instanceof Error?g.message:g))}};let a=t&&setTimeout(()=>{a=null,s(new Ae(`timeout ${t} of ms exceeded`,Ae.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),e=null)};e.forEach(h=>h.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>ne.asap(o),l}},tx=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},rx=async function*(e,t){for await(const r of nx(e))yield*tx(r,t)},nx=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},dv=(e,t,r,n)=>{const i=rx(e,t);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:h,value:g}=await i.next();if(h){o(),l.close();return}let p=g.byteLength;if(r){let m=s+=p;r(m)}l.enqueue(new Uint8Array(g))}catch(h){throw o(h),h}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Hc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Gy=Hc&&typeof ReadableStream=="function",ix=Hc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),qy=(e,...t)=>{try{return!!e(...t)}catch{return!1}},sx=Gy&&qy(()=>{let e=!1;const t=new Request(zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),fv=64*1024,yh=Gy&&qy(()=>ne.isReadableStream(new Response("").body)),Tl={stream:yh&&(e=>e.body)};Hc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Tl[t]&&(Tl[t]=ne.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Ae(`Response type '${t}' is not supported`,Ae.ERR_NOT_SUPPORT,n)})})})(new Response);const ox=async e=>{if(e==null)return 0;if(ne.isBlob(e))return e.size;if(ne.isSpecCompliantForm(e))return(await new Request(zt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(e)||ne.isArrayBuffer(e))return e.byteLength;if(ne.isURLSearchParams(e)&&(e=e+""),ne.isString(e))return(await ix(e)).byteLength},ax=async(e,t)=>{const r=ne.toFiniteNumber(e.getContentLength());return r??ox(t)},lx=Hc&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:h,headers:g,withCredentials:p="same-origin",fetchOptions:m}=Vy(e);h=h?(h+"").toLowerCase():"text";let w=ex([i,s&&s.toAbortSignal()],a),C;const y=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let v;try{if(l&&sx&&r!=="get"&&r!=="head"&&(v=await ax(g,n))!==0){let b=new Request(t,{method:"POST",body:n,duplex:"half"}),R;if(ne.isFormData(n)&&(R=b.headers.get("content-type"))&&g.setContentType(R),b.body){const[L,x]=cv(v,Rl(uv(l)));n=dv(b.body,fv,L,x)}}ne.isString(p)||(p=p?"include":"omit");const d="credentials"in Request.prototype;C=new Request(t,{...m,signal:w,method:r.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:d?p:void 0});let c=await fetch(C);const f=yh&&(h==="stream"||h==="response");if(yh&&(o||f&&y)){const b={};["status","statusText","headers"].forEach(I=>{b[I]=c[I]});const R=ne.toFiniteNumber(c.headers.get("content-length")),[L,x]=o&&cv(R,Rl(uv(o),!0))||[];c=new Response(dv(c.body,fv,L,()=>{x&&x(),y&&y()}),b)}h=h||"text";let _=await Tl[ne.findKey(Tl,h)||"text"](c,e);return!f&&y&&y(),await new Promise((b,R)=>{zy(b,R,{data:_,headers:fr.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:C})})}catch(d){throw y&&y(),d&&d.name==="TypeError"&&/fetch/i.test(d.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,e,C),{cause:d.cause||d}):Ae.from(d,d&&d.code,e,C)}}),_h={http:kb,xhr:Zb,fetch:lx};ne.forEach(_h,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const pv=e=>`- ${e}`,cx=e=>ne.isFunction(e)||e===null||e===!1,Qy={getAdapter:e=>{e=ne.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let s=0;s<t;s++){r=e[s];let a;if(n=r,!cx(r)&&(n=_h[(a=String(r)).toLowerCase()],n===void 0))throw new Ae(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?s.length>1?`since :
`+s.map(pv).join(`
`):" "+pv(s[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:_h};function xu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new js(null,e)}function vv(e){return xu(e),e.headers=fr.from(e.headers),e.data=bu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Qy.getAdapter(e.adapter||ha.adapter)(e).then(function(n){return xu(e),n.data=bu.call(e,e.transformResponse,n),n.headers=fr.from(n.headers),n},function(n){return Wy(n)||(xu(e),n&&n.response&&(n.response.data=bu.call(e,e.transformResponse,n.response),n.response.headers=fr.from(n.response.headers))),Promise.reject(n)})}const Xy="1.7.9",Uc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Uc[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const gv={};Uc.transitional=function(t,r,n){function i(s,a){return"[Axios v"+Xy+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(t===!1)throw new Ae(i(a," has been removed"+(r?" in "+r:"")),Ae.ERR_DEPRECATED);return r&&!gv[a]&&(gv[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,a,o):!0}};Uc.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function ux(e,t,r){if(typeof e!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],a=t[s];if(a){const o=e[s],l=o===void 0||a(o,s,e);if(l!==!0)throw new Ae("option "+s+" must be "+l,Ae.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ae("Unknown option "+s,Ae.ERR_BAD_OPTION)}}const Za={assertOptions:ux,validators:Uc},pn=Za.validators;class Fi{constructor(t){this.defaults=t,this.interceptors={request:new av,response:new av}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Hi(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Za.assertOptions(n,{silentJSONParsing:pn.transitional(pn.boolean),forcedJSONParsing:pn.transitional(pn.boolean),clarifyTimeoutError:pn.transitional(pn.boolean)},!1),i!=null&&(ne.isFunction(i)?r.paramsSerializer={serialize:i}:Za.assertOptions(i,{encode:pn.function,serialize:pn.function},!0)),Za.assertOptions(r,{baseUrl:pn.spelling("baseURL"),withXsrfToken:pn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&ne.merge(s.common,s[r.method]);s&&ne.forEach(["delete","get","head","post","put","patch","common"],C=>{delete s[C]}),r.headers=fr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const h=[];this.interceptors.response.forEach(function(y){h.push(y.fulfilled,y.rejected)});let g,p=0,m;if(!l){const C=[vv.bind(this),void 0];for(C.unshift.apply(C,o),C.push.apply(C,h),m=C.length,g=Promise.resolve(r);p<m;)g=g.then(C[p++],C[p++]);return g}m=o.length;let w=r;for(p=0;p<m;){const C=o[p++],y=o[p++];try{w=C(w)}catch(v){y.call(this,v);break}}try{g=vv.call(this,w)}catch(C){return Promise.reject(C)}for(p=0,m=h.length;p<m;)g=g.then(h[p++],h[p++]);return g}getUri(t){t=Hi(this.defaults,t);const r=Ky(t.baseURL,t.url);return Hy(r,t.params,t.paramsSerializer)}}ne.forEach(["delete","get","head","options"],function(t){Fi.prototype[t]=function(r,n){return this.request(Hi(n||{},{method:t,url:r,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(t){function r(n){return function(s,a,o){return this.request(Hi(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Fi.prototype[t]=r(),Fi.prototype[t+"Form"]=r(!0)});class Yd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},t(function(s,a,o){n.reason||(n.reason=new js(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Yd(function(i){t=i}),cancel:t}}}function hx(e){return function(r){return e.apply(null,r)}}function dx(e){return ne.isObject(e)&&e.isAxiosError===!0}const Sh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sh).forEach(([e,t])=>{Sh[t]=e});function Jy(e){const t=new Fi(e),r=Ty(Fi.prototype.request,t);return ne.extend(r,Fi.prototype,t,{allOwnKeys:!0}),ne.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return Jy(Hi(e,i))},r}const je=Jy(ha);je.Axios=Fi;je.CanceledError=js;je.CancelToken=Yd;je.isCancel=Wy;je.VERSION=Xy;je.toFormData=$c;je.AxiosError=Ae;je.Cancel=je.CanceledError;je.all=function(t){return Promise.all(t)};je.spread=hx;je.isAxiosError=dx;je.mergeConfig=Hi;je.AxiosHeaders=fr;je.formToJSON=e=>jy(ne.isHTMLForm(e)?new FormData(e):e);je.getAdapter=Qy.getAdapter;je.HttpStatusCode=Sh;je.default=je;const fx={cognito:{url:"https://cognito-idp.us-east-1.amazonaws.com"},s3:{url:"https://s3.amazonaws.com",bucketName:"handterm",userKey:"user_data/{{userId}}/"}},px={BaseUrl:"https://drypicnke5.execute-api.us-east-1.amazonaws.com",SignUp:"/signUp",ConfirmSignUp:"/confirm-signup",GetLog:"/getLog",ListLog:"/listLog",SaveLog:"/saveLog",SignIn:"/signIn",SignOut:"/signOut",ChangePassword:"/changePassword",TokenHandler:"/tokenHandler",RefreshToken:"/refreshToken",CheckSession:"/check-session",GetUser:"/getUser",SetUser:"/setUser",GetFile:"/getFile",PutFile:"/putFile",ListRecentRepos:"/list-recent-repos",GetRepoTree:"/get-repo-tree",SaveRepoFile:"/save-repo-file",UnlinkGitHub:"/unlink-github",GitHubAuth:"/github_auth",GitHubDeviceCode:"/github-device-code",GitHubDevicePoll:"/github-device-poll",OAuthCallback:"/oauth_callback",RequestLogger:"/requestLogger"},Zt={aws:fx,api:px},vx=Gt();function gx(e){return typeof e=="object"&&e!==null&&"message"in e}const mx=je.create({baseURL:Zt.api.BaseUrl,headers:{"Content-Type":"application/json",Accept:"application/json"}});async function Ws(e,t,r,n="GET",i){try{const s=await e.validateAndRefreshToken();if(s==null||s.status!==200||s.data==null)return{status:401,error:"Authentication failed"};const a=s.data.AccessToken;if(a==null)return{status:401,error:"Access token not found"};const o=await mx({method:n,url:t,headers:{Authorization:`Bearer ${a}`},params:r,data:i});return{status:o.status,data:o.data}}catch(s){if(s instanceof Error&&vx.error(`API request failed: ${s.message}`),je.isAxiosError(s)){if(s.response!=null){const a=s.response.data,o=gx(a)&&typeof a.message=="string"?a.message:`Request failed with status ${s.response.status}`;return{status:s.response.status,error:o}}return{status:500,error:typeof s.message=="string"?s.message:"Request failed"}}return{status:500,error:"An unknown error occurred"}}}async function yx(e,t,r,n){return Ws(e,Zt.api.GetRepoTree,{repo:t,...r!=null&&{path:r},...n!=null&&{sha:n}})}async function _x(e,t,r){return Ws(e,Zt.api.GetRepoTree,{repo:t,path:r})}async function Sx(e){return Ws(e,Zt.api.ListRecentRepos)}async function Cx(e){return Ws(e,Zt.api.UnlinkGitHub,void 0,"POST")}async function wx(e){return Ws(e,Zt.api.GitHubDeviceCode,void 0,"POST")}async function kx(e,t){return Ws(e,Zt.api.GitHubDevicePoll,void 0,"POST",{device_code:t})}const bi=Gt({prefix:"GitHubCommand"}),bx=5e3,xx=3e5;async function Ex(e){return new Promise(t=>setTimeout(t,e))}const Rx={name:"github",description:"GitHub account and repository management",switches:{h:"Show help for GitHub command",l:"Link GitHub account",u:"Unlink GitHub account",r:"List recent repositories",t:"Get repository tree (Usage: -t owner/repo [path] [sha])"},execute:async(e,t)=>{if("h"in t.switches)return{status:200,message:`GitHub Command Usage:
                github -l : Link your GitHub account
                github -u : Unlink GitHub account
                github -r : List recent repositories
                github -t owner/repo [path] [sha] : Get repository tree
                github -h : Show this help message`};try{if("l"in t.switches){const r=await wx(e.auth);if(r.status!==200||r.data===null)return{status:r.status,message:r.error??"Failed to get device code"};if(r.data===null||r.data===void 0)return{status:500,message:"Invalid device code response"};const{verification_uri:n,user_code:i,device_code:s}=r.data;await navigator.clipboard.writeText(i),window.open(n,"_blank"),bi.info("Opening browser for GitHub authentication..."),bi.info("Device code copied to clipboard!",i),bi.info("Waiting for authentication...");const a=Date.now();for(;Date.now()-a<xx;){const o=await kx(e.auth,s);if(o.status===200&&o.data!==null&&o.data!==void 0&&o.data.status==="complete")return{status:200,message:"Successfully linked GitHub account!"};if(o.status!==void 0&&o.status!==null&&o.status!==202)return{status:o.status,message:o.error??"Failed to check authorization status"};await Ex(bx)}return{status:408,message:"Authentication timed out. Please try again."}}if("u"in t.switches){const r=await Cx(e.auth);return r.status===200?(localStorage.removeItem("githubUsername"),localStorage.removeItem("current_github_repo"),localStorage.removeItem("github_tree_items"),sessionStorage.removeItem("github_auth_state"),{status:200,message:'GitHub account unlinked. Use "github -l" to link again with new permissions.'}):{status:r.status,message:r.error??"Failed to unlink GitHub account."}}if("r"in t.switches){const r=await Sx(e.auth);return r.status===200&&r.data!==null&&r.data!==void 0&&typeof r.data=="object"?{status:200,message:`Recent Repositories:<br />${r.data.map(i=>`${i.name}: ${i.description??"No description"}`).join("<br />")}`}:{status:r.status,message:r.error??"Failed to retrieve repositories."}}if("t"in t.switches){const r=t.switches.t===!0?t.args[0]:t.switches.t;if(r==null)return{status:400,message:"Repository parameter required. Usage: github -t owner/repo [path] [sha]"};const n=t.args[1]??"",i=t.args[2]??"";bi.info("Fetching tree for repo:",r);const s=await yx(e.auth,r,n,i);return bi.info("Tree response:",s),s.status===200&&s.data!==null?(localStorage.setItem("current_github_repo",r),localStorage.setItem("github_tree_items",JSON.stringify(s.data)),bi.info("Switching to TREE mode"),Et({activityKey:Ce.TREE,contentKey:r,groupKey:null}),{status:200,message:"Repository tree loaded. Use j/k to navigate, Enter to select a file, e to close."}):{status:s.status,message:s.error??"Failed to retrieve repository tree."}}return{status:400,message:"Invalid command. Use -h to show command help info"}}catch(r){return bi.error("GitHub command error:",r),{status:501,message:"Failed to process GitHub command"}}}},Tx=Object.freeze(Object.defineProperty({__proto__:null,GitHubCommand:Rx},Symbol.toStringTag,{value:"Module"}));var yi={},zs={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=K;function Me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cr=Object.prototype.hasOwnProperty,Lx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mv={},yv={};function Zy(e){return cr.call(yv,e)?!0:cr.call(mv,e)?!1:Lx.test(e)?yv[e]=!0:(mv[e]=!0,!1)}function nr(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bt[e]=new nr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bt[t]=new nr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bt[e]=new nr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bt[e]=new nr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bt[e]=new nr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bt[e]=new nr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bt[e]=new nr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bt[e]=new nr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bt[e]=new nr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zd=/[\-:]([a-z])/g;function ef(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zd,ef);Bt[t]=new nr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zd,ef);Bt[t]=new nr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zd,ef);Bt[t]=new nr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bt[e]=new nr(e,1,!1,e.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bt[e]=new nr(e,1,!1,e.toLowerCase(),null,!0,!0)});var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ax=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(e){Ax.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),el[t]=el[e]})});var Mx=/["'&<>]/;function er(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Mx.exec(e);if(t){var r="",n,i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var Px=/([A-Z])/g,Ox=/^ms-/,Ch=Array.isArray;function An(e,t){return{insertionMode:e,selectedValue:t}}function Ix(e,t,r){switch(t){case"select":return An(1,r.value!=null?r.value:r.defaultValue);case"svg":return An(2,null);case"math":return An(3,null);case"foreignObject":return An(1,null);case"table":return An(4,null);case"thead":case"tbody":case"tfoot":return An(5,null);case"colgroup":return An(7,null);case"tr":return An(6,null)}return 4<=e.insertionMode||e.insertionMode===0?An(1,null):e}var _v=new Map;function e_(e,t,r){if(typeof r!="object")throw Error(Me(62));t=!0;for(var n in r)if(cr.call(r,n)){var i=r[n];if(i!=null&&typeof i!="boolean"&&i!==""){if(n.indexOf("--")===0){var s=er(n);i=er((""+i).trim())}else{s=n;var a=_v.get(s);a!==void 0||(a=er(s.replace(Px,"-$1").toLowerCase().replace(Ox,"-ms-")),_v.set(s,a)),s=a,i=typeof i=="number"?i===0||cr.call(el,n)?""+i:i+"px":er((""+i).trim())}t?(t=!1,e.push(' style="',s,":",i)):e.push(";",s,":",i)}}t||e.push('"')}function wr(e,t,r,n){switch(r){case"style":e_(e,t,n);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N"){if(t=Bt.hasOwnProperty(r)?Bt[r]:null,t!==null){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(r=t.attributeName,t.type){case 3:n&&e.push(" ",r,'=""');break;case 4:n===!0?e.push(" ",r,'=""'):n!==!1&&e.push(" ",r,'="',er(n),'"');break;case 5:isNaN(n)||e.push(" ",r,'="',er(n),'"');break;case 6:!isNaN(n)&&1<=n&&e.push(" ",r,'="',er(n),'"');break;default:t.sanitizeURL&&(n=""+n),e.push(" ",r,'="',er(n),'"')}}else if(Zy(r)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(t=r.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",r,'="',er(n),'"')}}}function tl(e,t,r){if(t!=null){if(r!=null)throw Error(Me(60));if(typeof t!="object"||!("__html"in t))throw Error(Me(61));t=t.__html,t!=null&&e.push(""+t)}}function Dx(e){var t="";return Yy.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function Eu(e,t,r,n){e.push(yn(r));var i=r=null,s;for(s in t)if(cr.call(t,s)){var a=t[s];if(a!=null)switch(s){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:wr(e,n,s,a)}}return e.push(">"),tl(e,i,r),typeof r=="string"?(e.push(er(r)),null):r}var Bx=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Sv=new Map;function yn(e){var t=Sv.get(e);if(t===void 0){if(!Bx.test(e))throw Error(Me(65,e));t="<"+e,Sv.set(e,t)}return t}function Fx(e,t,r,n,i){switch(t){case"select":e.push(yn("select"));var s=null,a=null;for(g in r)if(cr.call(r,g)){var o=r[g];if(o!=null)switch(g){case"children":s=o;break;case"dangerouslySetInnerHTML":a=o;break;case"defaultValue":case"value":break;default:wr(e,n,g,o)}}return e.push(">"),tl(e,a,s),s;case"option":a=i.selectedValue,e.push(yn("option"));var l=o=null,h=null,g=null;for(s in r)if(cr.call(r,s)){var p=r[s];if(p!=null)switch(s){case"children":o=p;break;case"selected":h=p;break;case"dangerouslySetInnerHTML":g=p;break;case"value":l=p;default:wr(e,n,s,p)}}if(a!=null)if(r=l!==null?""+l:Dx(o),Ch(a)){for(n=0;n<a.length;n++)if(""+a[n]===r){e.push(' selected=""');break}}else""+a===r&&e.push(' selected=""');else h&&e.push(' selected=""');return e.push(">"),tl(e,g,o),o;case"textarea":e.push(yn("textarea")),g=a=s=null;for(o in r)if(cr.call(r,o)&&(l=r[o],l!=null))switch(o){case"children":g=l;break;case"value":s=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(Me(91));default:wr(e,n,o,l)}if(s===null&&a!==null&&(s=a),e.push(">"),g!=null){if(s!=null)throw Error(Me(92));if(Ch(g)&&1<g.length)throw Error(Me(93));s=""+g}return typeof s=="string"&&s[0]===`
`&&e.push(`
`),s!==null&&e.push(er(""+s)),null;case"input":e.push(yn("input")),l=g=o=s=null;for(a in r)if(cr.call(r,a)&&(h=r[a],h!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(Me(399,"input"));case"defaultChecked":l=h;break;case"defaultValue":o=h;break;case"checked":g=h;break;case"value":s=h;break;default:wr(e,n,a,h)}return g!==null?wr(e,n,"checked",g):l!==null&&wr(e,n,"checked",l),s!==null?wr(e,n,"value",s):o!==null&&wr(e,n,"value",o),e.push("/>"),null;case"menuitem":e.push(yn("menuitem"));for(var m in r)if(cr.call(r,m)&&(s=r[m],s!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Me(400));default:wr(e,n,m,s)}return e.push(">"),null;case"title":e.push(yn("title")),s=null;for(p in r)if(cr.call(r,p)&&(a=r[p],a!=null))switch(p){case"children":s=a;break;case"dangerouslySetInnerHTML":throw Error(Me(434));default:wr(e,n,p,a)}return e.push(">"),s;case"listing":case"pre":e.push(yn(t)),a=s=null;for(l in r)if(cr.call(r,l)&&(o=r[l],o!=null))switch(l){case"children":s=o;break;case"dangerouslySetInnerHTML":a=o;break;default:wr(e,n,l,o)}if(e.push(">"),a!=null){if(s!=null)throw Error(Me(60));if(typeof a!="object"||!("__html"in a))throw Error(Me(61));r=a.__html,r!=null&&(typeof r=="string"&&0<r.length&&r[0]===`
`?e.push(`
`,r):e.push(""+r))}return typeof s=="string"&&s[0]===`
`&&e.push(`
`),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(yn(t));for(var w in r)if(cr.call(r,w)&&(s=r[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(Me(399,t));default:wr(e,n,w,s)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Eu(e,r,t,n);case"html":return i.insertionMode===0&&e.push("<!DOCTYPE html>"),Eu(e,r,t,n);default:if(t.indexOf("-")===-1&&typeof r.is!="string")return Eu(e,r,t,n);e.push(yn(t)),a=s=null;for(h in r)if(cr.call(r,h)&&(o=r[h],o!=null))switch(h){case"children":s=o;break;case"dangerouslySetInnerHTML":a=o;break;case"style":e_(e,n,o);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Zy(h)&&typeof o!="function"&&typeof o!="symbol"&&e.push(" ",h,'="',er(o),'"')}return e.push(">"),tl(e,a,s),s}}function Cv(e,t,r){if(e.push('<!--$?--><template id="'),r===null)throw Error(Me(395));return e.push(r),e.push('"></template>')}function Nx(e,t,r,n){switch(r.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');default:throw Error(Me(397))}}function $x(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(Me(397))}}var Hx=/[<\u2028\u2029]/g;function Ru(e){return JSON.stringify(e).replace(Hx,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Ux(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function wv(e,t,r,n){return r.generateStaticMarkup?(e.push(er(t)),!1):(t===""?e=n:(n&&e.push("<!-- -->"),e.push(er(t)),e=!0),e)}var ko=Object.assign,jx=Symbol.for("react.element"),t_=Symbol.for("react.portal"),r_=Symbol.for("react.fragment"),n_=Symbol.for("react.strict_mode"),i_=Symbol.for("react.profiler"),s_=Symbol.for("react.provider"),o_=Symbol.for("react.context"),a_=Symbol.for("react.forward_ref"),l_=Symbol.for("react.suspense"),c_=Symbol.for("react.suspense_list"),u_=Symbol.for("react.memo"),tf=Symbol.for("react.lazy"),Wx=Symbol.for("react.scope"),zx=Symbol.for("react.debug_trace_mode"),Kx=Symbol.for("react.legacy_hidden"),Vx=Symbol.for("react.default_value"),kv=Symbol.iterator;function wh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case r_:return"Fragment";case t_:return"Portal";case i_:return"Profiler";case n_:return"StrictMode";case l_:return"Suspense";case c_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case o_:return(e.displayName||"Context")+".Consumer";case s_:return(e._context.displayName||"Context")+".Provider";case a_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case u_:return t=e.displayName||null,t!==null?t:wh(e.type)||"Memo";case tf:t=e._payload,e=e._init;try{return wh(e(t))}catch{}}return null}var h_={};function bv(e,t){if(e=e.contextTypes,!e)return h_;var r={},n;for(n in e)r[n]=t[n];return r}var Pi=null;function jc(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var r=t.parent;if(e===null){if(r!==null)throw Error(Me(401))}else{if(r===null)throw Error(Me(401));jc(e,r)}t.context._currentValue2=t.value}}function d_(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&d_(e)}function f_(e){var t=e.parent;t!==null&&f_(t),e.context._currentValue2=e.value}function p_(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(Me(402));e.depth===t.depth?jc(e,t):p_(e,t)}function v_(e,t){var r=t.parent;if(r===null)throw Error(Me(402));e.depth===r.depth?jc(e,r):v_(e,r),t.context._currentValue2=t.value}function Ll(e){var t=Pi;t!==e&&(t===null?f_(e):e===null?d_(t):t.depth===e.depth?jc(t,e):t.depth>e.depth?p_(t,e):v_(t,e),Pi=e)}var xv={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Ev(e,t,r,n){var i=e.state!==void 0?e.state:null;e.updater=xv,e.props=r,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var a=t.contextType;if(e.context=typeof a=="object"&&a!==null?a._currentValue2:n,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(r,i),i=a==null?i:ko({},i,a),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&xv.enqueueReplaceState(e,e.state,null),s.queue!==null&&0<s.queue.length)if(t=s.queue,a=s.replace,s.queue=null,s.replace=!1,a&&t.length===1)e.state=t[0];else{for(s=a?t[0]:e.state,i=!0,a=a?1:0;a<t.length;a++){var o=t[a];o=typeof o=="function"?o.call(e,s,r,n):o,o!=null&&(i?(i=!1,s=ko({},s,o)):ko(s,o))}e.state=s}else s.queue=null}var Gx={id:1,overflow:""};function kh(e,t,r){var n=e.id;e=e.overflow;var i=32-rl(n)-1;n&=~(1<<i),r+=1;var s=32-rl(t)+i;if(30<s){var a=i-i%5;return s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,{id:1<<32-rl(t)+i|r<<i|n,overflow:s+e}}return{id:1<<s|r<<i|n,overflow:e}}var rl=Math.clz32?Math.clz32:Xx,qx=Math.log,Qx=Math.LN2;function Xx(e){return e>>>=0,e===0?32:31-(qx(e)/Qx|0)|0}function Jx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yx=typeof Object.is=="function"?Object.is:Jx,Fn=null,rf=null,nl=null,Ye=null,fo=!1,Al=!1,$o=0,ti=null,Wc=0;function Ri(){if(Fn===null)throw Error(Me(321));return Fn}function Rv(){if(0<Wc)throw Error(Me(312));return{memoizedState:null,queue:null,next:null}}function nf(){return Ye===null?nl===null?(fo=!1,nl=Ye=Rv()):(fo=!0,Ye=nl):Ye.next===null?(fo=!1,Ye=Ye.next=Rv()):(fo=!0,Ye=Ye.next),Ye}function sf(){rf=Fn=null,Al=!1,nl=null,Wc=0,Ye=ti=null}function g_(e,t){return typeof t=="function"?t(e):t}function Tv(e,t,r){if(Fn=Ri(),Ye=nf(),fo){var n=Ye.queue;if(t=n.dispatch,ti!==null&&(r=ti.get(n),r!==void 0)){ti.delete(n),n=Ye.memoizedState;do n=e(n,r.action),r=r.next;while(r!==null);return Ye.memoizedState=n,[n,t]}return[Ye.memoizedState,t]}return e=e===g_?typeof t=="function"?t():t:r!==void 0?r(t):t,Ye.memoizedState=e,e=Ye.queue={last:null,dispatch:null},e=e.dispatch=Zx.bind(null,Fn,e),[Ye.memoizedState,e]}function Lv(e,t){if(Fn=Ri(),Ye=nf(),t=t===void 0?null:t,Ye!==null){var r=Ye.memoizedState;if(r!==null&&t!==null){var n=r[1];e:if(n===null)n=!1;else{for(var i=0;i<n.length&&i<t.length;i++)if(!Yx(t[i],n[i])){n=!1;break e}n=!0}if(n)return r[0]}}return e=e(),Ye.memoizedState=[e,t],e}function Zx(e,t,r){if(25<=Wc)throw Error(Me(301));if(e===Fn)if(Al=!0,e={action:r,next:null},ti===null&&(ti=new Map),r=ti.get(t),r===void 0)ti.set(t,e);else{for(t=r;t.next!==null;)t=t.next;t.next=e}}function eE(){throw Error(Me(394))}function ka(){}var Av={readContext:function(e){return e._currentValue2},useContext:function(e){return Ri(),e._currentValue2},useMemo:Lv,useReducer:Tv,useRef:function(e){Fn=Ri(),Ye=nf();var t=Ye.memoizedState;return t===null?(e={current:e},Ye.memoizedState=e):t},useState:function(e){return Tv(g_,e)},useInsertionEffect:ka,useLayoutEffect:function(){},useCallback:function(e,t){return Lv(function(){return e},t)},useImperativeHandle:ka,useEffect:ka,useDebugValue:ka,useDeferredValue:function(e){return Ri(),e},useTransition:function(){return Ri(),[!1,eE]},useId:function(){var e=rf.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-rl(e)-1)).toString(32)+t;var r=il;if(r===null)throw Error(Me(404));return t=$o++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Ri(),t(e._source)},useSyncExternalStore:function(e,t,r){if(r===void 0)throw Error(Me(407));return r()}},il=null,Tu=Yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function tE(e){return console.error(e),null}function po(){}function rE(e,t,r,n,i,s,a,o,l){var h=[],g=new Set;return t={destination:null,responseState:t,progressiveChunkSize:n===void 0?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:g,pingedTasks:h,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?tE:i,onAllReady:po,onShellReady:a===void 0?po:a,onShellError:po,onFatalError:po},r=Ml(t,0,null,r,!1,!1),r.parentFlushed=!0,e=of(t,e,null,r,g,h_,null,Gx),h.push(e),t}function of(e,t,r,n,i,s,a,o){e.allPendingTasks++,r===null?e.pendingRootTasks++:r.pendingTasks++;var l={node:t,ping:function(){var h=e.pingedTasks;h.push(l),h.length===1&&__(e)},blockedBoundary:r,blockedSegment:n,abortSet:i,legacyContext:s,context:a,treeContext:o};return i.add(l),l}function Ml(e,t,r,n,i,s){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:r,lastPushedText:i,textEmbedded:s}}function Ho(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Pl(e,t){var r=e.onShellError;r(t),r=e.onFatalError,r(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Mv(e,t,r,n,i){for(Fn={},rf=t,$o=0,e=r(n,i);Al;)Al=!1,$o=0,Wc+=1,Ye=null,e=r(n,i);return sf(),e}function Pv(e,t,r,n){var i=r.render(),s=n.childContextTypes;if(s!=null){var a=t.legacyContext;if(typeof r.getChildContext!="function")n=a;else{r=r.getChildContext();for(var o in r)if(!(o in s))throw Error(Me(108,wh(n)||"Unknown",o));n=ko({},a,r)}t.legacyContext=n,br(e,t,i),t.legacyContext=a}else br(e,t,i)}function Ov(e,t){if(e&&e.defaultProps){t=ko({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bh(e,t,r,n,i){if(typeof r=="function")if(r.prototype&&r.prototype.isReactComponent){i=bv(r,t.legacyContext);var s=r.contextType;s=new r(n,typeof s=="object"&&s!==null?s._currentValue2:i),Ev(s,r,n,i),Pv(e,t,s,r)}else{s=bv(r,t.legacyContext),i=Mv(e,t,r,n,s);var a=$o!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)Ev(i,r,n,s),Pv(e,t,i,r);else if(a){n=t.treeContext,t.treeContext=kh(n,1,0);try{br(e,t,i)}finally{t.treeContext=n}}else br(e,t,i)}else if(typeof r=="string"){switch(i=t.blockedSegment,s=Fx(i.chunks,r,n,e.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=Ix(a,r,n),xh(e,t,s),i.formatContext=a,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",r,">")}i.lastPushedText=!1}else{switch(r){case Kx:case zx:case n_:case i_:case r_:br(e,t,n.children);return;case c_:br(e,t,n.children);return;case Wx:throw Error(Me(343));case l_:e:{r=t.blockedBoundary,i=t.blockedSegment,s=n.fallback,n=n.children,a=new Set;var o={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=Ml(e,i.chunks.length,o,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var h=Ml(e,0,null,i.formatContext,!1,!1);h.parentFlushed=!0,t.blockedBoundary=o,t.blockedSegment=h;try{if(xh(e,t,n),e.responseState.generateStaticMarkup||h.lastPushedText&&h.textEmbedded&&h.chunks.push("<!-- -->"),h.status=1,Ol(o,h),o.pendingTasks===0)break e}catch(g){h.status=4,o.forceClientRender=!0,o.errorDigest=Ho(e,g)}finally{t.blockedBoundary=r,t.blockedSegment=i}t=of(e,s,r,l,a,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof r=="object"&&r!==null)switch(r.$$typeof){case a_:if(n=Mv(e,t,r.render,n,i),$o!==0){r=t.treeContext,t.treeContext=kh(r,1,0);try{br(e,t,n)}finally{t.treeContext=r}}else br(e,t,n);return;case u_:r=r.type,n=Ov(r,n),bh(e,t,r,n,i);return;case s_:if(i=n.children,r=r._context,n=n.value,s=r._currentValue2,r._currentValue2=n,a=Pi,Pi=n={parent:a,depth:a===null?0:a.depth+1,context:r,parentValue:s,value:n},t.context=n,br(e,t,i),e=Pi,e===null)throw Error(Me(403));n=e.parentValue,e.context._currentValue2=n===Vx?e.context._defaultValue:n,e=Pi=e.parent,t.context=e;return;case o_:n=n.children,n=n(r._currentValue2),br(e,t,n);return;case tf:i=r._init,r=i(r._payload),n=Ov(r,n),bh(e,t,r,n,void 0);return}throw Error(Me(130,r==null?r:typeof r,""))}}function br(e,t,r){if(t.node=r,typeof r=="object"&&r!==null){switch(r.$$typeof){case jx:bh(e,t,r.type,r.props,r.ref);return;case t_:throw Error(Me(257));case tf:var n=r._init;r=n(r._payload),br(e,t,r);return}if(Ch(r)){Iv(e,t,r);return}if(r===null||typeof r!="object"?n=null:(n=kv&&r[kv]||r["@@iterator"],n=typeof n=="function"?n:null),n&&(n=n.call(r))){if(r=n.next(),!r.done){var i=[];do i.push(r.value),r=n.next();while(!r.done);Iv(e,t,i)}return}throw e=Object.prototype.toString.call(r),Error(Me(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}typeof r=="string"?(n=t.blockedSegment,n.lastPushedText=wv(t.blockedSegment.chunks,r,e.responseState,n.lastPushedText)):typeof r=="number"&&(n=t.blockedSegment,n.lastPushedText=wv(t.blockedSegment.chunks,""+r,e.responseState,n.lastPushedText))}function Iv(e,t,r){for(var n=r.length,i=0;i<n;i++){var s=t.treeContext;t.treeContext=kh(s,n,i);try{xh(e,t,r[i])}finally{t.treeContext=s}}}function xh(e,t,r){var n=t.blockedSegment.formatContext,i=t.legacyContext,s=t.context;try{return br(e,t,r)}catch(l){if(sf(),typeof l=="object"&&l!==null&&typeof l.then=="function"){r=l;var a=t.blockedSegment,o=Ml(e,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(o),a.lastPushedText=!1,e=of(e,t.node,t.blockedBoundary,o,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,r.then(e,e),t.blockedSegment.formatContext=n,t.legacyContext=i,t.context=s,Ll(s)}else throw t.blockedSegment.formatContext=n,t.legacyContext=i,t.context=s,Ll(s),l}}function nE(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,y_(this,t,e)}function m_(e,t,r){var n=e.blockedBoundary;e.blockedSegment.status=3,n===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,e=r===void 0?Error(Me(432)):r,n.errorDigest=t.onError(e),n.parentFlushed&&t.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach(function(i){return m_(i,t,r)}),n.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(n=t.onAllReady,n()))}function Ol(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var r=t.children[0];r.id=t.id,r.parentFlushed=!0,r.status===1&&Ol(e,r)}else e.completedSegments.push(t)}function y_(e,t,r){if(t===null){if(r.parentFlushed){if(e.completedRootSegment!==null)throw Error(Me(389));e.completedRootSegment=r}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=po,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(r.parentFlushed&&r.status===1&&Ol(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(nE,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&r.status===1&&(Ol(t,r),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function __(e){if(e.status!==2){var t=Pi,r=Tu.current;Tu.current=Av;var n=il;il=e.responseState;try{var i=e.pingedTasks,s;for(s=0;s<i.length;s++){var a=i[s],o=e,l=a.blockedSegment;if(l.status===0){Ll(a.context);try{br(o,a,a.node),o.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),a.abortSet.delete(a),l.status=1,y_(o,a.blockedBoundary,l)}catch(C){if(sf(),typeof C=="object"&&C!==null&&typeof C.then=="function"){var h=a.ping;C.then(h,h)}else{a.abortSet.delete(a),l.status=4;var g=a.blockedBoundary,p=C,m=Ho(o,p);if(g===null?Pl(o,p):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,g.errorDigest=m,g.parentFlushed&&o.clientRenderedBoundaries.push(g))),o.allPendingTasks--,o.allPendingTasks===0){var w=o.onAllReady;w()}}}finally{}}}i.splice(0,s),e.destination!==null&&af(e,e.destination)}catch(C){Ho(e,C),Pl(e,C)}finally{il=n,Tu.current=r,r===Av&&Ll(t)}}}function ba(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var n=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=n.toString(16),t.push(e),t.push('"></template>');case 1:r.status=2;var i=!0;n=r.chunks;var s=0;r=r.children;for(var a=0;a<r.length;a++){for(i=r[a];s<i.index;s++)t.push(n[s]);i=zc(e,t,i)}for(;s<n.length-1;s++)t.push(n[s]);return s<n.length&&(i=t.push(n[s])),i;default:throw Error(Me(390))}}function zc(e,t,r){var n=r.boundary;if(n===null)return ba(e,t,r);if(n.parentFlushed=!0,n.forceClientRender)return e.responseState.generateStaticMarkup||(n=n.errorDigest,t.push("<!--$!-->"),t.push("<template"),n&&(t.push(' data-dgst="'),n=er(n),t.push(n),t.push('"')),t.push("></template>")),ba(e,t,r),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<n.pendingTasks){n.rootSegmentID=e.nextSegmentId++,0<n.completedSegments.length&&e.partialBoundaries.push(n);var i=e.responseState,s=i.nextSuspenseID++;return i=i.boundaryPrefix+s.toString(16),n=n.id=i,Cv(t,e.responseState,n),ba(e,t,r),t.push("<!--/$-->")}if(n.byteSize>e.progressiveChunkSize)return n.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(n),Cv(t,e.responseState,n.id),ba(e,t,r),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),r=n.completedSegments,r.length!==1)throw Error(Me(391));return zc(e,t,r[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function Dv(e,t,r){return Nx(t,e.responseState,r.formatContext,r.id),zc(e,t,r),$x(t,r.formatContext)}function Bv(e,t,r){for(var n=r.completedSegments,i=0;i<n.length;i++)S_(e,t,r,n[i]);if(n.length=0,e=e.responseState,n=r.id,r=r.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),n===null)throw Error(Me(395));return r=r.toString(16),t.push(n),t.push('","'),t.push(e.segmentPrefix),t.push(r),t.push('")<\/script>')}function S_(e,t,r,n){if(n.status===2)return!0;var i=n.id;if(i===-1){if((n.id=r.rootSegmentID)===-1)throw Error(Me(392));return Dv(e,t,n)}return Dv(e,t,n),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t.push('")<\/script>')}function af(e,t){try{var r=e.completedRootSegment;if(r!==null&&e.pendingRootTasks===0){zc(e,t,r),e.completedRootSegment=null;var n=e.responseState.bootstrapChunks;for(r=0;r<n.length-1;r++)t.push(n[r]);r<n.length&&t.push(n[r])}var i=e.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var a=i[s];n=t;var o=e.responseState,l=a.id,h=a.errorDigest,g=a.errorMessage,p=a.errorComponentStack;if(n.push(o.startInlineScript),o.sentClientRenderFunction?n.push('$RX("'):(o.sentClientRenderFunction=!0,n.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(Me(395));if(n.push(l),n.push('"'),h||g||p){n.push(",");var m=Ru(h||"");n.push(m)}if(g||p){n.push(",");var w=Ru(g||"");n.push(w)}if(p){n.push(",");var C=Ru(p);n.push(C)}if(!n.push(")<\/script>")){e.destination=null,s++,i.splice(0,s);return}}i.splice(0,s);var y=e.completedBoundaries;for(s=0;s<y.length;s++)if(!Bv(e,t,y[s])){e.destination=null,s++,y.splice(0,s);return}y.splice(0,s);var v=e.partialBoundaries;for(s=0;s<v.length;s++){var d=v[s];e:{i=e,a=t;var c=d.completedSegments;for(o=0;o<c.length;o++)if(!S_(i,a,d,c[o])){o++,c.splice(0,o);var f=!1;break e}c.splice(0,o),f=!0}if(!f){e.destination=null,s++,v.splice(0,s);return}}v.splice(0,s);var _=e.completedBoundaries;for(s=0;s<_.length;s++)if(!Bv(e,t,_[s])){e.destination=null,s++,_.splice(0,s);return}_.splice(0,s)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function iE(e,t){try{var r=e.abortableTasks;r.forEach(function(n){return m_(n,e,t)}),r.clear(),e.destination!==null&&af(e,e.destination)}catch(n){Ho(e,n),Pl(e,n)}}function sE(){}function C_(e,t,r,n){var i=!1,s=null,a="",o={push:function(h){return h!==null&&(a+=h),!0},destroy:function(h){i=!0,s=h}},l=!1;if(e=rE(e,Ux(r,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,sE,void 0,function(){l=!0}),__(e),iE(e,n),e.status===1)e.status=2,o.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=o;try{af(e,o)}catch(h){Ho(e,h),Pl(e,h)}}if(i)throw s;if(!l)throw Error(Me(426));return a}zs.renderToNodeStream=function(){throw Error(Me(207))};zs.renderToStaticMarkup=function(e,t){return C_(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};zs.renderToStaticNodeStream=function(){throw Error(Me(208))};zs.renderToString=function(e,t){return C_(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};zs.version="18.3.1";var lf={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_=K;function Pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xr=null,Er=0;function be(e,t){if(t.length!==0)if(512<t.length)0<Er&&(e.enqueue(new Uint8Array(xr.buffer,0,Er)),xr=new Uint8Array(512),Er=0),e.enqueue(t);else{var r=xr.length-Er;r<t.length&&(r===0?e.enqueue(xr):(xr.set(t.subarray(0,r),Er),e.enqueue(xr),t=t.subarray(r)),xr=new Uint8Array(512),Er=0),xr.set(t,Er),Er+=t.length}}function it(e,t){return be(e,t),!0}function Fv(e){xr&&0<Er&&(e.enqueue(new Uint8Array(xr.buffer,0,Er)),xr=null,Er=0)}var k_=new TextEncoder;function Ie(e){return k_.encode(e)}function ye(e){return k_.encode(e)}function b_(e,t){typeof e.error=="function"?e.error(t):e.close()}var ur=Object.prototype.hasOwnProperty,oE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nv={},$v={};function x_(e){return ur.call($v,e)?!0:ur.call(Nv,e)?!1:oE.test(e)?$v[e]=!0:(Nv[e]=!0,!1)}function ir(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new ir(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new ir(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new ir(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new ir(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new ir(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new ir(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new ir(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new ir(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new ir(e,5,!1,e.toLowerCase(),null,!1,!1)});var cf=/[\-:]([a-z])/g;function uf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cf,uf);Ft[t]=new ir(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cf,uf);Ft[t]=new ir(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cf,uf);Ft[t]=new ir(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new ir(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new ir(e,1,!1,e.toLowerCase(),null,!0,!0)});var sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aE=["Webkit","ms","Moz","O"];Object.keys(sl).forEach(function(e){aE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sl[t]=sl[e]})});var lE=/["'&<>]/;function It(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=lE.exec(e);if(t){var r="",n,i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var cE=/([A-Z])/g,uE=/^ms-/,Eh=Array.isArray,hE=ye("<script>"),dE=ye("<\/script>"),fE=ye('<script src="'),pE=ye('<script type="module" src="'),Hv=ye('" async=""><\/script>'),vE=/(<\/|<)(s)(cript)/gi;function gE(e,t,r,n){return""+t+(r==="s"?"\\u0073":"\\u0053")+n}function mE(e,t,r,n,i){e=e===void 0?"":e,t=t===void 0?hE:ye('<script nonce="'+It(t)+'">');var s=[];if(r!==void 0&&s.push(t,Ie((""+r).replace(vE,gE)),dE),n!==void 0)for(r=0;r<n.length;r++)s.push(fE,Ie(It(n[r])),Hv);if(i!==void 0)for(n=0;n<i.length;n++)s.push(pE,Ie(It(i[n])),Hv);return{bootstrapChunks:s,startInlineScript:t,placeholderPrefix:ye(e+"P:"),segmentPrefix:ye(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function _n(e,t){return{insertionMode:e,selectedValue:t}}function yE(e){return _n(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function _E(e,t,r){switch(t){case"select":return _n(1,r.value!=null?r.value:r.defaultValue);case"svg":return _n(2,null);case"math":return _n(3,null);case"foreignObject":return _n(1,null);case"table":return _n(4,null);case"thead":case"tbody":case"tfoot":return _n(5,null);case"colgroup":return _n(7,null);case"tr":return _n(6,null)}return 4<=e.insertionMode||e.insertionMode===0?_n(1,null):e}var hf=ye("<!-- -->");function Uv(e,t,r,n){return t===""?n:(n&&e.push(hf),e.push(Ie(It(t))),!0)}var jv=new Map,SE=ye(' style="'),Wv=ye(":"),CE=ye(";");function E_(e,t,r){if(typeof r!="object")throw Error(Pe(62));t=!0;for(var n in r)if(ur.call(r,n)){var i=r[n];if(i!=null&&typeof i!="boolean"&&i!==""){if(n.indexOf("--")===0){var s=Ie(It(n));i=Ie(It((""+i).trim()))}else{s=n;var a=jv.get(s);a!==void 0||(a=ye(It(s.replace(cE,"-$1").toLowerCase().replace(uE,"-ms-"))),jv.set(s,a)),s=a,i=typeof i=="number"?i===0||ur.call(sl,n)?Ie(""+i):Ie(i+"px"):Ie(It((""+i).trim()))}t?(t=!1,e.push(SE,s,Wv,i)):e.push(CE,s,Wv,i)}}t||e.push(Ti)}var qn=ye(" "),Zi=ye('="'),Ti=ye('"'),zv=ye('=""');function kr(e,t,r,n){switch(r){case"style":E_(e,t,n);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N"){if(t=Ft.hasOwnProperty(r)?Ft[r]:null,t!==null){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(r=Ie(t.attributeName),t.type){case 3:n&&e.push(qn,r,zv);break;case 4:n===!0?e.push(qn,r,zv):n!==!1&&e.push(qn,r,Zi,Ie(It(n)),Ti);break;case 5:isNaN(n)||e.push(qn,r,Zi,Ie(It(n)),Ti);break;case 6:!isNaN(n)&&1<=n&&e.push(qn,r,Zi,Ie(It(n)),Ti);break;default:t.sanitizeURL&&(n=""+n),e.push(qn,r,Zi,Ie(It(n)),Ti)}}else if(x_(r)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(t=r.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(qn,Ie(r),Zi,Ie(It(n)),Ti)}}}var Qn=ye(">"),Kv=ye("/>");function ol(e,t,r){if(t!=null){if(r!=null)throw Error(Pe(60));if(typeof t!="object"||!("__html"in t))throw Error(Pe(61));t=t.__html,t!=null&&e.push(Ie(""+t))}}function wE(e){var t="";return w_.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}var Lu=ye(' selected=""');function Au(e,t,r,n){e.push(Sn(r));var i=r=null,s;for(s in t)if(ur.call(t,s)){var a=t[s];if(a!=null)switch(s){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:kr(e,n,s,a)}}return e.push(Qn),ol(e,i,r),typeof r=="string"?(e.push(Ie(It(r))),null):r}var Mu=ye(`
`),kE=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Vv=new Map;function Sn(e){var t=Vv.get(e);if(t===void 0){if(!kE.test(e))throw Error(Pe(65,e));t=ye("<"+e),Vv.set(e,t)}return t}var bE=ye("<!DOCTYPE html>");function xE(e,t,r,n,i){switch(t){case"select":e.push(Sn("select"));var s=null,a=null;for(g in r)if(ur.call(r,g)){var o=r[g];if(o!=null)switch(g){case"children":s=o;break;case"dangerouslySetInnerHTML":a=o;break;case"defaultValue":case"value":break;default:kr(e,n,g,o)}}return e.push(Qn),ol(e,a,s),s;case"option":a=i.selectedValue,e.push(Sn("option"));var l=o=null,h=null,g=null;for(s in r)if(ur.call(r,s)){var p=r[s];if(p!=null)switch(s){case"children":o=p;break;case"selected":h=p;break;case"dangerouslySetInnerHTML":g=p;break;case"value":l=p;default:kr(e,n,s,p)}}if(a!=null)if(r=l!==null?""+l:wE(o),Eh(a)){for(n=0;n<a.length;n++)if(""+a[n]===r){e.push(Lu);break}}else""+a===r&&e.push(Lu);else h&&e.push(Lu);return e.push(Qn),ol(e,g,o),o;case"textarea":e.push(Sn("textarea")),g=a=s=null;for(o in r)if(ur.call(r,o)&&(l=r[o],l!=null))switch(o){case"children":g=l;break;case"value":s=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(Pe(91));default:kr(e,n,o,l)}if(s===null&&a!==null&&(s=a),e.push(Qn),g!=null){if(s!=null)throw Error(Pe(92));if(Eh(g)&&1<g.length)throw Error(Pe(93));s=""+g}return typeof s=="string"&&s[0]===`
`&&e.push(Mu),s!==null&&e.push(Ie(It(""+s))),null;case"input":e.push(Sn("input")),l=g=o=s=null;for(a in r)if(ur.call(r,a)&&(h=r[a],h!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(Pe(399,"input"));case"defaultChecked":l=h;break;case"defaultValue":o=h;break;case"checked":g=h;break;case"value":s=h;break;default:kr(e,n,a,h)}return g!==null?kr(e,n,"checked",g):l!==null&&kr(e,n,"checked",l),s!==null?kr(e,n,"value",s):o!==null&&kr(e,n,"value",o),e.push(Kv),null;case"menuitem":e.push(Sn("menuitem"));for(var m in r)if(ur.call(r,m)&&(s=r[m],s!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Pe(400));default:kr(e,n,m,s)}return e.push(Qn),null;case"title":e.push(Sn("title")),s=null;for(p in r)if(ur.call(r,p)&&(a=r[p],a!=null))switch(p){case"children":s=a;break;case"dangerouslySetInnerHTML":throw Error(Pe(434));default:kr(e,n,p,a)}return e.push(Qn),s;case"listing":case"pre":e.push(Sn(t)),a=s=null;for(l in r)if(ur.call(r,l)&&(o=r[l],o!=null))switch(l){case"children":s=o;break;case"dangerouslySetInnerHTML":a=o;break;default:kr(e,n,l,o)}if(e.push(Qn),a!=null){if(s!=null)throw Error(Pe(60));if(typeof a!="object"||!("__html"in a))throw Error(Pe(61));r=a.__html,r!=null&&(typeof r=="string"&&0<r.length&&r[0]===`
`?e.push(Mu,Ie(r)):e.push(Ie(""+r)))}return typeof s=="string"&&s[0]===`
`&&e.push(Mu),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Sn(t));for(var w in r)if(ur.call(r,w)&&(s=r[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(Pe(399,t));default:kr(e,n,w,s)}return e.push(Kv),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Au(e,r,t,n);case"html":return i.insertionMode===0&&e.push(bE),Au(e,r,t,n);default:if(t.indexOf("-")===-1&&typeof r.is!="string")return Au(e,r,t,n);e.push(Sn(t)),a=s=null;for(h in r)if(ur.call(r,h)&&(o=r[h],o!=null))switch(h){case"children":s=o;break;case"dangerouslySetInnerHTML":a=o;break;case"style":E_(e,n,o);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:x_(h)&&typeof o!="function"&&typeof o!="symbol"&&e.push(qn,Ie(h),Zi,Ie(It(o)),Ti)}return e.push(Qn),ol(e,a,s),s}}var EE=ye("</"),RE=ye(">"),TE=ye('<template id="'),LE=ye('"></template>'),AE=ye("<!--$-->"),ME=ye('<!--$?--><template id="'),PE=ye('"></template>'),OE=ye("<!--$!-->"),IE=ye("<!--/$-->"),DE=ye("<template"),BE=ye('"'),FE=ye(' data-dgst="');ye(' data-msg="');ye(' data-stck="');var NE=ye("></template>");function Gv(e,t,r){if(be(e,ME),r===null)throw Error(Pe(395));return be(e,r),it(e,PE)}var $E=ye('<div hidden id="'),HE=ye('">'),UE=ye("</div>"),jE=ye('<svg aria-hidden="true" style="display:none" id="'),WE=ye('">'),zE=ye("</svg>"),KE=ye('<math aria-hidden="true" style="display:none" id="'),VE=ye('">'),GE=ye("</math>"),qE=ye('<table hidden id="'),QE=ye('">'),XE=ye("</table>"),JE=ye('<table hidden><tbody id="'),YE=ye('">'),ZE=ye("</tbody></table>"),e2=ye('<table hidden><tr id="'),t2=ye('">'),r2=ye("</tr></table>"),n2=ye('<table hidden><colgroup id="'),i2=ye('">'),s2=ye("</colgroup></table>");function o2(e,t,r,n){switch(r.insertionMode){case 0:case 1:return be(e,$E),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,HE);case 2:return be(e,jE),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,WE);case 3:return be(e,KE),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,VE);case 4:return be(e,qE),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,QE);case 5:return be(e,JE),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,YE);case 6:return be(e,e2),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,t2);case 7:return be(e,n2),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,i2);default:throw Error(Pe(397))}}function a2(e,t){switch(t.insertionMode){case 0:case 1:return it(e,UE);case 2:return it(e,zE);case 3:return it(e,GE);case 4:return it(e,XE);case 5:return it(e,ZE);case 6:return it(e,r2);case 7:return it(e,s2);default:throw Error(Pe(397))}}var l2=ye('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),c2=ye('$RS("'),u2=ye('","'),h2=ye('")<\/script>'),d2=ye('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),f2=ye('$RC("'),p2=ye('","'),v2=ye('")<\/script>'),g2=ye('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),m2=ye('$RX("'),y2=ye('"'),_2=ye(")<\/script>"),Pu=ye(","),S2=/[<\u2028\u2029]/g;function Ou(e){return JSON.stringify(e).replace(S2,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var bo=Object.assign,C2=Symbol.for("react.element"),R_=Symbol.for("react.portal"),T_=Symbol.for("react.fragment"),L_=Symbol.for("react.strict_mode"),A_=Symbol.for("react.profiler"),M_=Symbol.for("react.provider"),P_=Symbol.for("react.context"),O_=Symbol.for("react.forward_ref"),I_=Symbol.for("react.suspense"),D_=Symbol.for("react.suspense_list"),B_=Symbol.for("react.memo"),df=Symbol.for("react.lazy"),w2=Symbol.for("react.scope"),k2=Symbol.for("react.debug_trace_mode"),b2=Symbol.for("react.legacy_hidden"),x2=Symbol.for("react.default_value"),qv=Symbol.iterator;function Rh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T_:return"Fragment";case R_:return"Portal";case A_:return"Profiler";case L_:return"StrictMode";case I_:return"Suspense";case D_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case P_:return(e.displayName||"Context")+".Consumer";case M_:return(e._context.displayName||"Context")+".Provider";case O_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B_:return t=e.displayName||null,t!==null?t:Rh(e.type)||"Memo";case df:t=e._payload,e=e._init;try{return Rh(e(t))}catch{}}return null}var F_={};function Qv(e,t){if(e=e.contextTypes,!e)return F_;var r={},n;for(n in e)r[n]=t[n];return r}var Oi=null;function Kc(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var r=t.parent;if(e===null){if(r!==null)throw Error(Pe(401))}else{if(r===null)throw Error(Pe(401));Kc(e,r)}t.context._currentValue=t.value}}function N_(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&N_(e)}function $_(e){var t=e.parent;t!==null&&$_(t),e.context._currentValue=e.value}function H_(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Pe(402));e.depth===t.depth?Kc(e,t):H_(e,t)}function U_(e,t){var r=t.parent;if(r===null)throw Error(Pe(402));e.depth===r.depth?Kc(e,r):U_(e,r),t.context._currentValue=t.value}function Il(e){var t=Oi;t!==e&&(t===null?$_(e):e===null?N_(t):t.depth===e.depth?Kc(t,e):t.depth>e.depth?H_(t,e):U_(t,e),Oi=e)}var Xv={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Jv(e,t,r,n){var i=e.state!==void 0?e.state:null;e.updater=Xv,e.props=r,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var a=t.contextType;if(e.context=typeof a=="object"&&a!==null?a._currentValue:n,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(r,i),i=a==null?i:bo({},i,a),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Xv.enqueueReplaceState(e,e.state,null),s.queue!==null&&0<s.queue.length)if(t=s.queue,a=s.replace,s.queue=null,s.replace=!1,a&&t.length===1)e.state=t[0];else{for(s=a?t[0]:e.state,i=!0,a=a?1:0;a<t.length;a++){var o=t[a];o=typeof o=="function"?o.call(e,s,r,n):o,o!=null&&(i?(i=!1,s=bo({},s,o)):bo(s,o))}e.state=s}else s.queue=null}var E2={id:1,overflow:""};function Th(e,t,r){var n=e.id;e=e.overflow;var i=32-al(n)-1;n&=~(1<<i),r+=1;var s=32-al(t)+i;if(30<s){var a=i-i%5;return s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,{id:1<<32-al(t)+i|r<<i|n,overflow:s+e}}return{id:1<<s|r<<i|n,overflow:e}}var al=Math.clz32?Math.clz32:L2,R2=Math.log,T2=Math.LN2;function L2(e){return e>>>=0,e===0?32:31-(R2(e)/T2|0)|0}function A2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var M2=typeof Object.is=="function"?Object.is:A2,Nn=null,ff=null,ll=null,Ze=null,vo=!1,Dl=!1,Uo=0,ri=null,Vc=0;function Li(){if(Nn===null)throw Error(Pe(321));return Nn}function Yv(){if(0<Vc)throw Error(Pe(312));return{memoizedState:null,queue:null,next:null}}function pf(){return Ze===null?ll===null?(vo=!1,ll=Ze=Yv()):(vo=!0,Ze=ll):Ze.next===null?(vo=!1,Ze=Ze.next=Yv()):(vo=!0,Ze=Ze.next),Ze}function vf(){ff=Nn=null,Dl=!1,ll=null,Vc=0,Ze=ri=null}function j_(e,t){return typeof t=="function"?t(e):t}function Zv(e,t,r){if(Nn=Li(),Ze=pf(),vo){var n=Ze.queue;if(t=n.dispatch,ri!==null&&(r=ri.get(n),r!==void 0)){ri.delete(n),n=Ze.memoizedState;do n=e(n,r.action),r=r.next;while(r!==null);return Ze.memoizedState=n,[n,t]}return[Ze.memoizedState,t]}return e=e===j_?typeof t=="function"?t():t:r!==void 0?r(t):t,Ze.memoizedState=e,e=Ze.queue={last:null,dispatch:null},e=e.dispatch=P2.bind(null,Nn,e),[Ze.memoizedState,e]}function eg(e,t){if(Nn=Li(),Ze=pf(),t=t===void 0?null:t,Ze!==null){var r=Ze.memoizedState;if(r!==null&&t!==null){var n=r[1];e:if(n===null)n=!1;else{for(var i=0;i<n.length&&i<t.length;i++)if(!M2(t[i],n[i])){n=!1;break e}n=!0}if(n)return r[0]}}return e=e(),Ze.memoizedState=[e,t],e}function P2(e,t,r){if(25<=Vc)throw Error(Pe(301));if(e===Nn)if(Dl=!0,e={action:r,next:null},ri===null&&(ri=new Map),r=ri.get(t),r===void 0)ri.set(t,e);else{for(t=r;t.next!==null;)t=t.next;t.next=e}}function O2(){throw Error(Pe(394))}function xa(){}var tg={readContext:function(e){return e._currentValue},useContext:function(e){return Li(),e._currentValue},useMemo:eg,useReducer:Zv,useRef:function(e){Nn=Li(),Ze=pf();var t=Ze.memoizedState;return t===null?(e={current:e},Ze.memoizedState=e):t},useState:function(e){return Zv(j_,e)},useInsertionEffect:xa,useLayoutEffect:function(){},useCallback:function(e,t){return eg(function(){return e},t)},useImperativeHandle:xa,useEffect:xa,useDebugValue:xa,useDeferredValue:function(e){return Li(),e},useTransition:function(){return Li(),[!1,O2]},useId:function(){var e=ff.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-al(e)-1)).toString(32)+t;var r=cl;if(r===null)throw Error(Pe(404));return t=Uo++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Li(),t(e._source)},useSyncExternalStore:function(e,t,r){if(r===void 0)throw Error(Pe(407));return r()}},cl=null,Iu=w_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function I2(e){return console.error(e),null}function go(){}function D2(e,t,r,n,i,s,a,o,l){var h=[],g=new Set;return t={destination:null,responseState:t,progressiveChunkSize:n===void 0?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:g,pingedTasks:h,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?I2:i,onAllReady:s===void 0?go:s,onShellReady:a===void 0?go:a,onShellError:o===void 0?go:o,onFatalError:l===void 0?go:l},r=Bl(t,0,null,r,!1,!1),r.parentFlushed=!0,e=gf(t,e,null,r,g,F_,null,E2),h.push(e),t}function gf(e,t,r,n,i,s,a,o){e.allPendingTasks++,r===null?e.pendingRootTasks++:r.pendingTasks++;var l={node:t,ping:function(){var h=e.pingedTasks;h.push(l),h.length===1&&K_(e)},blockedBoundary:r,blockedSegment:n,abortSet:i,legacyContext:s,context:a,treeContext:o};return i.add(l),l}function Bl(e,t,r,n,i,s){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:r,lastPushedText:i,textEmbedded:s}}function jo(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Fl(e,t){var r=e.onShellError;r(t),r=e.onFatalError,r(t),e.destination!==null?(e.status=2,b_(e.destination,t)):(e.status=1,e.fatalError=t)}function rg(e,t,r,n,i){for(Nn={},ff=t,Uo=0,e=r(n,i);Dl;)Dl=!1,Uo=0,Vc+=1,Ze=null,e=r(n,i);return vf(),e}function ng(e,t,r,n){var i=r.render(),s=n.childContextTypes;if(s!=null){var a=t.legacyContext;if(typeof r.getChildContext!="function")n=a;else{r=r.getChildContext();for(var o in r)if(!(o in s))throw Error(Pe(108,Rh(n)||"Unknown",o));n=bo({},a,r)}t.legacyContext=n,Rr(e,t,i),t.legacyContext=a}else Rr(e,t,i)}function ig(e,t){if(e&&e.defaultProps){t=bo({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Lh(e,t,r,n,i){if(typeof r=="function")if(r.prototype&&r.prototype.isReactComponent){i=Qv(r,t.legacyContext);var s=r.contextType;s=new r(n,typeof s=="object"&&s!==null?s._currentValue:i),Jv(s,r,n,i),ng(e,t,s,r)}else{s=Qv(r,t.legacyContext),i=rg(e,t,r,n,s);var a=Uo!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)Jv(i,r,n,s),ng(e,t,i,r);else if(a){n=t.treeContext,t.treeContext=Th(n,1,0);try{Rr(e,t,i)}finally{t.treeContext=n}}else Rr(e,t,i)}else if(typeof r=="string"){switch(i=t.blockedSegment,s=xE(i.chunks,r,n,e.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=_E(a,r,n),Ah(e,t,s),i.formatContext=a,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(EE,Ie(r),RE)}i.lastPushedText=!1}else{switch(r){case b2:case k2:case L_:case A_:case T_:Rr(e,t,n.children);return;case D_:Rr(e,t,n.children);return;case w2:throw Error(Pe(343));case I_:e:{r=t.blockedBoundary,i=t.blockedSegment,s=n.fallback,n=n.children,a=new Set;var o={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=Bl(e,i.chunks.length,o,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var h=Bl(e,0,null,i.formatContext,!1,!1);h.parentFlushed=!0,t.blockedBoundary=o,t.blockedSegment=h;try{if(Ah(e,t,n),h.lastPushedText&&h.textEmbedded&&h.chunks.push(hf),h.status=1,Nl(o,h),o.pendingTasks===0)break e}catch(g){h.status=4,o.forceClientRender=!0,o.errorDigest=jo(e,g)}finally{t.blockedBoundary=r,t.blockedSegment=i}t=gf(e,s,r,l,a,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O_:if(n=rg(e,t,r.render,n,i),Uo!==0){r=t.treeContext,t.treeContext=Th(r,1,0);try{Rr(e,t,n)}finally{t.treeContext=r}}else Rr(e,t,n);return;case B_:r=r.type,n=ig(r,n),Lh(e,t,r,n,i);return;case M_:if(i=n.children,r=r._context,n=n.value,s=r._currentValue,r._currentValue=n,a=Oi,Oi=n={parent:a,depth:a===null?0:a.depth+1,context:r,parentValue:s,value:n},t.context=n,Rr(e,t,i),e=Oi,e===null)throw Error(Pe(403));n=e.parentValue,e.context._currentValue=n===x2?e.context._defaultValue:n,e=Oi=e.parent,t.context=e;return;case P_:n=n.children,n=n(r._currentValue),Rr(e,t,n);return;case df:i=r._init,r=i(r._payload),n=ig(r,n),Lh(e,t,r,n,void 0);return}throw Error(Pe(130,r==null?r:typeof r,""))}}function Rr(e,t,r){if(t.node=r,typeof r=="object"&&r!==null){switch(r.$$typeof){case C2:Lh(e,t,r.type,r.props,r.ref);return;case R_:throw Error(Pe(257));case df:var n=r._init;r=n(r._payload),Rr(e,t,r);return}if(Eh(r)){sg(e,t,r);return}if(r===null||typeof r!="object"?n=null:(n=qv&&r[qv]||r["@@iterator"],n=typeof n=="function"?n:null),n&&(n=n.call(r))){if(r=n.next(),!r.done){var i=[];do i.push(r.value),r=n.next();while(!r.done);sg(e,t,i)}return}throw e=Object.prototype.toString.call(r),Error(Pe(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}typeof r=="string"?(n=t.blockedSegment,n.lastPushedText=Uv(t.blockedSegment.chunks,r,e.responseState,n.lastPushedText)):typeof r=="number"&&(n=t.blockedSegment,n.lastPushedText=Uv(t.blockedSegment.chunks,""+r,e.responseState,n.lastPushedText))}function sg(e,t,r){for(var n=r.length,i=0;i<n;i++){var s=t.treeContext;t.treeContext=Th(s,n,i);try{Ah(e,t,r[i])}finally{t.treeContext=s}}}function Ah(e,t,r){var n=t.blockedSegment.formatContext,i=t.legacyContext,s=t.context;try{return Rr(e,t,r)}catch(l){if(vf(),typeof l=="object"&&l!==null&&typeof l.then=="function"){r=l;var a=t.blockedSegment,o=Bl(e,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(o),a.lastPushedText=!1,e=gf(e,t.node,t.blockedBoundary,o,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,r.then(e,e),t.blockedSegment.formatContext=n,t.legacyContext=i,t.context=s,Il(s)}else throw t.blockedSegment.formatContext=n,t.legacyContext=i,t.context=s,Il(s),l}}function B2(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,z_(this,t,e)}function W_(e,t,r){var n=e.blockedBoundary;e.blockedSegment.status=3,n===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,e=r===void 0?Error(Pe(432)):r,n.errorDigest=t.onError(e),n.parentFlushed&&t.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach(function(i){return W_(i,t,r)}),n.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(n=t.onAllReady,n()))}function Nl(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var r=t.children[0];r.id=t.id,r.parentFlushed=!0,r.status===1&&Nl(e,r)}else e.completedSegments.push(t)}function z_(e,t,r){if(t===null){if(r.parentFlushed){if(e.completedRootSegment!==null)throw Error(Pe(389));e.completedRootSegment=r}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=go,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(r.parentFlushed&&r.status===1&&Nl(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(B2,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&r.status===1&&(Nl(t,r),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function K_(e){if(e.status!==2){var t=Oi,r=Iu.current;Iu.current=tg;var n=cl;cl=e.responseState;try{var i=e.pingedTasks,s;for(s=0;s<i.length;s++){var a=i[s],o=e,l=a.blockedSegment;if(l.status===0){Il(a.context);try{Rr(o,a,a.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(hf),a.abortSet.delete(a),l.status=1,z_(o,a.blockedBoundary,l)}catch(C){if(vf(),typeof C=="object"&&C!==null&&typeof C.then=="function"){var h=a.ping;C.then(h,h)}else{a.abortSet.delete(a),l.status=4;var g=a.blockedBoundary,p=C,m=jo(o,p);if(g===null?Fl(o,p):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,g.errorDigest=m,g.parentFlushed&&o.clientRenderedBoundaries.push(g))),o.allPendingTasks--,o.allPendingTasks===0){var w=o.onAllReady;w()}}}finally{}}}i.splice(0,s),e.destination!==null&&mf(e,e.destination)}catch(C){jo(e,C),Fl(e,C)}finally{cl=n,Iu.current=r,r===tg&&Il(t)}}}function Ea(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var n=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,be(t,TE),be(t,e.placeholderPrefix),e=Ie(n.toString(16)),be(t,e),it(t,LE);case 1:r.status=2;var i=!0;n=r.chunks;var s=0;r=r.children;for(var a=0;a<r.length;a++){for(i=r[a];s<i.index;s++)be(t,n[s]);i=Gc(e,t,i)}for(;s<n.length-1;s++)be(t,n[s]);return s<n.length&&(i=it(t,n[s])),i;default:throw Error(Pe(390))}}function Gc(e,t,r){var n=r.boundary;if(n===null)return Ea(e,t,r);if(n.parentFlushed=!0,n.forceClientRender)n=n.errorDigest,it(t,OE),be(t,DE),n&&(be(t,FE),be(t,Ie(It(n))),be(t,BE)),it(t,NE),Ea(e,t,r);else if(0<n.pendingTasks){n.rootSegmentID=e.nextSegmentId++,0<n.completedSegments.length&&e.partialBoundaries.push(n);var i=e.responseState,s=i.nextSuspenseID++;i=ye(i.boundaryPrefix+s.toString(16)),n=n.id=i,Gv(t,e.responseState,n),Ea(e,t,r)}else if(n.byteSize>e.progressiveChunkSize)n.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(n),Gv(t,e.responseState,n.id),Ea(e,t,r);else{if(it(t,AE),r=n.completedSegments,r.length!==1)throw Error(Pe(391));Gc(e,t,r[0])}return it(t,IE)}function og(e,t,r){return o2(t,e.responseState,r.formatContext,r.id),Gc(e,t,r),a2(t,r.formatContext)}function ag(e,t,r){for(var n=r.completedSegments,i=0;i<n.length;i++)V_(e,t,r,n[i]);if(n.length=0,e=e.responseState,n=r.id,r=r.rootSegmentID,be(t,e.startInlineScript),e.sentCompleteBoundaryFunction?be(t,f2):(e.sentCompleteBoundaryFunction=!0,be(t,d2)),n===null)throw Error(Pe(395));return r=Ie(r.toString(16)),be(t,n),be(t,p2),be(t,e.segmentPrefix),be(t,r),it(t,v2)}function V_(e,t,r,n){if(n.status===2)return!0;var i=n.id;if(i===-1){if((n.id=r.rootSegmentID)===-1)throw Error(Pe(392));return og(e,t,n)}return og(e,t,n),e=e.responseState,be(t,e.startInlineScript),e.sentCompleteSegmentFunction?be(t,c2):(e.sentCompleteSegmentFunction=!0,be(t,l2)),be(t,e.segmentPrefix),i=Ie(i.toString(16)),be(t,i),be(t,u2),be(t,e.placeholderPrefix),be(t,i),it(t,h2)}function mf(e,t){xr=new Uint8Array(512),Er=0;try{var r=e.completedRootSegment;if(r!==null&&e.pendingRootTasks===0){Gc(e,t,r),e.completedRootSegment=null;var n=e.responseState.bootstrapChunks;for(r=0;r<n.length-1;r++)be(t,n[r]);r<n.length&&it(t,n[r])}var i=e.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var a=i[s];n=t;var o=e.responseState,l=a.id,h=a.errorDigest,g=a.errorMessage,p=a.errorComponentStack;if(be(n,o.startInlineScript),o.sentClientRenderFunction?be(n,m2):(o.sentClientRenderFunction=!0,be(n,g2)),l===null)throw Error(Pe(395));be(n,l),be(n,y2),(h||g||p)&&(be(n,Pu),be(n,Ie(Ou(h||"")))),(g||p)&&(be(n,Pu),be(n,Ie(Ou(g||"")))),p&&(be(n,Pu),be(n,Ie(Ou(p)))),it(n,_2)}i.splice(0,s);var m=e.completedBoundaries;for(s=0;s<m.length;s++)ag(e,t,m[s]);m.splice(0,s),Fv(t),xr=new Uint8Array(512),Er=0;var w=e.partialBoundaries;for(s=0;s<w.length;s++){var C=w[s];e:{i=e,a=t;var y=C.completedSegments;for(o=0;o<y.length;o++)if(!V_(i,a,C,y[o])){o++,y.splice(0,o);var v=!1;break e}y.splice(0,o),v=!0}if(!v){e.destination=null,s++,w.splice(0,s);return}}w.splice(0,s);var d=e.completedBoundaries;for(s=0;s<d.length;s++)ag(e,t,d[s]);d.splice(0,s)}finally{Fv(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function lg(e,t){try{var r=e.abortableTasks;r.forEach(function(n){return W_(n,e,t)}),r.clear(),e.destination!==null&&mf(e,e.destination)}catch(n){jo(e,n),Fl(e,n)}}lf.renderToReadableStream=function(e,t){return new Promise(function(r,n){var i,s,a=new Promise(function(g,p){s=g,i=p}),o=D2(e,mE(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),yE(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,s,function(){var g=new ReadableStream({type:"bytes",pull:function(p){if(o.status===1)o.status=2,b_(p,o.fatalError);else if(o.status!==2&&o.destination===null){o.destination=p;try{mf(o,p)}catch(m){jo(o,m),Fl(o,m)}}},cancel:function(){lg(o)}},{highWaterMark:0});g.allReady=a,r(g)},function(g){a.catch(function(){}),n(g)},i);if(t&&t.signal){var l=t.signal,h=function(){lg(o,l.reason),l.removeEventListener("abort",h)};l.addEventListener("abort",h)}K_(o)})};lf.version="18.3.1";var Ks,G_;Ks=zs,G_=lf;yi.version=Ks.version;yi.renderToString=Ks.renderToString;yi.renderToStaticMarkup=Ks.renderToStaticMarkup;yi.renderToNodeStream=Ks.renderToNodeStream;yi.renderToStaticNodeStream=Ks.renderToStaticNodeStream;yi.renderToReadableStream=G_.renderToReadableStream;const $l=[{key:"a",chordCode:"4",index:0},{key:"A",chordCode:"54",index:0},{key:"b",chordCode:"17",index:1},{key:"B",chordCode:"517",index:1},{key:"c",chordCode:"37",index:2},{key:"C",chordCode:"537",index:2},{key:"d",chordCode:"2",index:3},{key:"D",chordCode:"52",index:3},{key:"e",chordCode:"32",index:4},{key:"E",chordCode:"532",index:4},{key:"f",chordCode:"1",index:5},{key:"F",chordCode:"51",index:5},{key:"g",chordCode:"21",index:6},{key:"G",chordCode:"521",index:6},{key:"h",chordCode:"76",index:7},{key:"H",chordCode:"576",index:7},{key:"i",chordCode:"72",index:8},{key:"I",chordCode:"572",index:8},{key:"j",chordCode:"6",index:9},{key:"J",chordCode:"56",index:9},{key:"k",chordCode:"7",index:10},{key:"K",chordCode:"57",index:10},{key:"l",chordCode:"8",index:11},{key:"L",chordCode:"58",index:11},{key:"m",chordCode:"27",index:12},{key:"M",chordCode:"527",index:12},{key:"n",chordCode:"16",index:13},{key:"N",chordCode:"516",index:13},{key:"o",chordCode:"83",index:14},{key:"O",chordCode:"583",index:14},{key:"p",chordCode:"94",index:15},{key:"P",chordCode:"594",index:15},{key:"q",chordCode:"43",index:16},{key:"Q",chordCode:"543",index:16},{key:"r",chordCode:"23",index:17},{key:"R",chordCode:"523",index:17},{key:"s",chordCode:"3",index:18},{key:"S",chordCode:"53",index:18},{key:"t",chordCode:"12",index:19},{key:"T",chordCode:"512",index:19},{key:"u",chordCode:"61",index:20},{key:"U",chordCode:"561",index:20},{key:"v",chordCode:"28",index:21},{key:"V",chordCode:"528",index:21},{key:"w",chordCode:"34",index:22},{key:"W",chordCode:"534",index:22},{key:"x",chordCode:"39",index:23},{key:"X",chordCode:"539",index:23},{key:"y",chordCode:"26",index:24},{key:"Y",chordCode:"526",index:24},{key:"z",chordCode:"48",index:25},{key:"Z",chordCode:"548",index:25},{key:"1",chordCode:"10",index:26},{key:"!",chordCode:"510",index:26},{key:"2",chordCode:"20",index:27},{key:"@",chordCode:"520",index:27},{key:"3",chordCode:"30",index:28},{key:"#",chordCode:"530",index:28},{key:"4",chordCode:"40",index:29},{key:"$",chordCode:"540",index:29},{key:"5",chordCode:"050",index:30},{key:"%",chordCode:"5050",index:30},{key:"6",chordCode:"60",index:31},{key:"^",chordCode:"560",index:31},{key:"7",chordCode:"70",index:32},{key:"&",chordCode:"570",index:32},{key:"8",chordCode:"80",index:33},{key:"*",chordCode:"580",index:33},{key:"9",chordCode:"90",index:34},{key:"(",chordCode:"590",index:34},{key:"0",chordCode:"C",index:35},{key:")",chordCode:"5C",index:35},{key:"\r",alias:"Enter",chordCode:"0",index:36},{key:"ESCAPE",chordCode:"491",index:37},{key:"DELETE (Backspace)",alias:"Backspace",chordCode:"B",index:38},{key:"\\t",alias:"Tab",chordCode:"14",index:39},{key:"&#x2581;",alias:"Space",chordCode:"5",index:40},{key:"-",chordCode:"B0",index:41},{key:"(underscore)",alias:"_",chordCode:"5B0",index:41},{key:"=",chordCode:"C0",index:42},{key:"+",chordCode:"5C0",index:42},{key:"[",chordCode:"45",index:43},{key:"{",chordCode:"545",index:43},{key:"]",chordCode:"495",index:44},{key:"}",chordCode:"5495",index:44},{key:"\\",chordCode:"15",index:45},{key:"|",chordCode:"515",index:45},{key:";",chordCode:"9",index:46},{key:":",chordCode:"59",index:46},{key:"'",chordCode:"89",index:47},{key:'"',chordCode:"589",index:47},{key:"`",chordCode:"101",index:48},{key:"~",chordCode:"5101",index:48},{key:",",chordCode:"38",index:49},{key:"<",chordCode:"538",index:49},{key:".",chordCode:"49",index:50},{key:">",chordCode:"549",index:50},{key:"/",chordCode:"96",index:51},{key:"?",chordCode:"596",index:51},{key:"Caps Lock",chordCode:"E",index:52},{key:"F1",chordCode:"131",index:53},{key:"F2",chordCode:"1D",index:54},{key:"F3",chordCode:"370",index:55},{key:"F4",chordCode:"B0B",index:56},{key:"F5",chordCode:"1C",index:57},{key:"F6",chordCode:"B06",index:58},{key:"F7",chordCode:"B12",index:59},{key:"F8",chordCode:"B7",index:60},{key:"F9",chordCode:"B2",index:61},{key:"F10",chordCode:"BC",index:62},{key:"F11",chordCode:"B8B",index:63},{key:"F12",chordCode:"B3B",index:64},{key:"PrintScreen",chordCode:"BD",index:65},{key:"Scroll Lock",chordCode:"7E7",index:66},{key:"Pause",chordCode:"206",index:67},{key:"Insert",chordCode:"200",index:68},{key:"Home",chordCode:"B1",index:69},{key:"PageUp",chordCode:"B8",index:70},{key:"Delete Forward",chordCode:"7B",index:71},{key:"End",chordCode:"C2",index:72},{key:"PageDown",chordCode:"8B",index:73},{key:"RightArrow",alias:"Right",chordCode:"2C",index:74},{key:"LeftArrow",alias:"Left",chordCode:"1B",index:75},{key:"DownArrow",alias:"Down",chordCode:"71",index:76},{key:"UpArrow",alias:"Up",chordCode:"73",index:77},{key:"Keypad Num Lock",chordCode:"202",index:78},{key:"Clear",chordCode:"5202",index:78},{key:"Keypad /",chordCode:"2A2",index:79},{key:"Keypad *",chordCode:"717",index:80},{key:"Keypad -",chordCode:"212",index:81},{key:"Keypad +",chordCode:"2B",index:82},{key:"Keypad ENTER",chordCode:"27E",index:83},{key:"Keypad 1",chordCode:"2C4",index:84},{key:"End",chordCode:"52C4",index:84},{key:"Keypad 2",chordCode:"282",index:85},{key:"Down Arrow",chordCode:"5282",index:85},{key:"Keypad 3",chordCode:"23278",index:86},{key:"PageDn",chordCode:"523278",index:86},{key:"Keypad 4",chordCode:"2D",index:87},{key:"Left Arrow",chordCode:"52D",index:87},{key:"Keypad 5",chordCode:"CE",index:88},{key:"Keypad 6",chordCode:"C0C",index:89},{key:"Right Arrow",chordCode:"5C0C",index:89},{key:"Keypad 7",chordCode:"CA",index:90},{key:"Home",chordCode:"5CA",index:90},{key:"Keypad 8",chordCode:"C6",index:91},{key:"Up Arrow",chordCode:"5C6",index:91},{key:"Keypad 9",chordCode:"C1",index:92},{key:"PageUp",chordCode:"5C1",index:92},{key:"Keypad 0",chordCode:"CB",index:93},{key:"Insert",chordCode:"5CB",index:93},{key:"Keypad .",chordCode:"C7E",index:94},{key:"Delete",chordCode:"5C7E",index:94},{key:"Non-US \\",chordCode:"C2E",index:95},{key:"|",chordCode:"5C2E",index:95},{key:"Application",chordCode:"C8",index:96},{key:"Power",chordCode:"321",index:97},{key:"Keypad =",chordCode:"CD",index:98},{key:"F13",chordCode:"8E",index:99},{key:"F14",chordCode:"850",index:100},{key:"F15",chordCode:"8A",index:101},{key:"F16",chordCode:"6C6",index:102},{key:"F17",chordCode:"801",index:103},{key:"F18",chordCode:"8B8",index:104},{key:"F19",chordCode:"878",index:105},{key:"F20",chordCode:"82",index:106},{key:"F21",chordCode:"8C",index:107},{key:"F22",chordCode:"8383",index:108},{key:"F23",chordCode:"8D",index:109},{key:"F24",chordCode:"3E",index:110},{key:"Execute",chordCode:"1A1",index:111},{key:"Help",chordCode:"7E",index:112},{key:"Menu",chordCode:"36",index:113},{key:"Select",chordCode:"313",index:114},{key:"Stop",chordCode:"123",index:115},{key:"Again",chordCode:"7A7",index:116},{key:"Undo",chordCode:"232",index:117},{key:"Cut",chordCode:"3C",index:118},{key:"Copy",chordCode:"383",index:119},{key:"Paste",chordCode:"838",index:120},{key:"Find",chordCode:"DE",index:121},{key:"Mute",chordCode:"D0D",index:122},{key:"Volume Up",chordCode:"DA",index:123},{key:"Volume Down",chordCode:"D6",index:124},{key:"Locking Caps Lock",chordCode:"D1",index:125},{key:"Locking Num Lock",chordCode:"DB",index:126},{key:"Locking Scroll Lock",chordCode:"D7",index:127},{key:"Keypad Comma",chordCode:"D2",index:128},{key:"Keypad Equal Sign",chordCode:"DC",index:129},{key:"International1",chordCode:"D82",index:130},{key:"International2",chordCode:"D3D",index:131},{key:"International3",chordCode:"700",index:132},{key:"International4",chordCode:"7E0",index:133},{key:"International5",chordCode:"7EA",index:134},{key:"International6",chordCode:"7E6",index:135},{key:"International7",chordCode:"6E1",index:136},{key:"International8",chordCode:"7EB",index:137},{key:"International9",chordCode:"7E73",index:138},{key:"LANG1",chordCode:"7E2",index:139},{key:"LANG2",chordCode:"7EC",index:140},{key:"LANG3",chordCode:"7E8",index:141},{key:"LANG4",chordCode:"7E3",index:142},{key:"LANG5",chordCode:"7ED",index:143},{key:"LANG6",chordCode:"70C",index:144},{key:"LeftControl",chordCode:"09999",index:145},{key:"LeftShift",chordCode:"59999",index:146},{key:"LeftAlt",chordCode:"A",index:147},{key:"Left GUI",chordCode:"2121",index:148},{key:"RightControl",chordCode:"7A0",index:149},{key:"RightShift",chordCode:"7EA7",index:150},{key:"RightAlt",chordCode:"7A6",index:151},{key:"Right GUI",chordCode:"1212",index:152}],da=({displayChar:e})=>{let t=Array.from($l).find(n=>n.key.replace("&#x2581;"," ")===e);t==null&&(t=Array.from($l).find(n=>n.key===e));const r=t?.alias??t?.key;return fe("div",{className:"chord-image-holder",id:"chord-image-holder","data-source":"ErrorDisplay.tsx",children:vt("div",{className:"col-sm-2 row generated next",id:"chord2",children:[fe("span",{id:"char15",className:"char",children:r}),fe("img",{loading:"lazy",alt:"2",src:`/images/svgs/${t?.chordCode}.svg`,height:"59.516",width:"75",className:"hand"})]})})};class F2{commands={};register(t){this.commands[t.name]=t}getCommand(t){return this.commands[t]}getHelp(t){return Object.values(this.commands).filter(r=>!t||r.name.includes(t)).map(r=>`${r.name}: ${r.description}`).join(`

`)}}const Hl=new F2,N2={name:"help",description:"Display help information",execute:(e,t)=>{if(t.command==="help"||t.command==="411"){const n=["DELETE (Backspace)","\r","UpArrow","LeftArrow","DownArrow","RightArrow","ESCAPE"].map(a=>fe(da,{displayChar:a},a)).map(a=>yi.renderToStaticMarkup(a)).join(""),i=Hl.getHelp(),s=`
        <div class='chord-display-container'>${n}</div>
        <div class='command-list-container'>
          <h3>Available Commands:</h3>
          <pre>${i}</pre>
        </div>
      `;return Promise.resolve({status:200,message:s})}return Promise.resolve({status:404,message:"Help command not recognized"})}},$2=Object.freeze(Object.defineProperty({__proto__:null,HelpCommand:N2},Symbol.toStringTag,{value:"Module"})),H2={name:"ls",description:"List files",switches:{all:"List all phrases",random:"List a random phrase",easy:"List only easy phrases"},execute:(e,t)=>{if(e==null)return Promise.resolve({status:404,message:"No command context available."});const r=qe.map(n=>n.key).join(`
`);return Promise.resolve({status:200,message:r})}},U2=Object.freeze(Object.defineProperty({__proto__:null,ListPhrasesCommand:H2},Symbol.toStringTag,{value:"Module"})),j2=Gt(),W2={name:"login",description:"Log in to the system",execute:async(e,t)=>{const{auth:r}=e;if(t.args.length===1){Zr(!0);const n=t.args[0]??"";return xl(n),Fo.value!=n&&j2.error("Username mismatch"),{status:200,message:"Enter password:",sensitive:!0}}else if(t.args.length===2&&ms.value){const n=t.args[0]??"",i=t.args[1]??"";try{const s=await r.login(n,i);return s.status!==200||s.data==null?{status:s.status,message:s.message??"Login failed",sensitive:!0}:(Zr(!1),{status:200,message:"Login successful!",sensitive:!0})}catch(s){Zr(!1);let a="An unknown error occurred";return(s instanceof Error||typeof s=="object"&&s!==null&&"message"in s)&&(a=s.message),{status:500,message:a.startsWith("Login error:")?a:`Login error: ${a}`,sensitive:!0}}}else return{status:400,message:"Usage: login <username>"}}},z2=Object.freeze(Object.defineProperty({__proto__:null,LoginCommand:W2},Symbol.toStringTag,{value:"Module"})),K2={name:"signup",description:"Create a new account",execute:async(e,t)=>{const{auth:r}=e;if(t.args.length===2)return Xa(!0),xl(t.args?.[0]??""),xy(t.args?.[1]??""),{status:200,message:"Enter password:"};if(t.args.length===3&&ys.value){const n=Fo.value,i=Xn.value,s=Gd.value;try{const a=await r.signup({username:n,password:i,email:s});return Xa(!1),a.status===200?{status:200,message:"Account created successfully! Please check your email for verification."}:{status:a.status,message:`Signup failed: ${a.message}`}}catch(a){return Xa(!1),{status:500,message:`Signup error: ${a instanceof Error?a.message:"Unknown error"}`}}}else return{status:400,message:"Usage: signup <username> <email>"}}},V2=Object.freeze(Object.defineProperty({__proto__:null,SignUpCommand:K2},Symbol.toStringTag,{value:"Module"})),G2={name:"special",description:"Display special characters",execute:async(e,t)=>(await Promise.resolve(),{status:200,message:`<div class='chord-display-container'>${["~","`","!","@","#","$","%","^","&","*","(",")","-","_","+","=","{","[","}","]","|","\\",":",";",'"',"'","<",">",",",".","?","/"].map(s=>fe(da,{displayChar:s},s)).map(s=>yi.renderToStaticMarkup(s)).join("")}</div>`})},q2=Object.freeze(Object.defineProperty({__proto__:null,SpecialCommand:G2},Symbol.toStringTag,{value:"Module"}));function rs(e){return e==null||e===""}function Q2(e){return e!=null}function X2(e,t,...r){const n=e.current?.[t];n!=null&&typeof n=="function"&&n(...r)}function J2(e){return function(t,...r){if(e.current!==null&&e.current!==void 0&&typeof e.current[t]=="function"){const n=e.current[t];n(...r)}}}const Y2={name:"archive",description:"Archive the current command history",execute:async(e,t)=>{const r=async i=>{if(i>=localStorage.length)return{status:200,message:"Command history archived."};const s=localStorage.key(i);if(rs(s))return await r(i+1),{status:500,message:"Stopping archive due to localStorage key not found."};if(s.startsWith(yr.command+"_")||s.startsWith(yr.charTime+"_"))if(s.includes("_archive_"))localStorage.removeItem(s);else{const a=s.substring(0,s.indexOf("_")),o=localStorage.getItem(s);if(o!==null&&o!=="")try{const l=window._handTerm??{current:null};if(l.current===null||l.current===void 0||l.current.props===null||l.current.props.auth===null){const g={command:t,response:"Authentication not available.",status:500,commandTime:new Date};return e.appendToOutput(g),{status:500,message:"Authentication not available."}}if(!await l.current.props.auth.saveLog(s,o,"json")){const g={command:t,response:"Stopping archive due to saveLog returning false.",status:500,commandTime:new Date};return e.appendToOutput(g),{status:500,message:"Stopping archive due to saveLog returning false."}}localStorage.setItem(s.replace(a,a+"_archive"),o),localStorage.removeItem(s)}catch(l){const h=l instanceof Error?l.message:"An unknown error occurred",g={command:t,response:`Archive error: ${h}`,status:500,commandTime:new Date};return e.appendToOutput(g),{status:500,message:`Archive error: ${h}`}}}return new Promise(a=>{setTimeout(()=>{r(i+1).then(a).catch(o=>{const l=o instanceof Error?o.message:"An unknown error occurred",h={command:t,response:`Archive error: ${l}`,status:500,commandTime:new Date};e.appendToOutput(h),a({status:500,message:`Archive error: ${l}`})})},300)})};typeof window._handTerm>"u"&&(window._handTerm={current:null});const n=await r(0);return window._handTerm.current?.prompt(),n}},Z2=Object.freeze(Object.defineProperty({__proto__:null,archiveCommand:Y2},Symbol.toStringTag,{value:"Module"})),eR=()=>{const e=localStorage.getItem(yr.commandHistory)??"[]";try{const t=JSON.parse(e);return Array.isArray(t)&&t.every(r=>typeof r=="string")?t:Array.isArray(t)&&t.every(r=>typeof r=="object"&&r!==null&&"command"in r)?t.map(yf):[]}catch{return[]}},q_=e=>{localStorage.setItem(yr.commandHistory,JSON.stringify(e))};function yf(e){const t=e.args!=null?e.args.join(" "):"",r=e.switches==null?"":Object.entries(e.switches).map(([n,i])=>typeof i=="boolean"?i?`-${n}`:"":`-${n} ${i}`).filter(n=>n).join(" ");return[e.command,t,r].filter(n=>n).join(" ").trim()}function tR(e){return e.substring(0,1)==="--"||e.startsWith("-")&&e.length===2}const ul=e=>{const t=e.split(/\s+/).filter(Boolean),r=t.shift()??"",n=[],i={};for(let s=0;s<t.length;s++){const a=t[s];if(a!==void 0&&a!=null)if(tR(a)){const o=a.indexOf("=");if(o>-1){const l=a.substring(2,o),h=a.substring(o+1);i[l]=h}else{const l=a.substring(0,2)==="--"?a.substring(2):a.substring(1);if(s+1<t.length){const h=t[s+1];h&&!h.startsWith("-")?(i[l]=h,s++):i[l]=!0}else i[l]=!0}}else n.push(a)}return{command:r,args:n,switches:i}};function rR(e){return typeof e=="string"}const nR={name:"clean",description:"clean the command history",execute:async e=>{if(e==null)return{status:404,message:"No command context available."};const t=localStorage.getItem(yr.commandHistory);let r=[];rR(t)&&(r=JSON.parse(t??"[]"));let n="";for(let i=r.length-1;i>=0;i--)r[i]===n?r.splice(i,1):n=r[i]??"";return q_(r),X2(e.handTermRef,"prompt"),await Promise.resolve(),{status:200,message:"Command history cleaned."}}},iR=Object.freeze(Object.defineProperty({__proto__:null,cleanCommand:nR},Symbol.toStringTag,{value:"Module"})),sR={name:"clear",description:"Clear the command history",execute:async(e,t)=>{const r=e.handTerm;if(!r?.current){const a={command:t,response:"No command context available.",status:404,commandTime:new Date};return e.appendToOutput(a),{status:404,message:"No command context available."}}const n=Object.keys(localStorage).filter(a=>{const o=a.includes(yr.command)||a.includes("terminalCommandHistory")||a.includes(yr.charTime),l=t.args.length>0&&a.includes(t.args[0]??"");return o??l});await Promise.all(n.map(async a=>{await new Promise(o=>{localStorage.removeItem(a),o()})}));const i=r.current;i&&(i.setState({commandHistory:[]}),i.setState({outputElements:[]}),i.terminalReset(),i.prompt());const s={command:t,response:"Command history cleared.",status:200,commandTime:new Date};return e.appendToOutput(s),{status:200,message:"Command history cleared."}}},oR=Object.freeze(Object.defineProperty({__proto__:null,clearCommand:sR},Symbol.toStringTag,{value:"Module"})),cg=Gt();function aR(e){return typeof e=="object"&&e!==null&&"message"in e}const lR=je.create({baseURL:Zt.api.BaseUrl,headers:{"Content-Type":"application/json",Accept:"application/json"}});async function cR(e,t,r,n="GET",i){try{const s=await e.validateAndRefreshToken();if(s==null||s.status!==200||s.data==null)return{status:401,error:"Authentication failed"};const a=s.data.AccessToken;if(a==null)return{status:401,error:"Access token not found"};try{const o=await lR.request({method:n,url:t,headers:{Authorization:`Bearer ${a}`},params:r,data:i});return{status:o.status,data:o.data}}catch(o){if(je.isAxiosError(o)){const h=o;if(h.response?.status===404&&r?.path==="_index.md")return{status:200,data:{content:"",encoding:"utf-8",lastModified:new Date().toISOString(),size:0}};if(h.response){const{status:g,data:p}=h.response,m=aR(p)&&p.message?p.message:`Request failed with status ${g}`;return{status:g,error:m}}}const l=o instanceof Error?o.message:"An unknown error occurred";return cg.error(`API request failed: ${l}`),{status:500,error:l}}}catch(s){const a=s instanceof Error?s.message:"An unknown error occurred";return cg.error(`Auth request failed: ${a}`),{status:500,error:a}}}async function uR(e,t="_index.md"){const[r="",n=""]=t.split(".");return cR(e,Zt.api.GetFile,{key:r,extension:n})}const hR={name:"edit",description:"Edit file contents",execute:async(e,t)=>{if(t.command.toLowerCase()==="edit"){const r=t.args[0]??"_index.md";try{const n=await uR(e.auth,r);if(n.status!==200||!n.data)return{status:n.status,message:n.error??"File not found"};if(n.data!=null&&n.data.content!=null){const i=JSON.stringify(n.data.content);localStorage.setItem(yr.editContent,i)}if(n.data!=null&&n.data.content!=null){const i=JSON.stringify(n.data.content);localStorage.setItem(yr.editContent,i)}return e.updateLocation({activityKey:"edit",contentKey:r,groupKey:null}),{status:200,message:"Editing file content"}}catch(n){return{status:500,message:n instanceof Error?n.message:"Failed to access file"}}}return{status:404,message:"Edit command not recognized"}}},dR=Object.freeze(Object.defineProperty({__proto__:null,default:hR},Symbol.toStringTag,{value:"Module"})),ug={name:"video",description:"Toggle webcam video on/off",execute:(e,t)=>(wo.value=!wo.value,Promise.resolve({status:200,message:`Video ${wo.value?"enabled":"disabled"}`}))},fR=Object.freeze(Object.defineProperty({__proto__:null,default:ug,toggleVideoCommand:ug},Symbol.toStringTag,{value:"Module"})),pR={name:"wrt",description:"Write to the terminal",switches:{file:"Write the contents of a file to the terminal",edit:"Edit the contents of a file",save:"Save the contents of a file"},execute:async(e,t)=>{const r=t.switches,n=t.args,i=a=>{const o=r[a];return typeof o=="string"?o:null},s=a=>({command:t,response:a,status:200,commandTime:new Date});try{if(Q2(r.file)){const a=i("file");if(a&&e.auth.getFile)try{const o=await e.auth.getFile(a,"txt");o.status===200&&o.data?e.appendToOutput(s(o.data)):e.appendToOutput(s(`Error reading file: ${a}`))}catch(o){const l=o instanceof Error?o.message:"Unknown error";e.appendToOutput(s(`Error reading file: ${l}`))}else e.appendToOutput(s("Please provide a file name or file reading is not supported."))}else if(r.edit)i("edit")&&e.setEditMode&&e.activityMediator?.determineActivityState?(e.setEditMode(!0),e.activityMediator.determineActivityState(ActivityType.EDIT)):e.appendToOutput(s("Please provide a file name to edit or edit mode is not supported."));else if(r.save){const a=i("save");if(a&&e.auth.getFile&&e.handleEditSave)try{const o=await e.auth.getFile(a,"txt");o.status===200&&o.data?e.handleEditSave(o.data):e.appendToOutput(s(`Error reading file: ${a}`))}catch(o){const l=o instanceof Error?o.message:"Unknown error";e.appendToOutput(s(`Error reading file: ${l}`))}else e.appendToOutput(s("Please provide a file name to save or save functionality is not supported."))}else if(n.length>0)e.appendToOutput(s(n.join(" ")));else return{status:400,message:"Please provide text to write or use a switch."};return{status:200,message:"Command executed successfully."}}catch(a){return{status:500,message:a instanceof Error?a.message:"An unexpected error occurred"}}}},vR=Object.freeze(Object.defineProperty({__proto__:null,wrtCommand:pR},Symbol.toStringTag,{value:"Module"}));function hg(e){return typeof e=="object"&&e!==null&&"name"in e&&"execute"in e&&typeof e.name=="string"&&typeof e.execute=="function"}const gR=Object.assign({"./BypassCommand.ts":Pk,"./CompleteCommand.ts":Fk,"./GitHubCommand.ts":Tx,"./HelpCommand.tsx":$2,"./ListPhrasesCommand.tsx":U2,"./LoginCommand.ts":z2,"./SignUpCommand.ts":V2,"./SpecialCommand.tsx":q2,"./archiveCommand.ts":Z2,"./cleanCommand.ts":iR,"./clearCommand.tsx":oR,"./editCommand.tsx":dR,"./toggleVideoCommand.ts":fR,"./wrtCommand.tsx":vR});Object.entries(gR).forEach(([e,t])=>{const r=t;if(r.default&&hg(r.default)){Hl.register(r.default);return}Object.values(r).filter(hg).forEach(i=>{Hl.register(i)})});var Q_={exports:{}},Dr={},X_={exports:{}},J_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,M){var P=z.length;z.push(M);e:for(;0<P;){var O=P-1>>>1,U=z[O];if(0<i(U,M))z[O]=M,z[P]=U,P=O;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var M=z[0],P=z.pop();if(P!==M){z[0]=P;e:for(var O=0,U=z.length,Z=U>>>1;O<Z;){var re=2*(O+1)-1,le=z[re],ce=re+1,J=z[ce];if(0>i(le,P))ce<U&&0>i(J,le)?(z[O]=J,z[ce]=P,O=ce):(z[O]=le,z[re]=P,O=re);else if(ce<U&&0>i(J,P))z[O]=J,z[ce]=P,O=ce;else break e}}return M}function i(z,M){var P=z.sortIndex-M.sortIndex;return P!==0?P:z.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],h=[],g=1,p=null,m=3,w=!1,C=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(z){for(var M=r(h);M!==null;){if(M.callback===null)n(h);else if(M.startTime<=z)n(h),M.sortIndex=M.expirationTime,t(l,M);else break;M=r(h)}}function _(z){if(y=!1,f(z),!C)if(r(l)!==null)C=!0,W(b);else{var M=r(h);M!==null&&Q(_,M.startTime-z)}}function b(z,M){C=!1,y&&(y=!1,d(x),x=-1),w=!0;var P=m;try{for(f(M),p=r(l);p!==null&&(!(p.expirationTime>M)||z&&!G());){var O=p.callback;if(typeof O=="function"){p.callback=null,m=p.priorityLevel;var U=O(p.expirationTime<=M);M=e.unstable_now(),typeof U=="function"?p.callback=U:p===r(l)&&n(l),f(M)}else n(l);p=r(l)}if(p!==null)var Z=!0;else{var re=r(h);re!==null&&Q(_,re.startTime-M),Z=!1}return Z}finally{p=null,m=P,w=!1}}var R=!1,L=null,x=-1,I=5,j=-1;function G(){return!(e.unstable_now()-j<I)}function X(){if(L!==null){var z=e.unstable_now();j=z;var M=!0;try{M=L(!0,z)}finally{M?D():(R=!1,L=null)}}else R=!1}var D;if(typeof c=="function")D=function(){c(X)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,N=$.port2;$.port1.onmessage=X,D=function(){N.postMessage(null)}}else D=function(){v(X,0)};function W(z){L=z,R||(R=!0,D())}function Q(z,M){x=v(function(){z(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){C||w||(C=!0,W(b))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(z){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var P=m;m=M;try{return z()}finally{m=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,M){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var P=m;m=z;try{return M()}finally{m=P}},e.unstable_scheduleCallback=function(z,M,P){var O=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?O+P:O):P=O,z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=P+U,z={id:g++,callback:M,priorityLevel:z,startTime:P,expirationTime:U,sortIndex:-1},P>O?(z.sortIndex=P,t(h,z),r(l)===null&&z===r(h)&&(y?(d(x),x=-1):y=!0,Q(_,P-O))):(z.sortIndex=U,t(l,z),C||w||(C=!0,W(b))),z},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(z){var M=m;return function(){var P=m;m=M;try{return z.apply(this,arguments)}finally{m=P}}}})(J_);X_.exports=J_;var mR=X_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR=K,Or=mR;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y_=new Set,Wo={};function qi(e,t){Ms(e,t),Ms(e+"Capture",t)}function Ms(e,t){for(Wo[e]=t,e=0;e<t.length;e++)Y_.add(t[e])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mh=Object.prototype.hasOwnProperty,_R=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dg={},fg={};function SR(e){return Mh.call(fg,e)?!0:Mh.call(dg,e)?!1:_R.test(e)?fg[e]=!0:(dg[e]=!0,!1)}function CR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wR(e,t,r,n){if(t===null||typeof t>"u"||CR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sr(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nt[e]=new sr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nt[t]=new sr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nt[e]=new sr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nt[e]=new sr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nt[e]=new sr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nt[e]=new sr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nt[e]=new sr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nt[e]=new sr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nt[e]=new sr(e,5,!1,e.toLowerCase(),null,!1,!1)});var _f=/[\-:]([a-z])/g;function Sf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_f,Sf);Nt[t]=new sr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_f,Sf);Nt[t]=new sr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_f,Sf);Nt[t]=new sr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nt[e]=new sr(e,1,!1,e.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nt[e]=new sr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cf(e,t,r,n){var i=Nt.hasOwnProperty(t)?Nt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wR(t,r,i,n)&&(r=null),n||i===null?SR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Wn=yR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ra=Symbol.for("react.element"),ns=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),wf=Symbol.for("react.strict_mode"),Ph=Symbol.for("react.profiler"),Z_=Symbol.for("react.provider"),e0=Symbol.for("react.context"),kf=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),Ih=Symbol.for("react.suspense_list"),bf=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),t0=Symbol.for("react.offscreen"),pg=Symbol.iterator;function to(e){return e===null||typeof e!="object"?null:(e=pg&&e[pg]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Object.assign,Du;function mo(e){if(Du===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Du=t&&t[1]||""}return`
`+Du+e}var Bu=!1;function Fu(e,t){if(!e||Bu)return"";Bu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Bu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?mo(e):""}function kR(e){switch(e.tag){case 5:return mo(e.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 2:case 15:return e=Fu(e.type,!1),e;case 11:return e=Fu(e.type.render,!1),e;case 1:return e=Fu(e.type,!0),e;default:return""}}function Dh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case is:return"Fragment";case ns:return"Portal";case Ph:return"Profiler";case wf:return"StrictMode";case Oh:return"Suspense";case Ih:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e0:return(e.displayName||"Context")+".Consumer";case Z_:return(e._context.displayName||"Context")+".Provider";case kf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bf:return t=e.displayName||null,t!==null?t:Dh(e.type)||"Memo";case Jn:t=e._payload,e=e._init;try{return Dh(e(t))}catch{}}return null}function bR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dh(t);case 8:return t===wf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function r0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xR(e){var t=r0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ta(e){e._valueTracker||(e._valueTracker=xR(e))}function n0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=r0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bh(e,t){var r=t.checked;return ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function i0(e,t){t=t.checked,t!=null&&Cf(e,"checked",t,!1)}function Fh(e,t){i0(e,t);var r=vi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Nh(e,t.type,vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Nh(e,t,r){(t!=="number"||Ul(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yo=Array.isArray;function _s(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $h(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(de(92));if(yo(r)){if(1<r.length)throw Error(de(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vi(r)}}function s0(e,t){var r=vi(t.value),n=vi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function o0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?o0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var La,a0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(La=La||document.createElement("div"),La.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=La.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ER=["Webkit","ms","Moz","O"];Object.keys(xo).forEach(function(e){ER.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xo[t]=xo[e]})});function l0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xo.hasOwnProperty(e)&&xo[e]?(""+t).trim():t+"px"}function c0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=l0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var RR=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uh(e,t){if(t){if(RR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function jh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=null;function xf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zh=null,Ss=null,Cs=null;function _g(e){if(e=va(e)){if(typeof zh!="function")throw Error(de(280));var t=e.stateNode;t&&(t=Yc(t),zh(e.stateNode,e.type,t))}}function u0(e){Ss?Cs?Cs.push(e):Cs=[e]:Ss=e}function h0(){if(Ss){var e=Ss,t=Cs;if(Cs=Ss=null,_g(e),t)for(e=0;e<t.length;e++)_g(t[e])}}function d0(e,t){return e(t)}function f0(){}var Nu=!1;function p0(e,t,r){if(Nu)return e(t,r);Nu=!0;try{return d0(e,t,r)}finally{Nu=!1,(Ss!==null||Cs!==null)&&(f0(),h0())}}function Ko(e,t){var r=e.stateNode;if(r===null)return null;var n=Yc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(de(231,t,typeof r));return r}var Kh=!1;if($n)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Kh=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Kh=!1}function TR(e,t,r,n,i,s,a,o,l){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(g){this.onError(g)}}var Eo=!1,jl=null,Wl=!1,Vh=null,LR={onError:function(e){Eo=!0,jl=e}};function AR(e,t,r,n,i,s,a,o,l){Eo=!1,jl=null,TR.apply(LR,arguments)}function MR(e,t,r,n,i,s,a,o,l){if(AR.apply(this,arguments),Eo){if(Eo){var h=jl;Eo=!1,jl=null}else throw Error(de(198));Wl||(Wl=!0,Vh=h)}}function Qi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function v0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sg(e){if(Qi(e)!==e)throw Error(de(188))}function PR(e){var t=e.alternate;if(!t){if(t=Qi(e),t===null)throw Error(de(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Sg(i),e;if(s===n)return Sg(i),t;s=s.sibling}throw Error(de(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(de(189))}}if(r.alternate!==n)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?e:t}function g0(e){return e=PR(e),e!==null?m0(e):null}function m0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=m0(e);if(t!==null)return t;e=e.sibling}return null}var y0=Or.unstable_scheduleCallback,Cg=Or.unstable_cancelCallback,OR=Or.unstable_shouldYield,IR=Or.unstable_requestPaint,mt=Or.unstable_now,DR=Or.unstable_getCurrentPriorityLevel,Ef=Or.unstable_ImmediatePriority,_0=Or.unstable_UserBlockingPriority,zl=Or.unstable_NormalPriority,BR=Or.unstable_LowPriority,S0=Or.unstable_IdlePriority,qc=null,En=null;function FR(e){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(qc,e,void 0,(e.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:HR,NR=Math.log,$R=Math.LN2;function HR(e){return e>>>=0,e===0?32:31-(NR(e)/$R|0)|0}var Aa=64,Ma=4194304;function _o(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=_o(o):(s&=a,s!==0&&(n=_o(s)))}else a=r&~i,a!==0?n=_o(a):s!==0&&(n=_o(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-sn(t),i=1<<r,n|=e[r],t&=~i;return n}function UR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-sn(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=UR(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function Gh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function C0(){var e=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),e}function $u(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function fa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sn(t),e[t]=r}function WR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-sn(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Rf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-sn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ze=0;function w0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var k0,Tf,b0,x0,E0,qh=!1,Pa=[],ai=null,li=null,ci=null,Vo=new Map,Go=new Map,Zn=[],zR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wg(e,t){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(t.pointerId)}}function no(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=va(t),t!==null&&Tf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function KR(e,t,r,n,i){switch(t){case"focusin":return ai=no(ai,e,t,r,n,i),!0;case"dragenter":return li=no(li,e,t,r,n,i),!0;case"mouseover":return ci=no(ci,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Vo.set(s,no(Vo.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Go.set(s,no(Go.get(s)||null,e,t,r,n,i)),!0}return!1}function R0(e){var t=Ii(e.target);if(t!==null){var r=Qi(t);if(r!==null){if(t=r.tag,t===13){if(t=v0(r),t!==null){e.blockedOn=t,E0(e.priority,function(){b0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Wh=n,r.target.dispatchEvent(n),Wh=null}else return t=va(r),t!==null&&Tf(t),e.blockedOn=r,!1;t.shift()}return!0}function kg(e,t,r){hl(e)&&r.delete(t)}function VR(){qh=!1,ai!==null&&hl(ai)&&(ai=null),li!==null&&hl(li)&&(li=null),ci!==null&&hl(ci)&&(ci=null),Vo.forEach(kg),Go.forEach(kg)}function io(e,t){e.blockedOn===t&&(e.blockedOn=null,qh||(qh=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,VR)))}function qo(e){function t(i){return io(i,e)}if(0<Pa.length){io(Pa[0],e);for(var r=1;r<Pa.length;r++){var n=Pa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ai!==null&&io(ai,e),li!==null&&io(li,e),ci!==null&&io(ci,e),Vo.forEach(t),Go.forEach(t),r=0;r<Zn.length;r++)n=Zn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zn.length&&(r=Zn[0],r.blockedOn===null);)R0(r),r.blockedOn===null&&Zn.shift()}var ws=Wn.ReactCurrentBatchConfig,Vl=!0;function GR(e,t,r,n){var i=ze,s=ws.transition;ws.transition=null;try{ze=1,Lf(e,t,r,n)}finally{ze=i,ws.transition=s}}function qR(e,t,r,n){var i=ze,s=ws.transition;ws.transition=null;try{ze=4,Lf(e,t,r,n)}finally{ze=i,ws.transition=s}}function Lf(e,t,r,n){if(Vl){var i=Qh(e,t,r,n);if(i===null)Qu(e,t,n,Gl,r),wg(e,n);else if(KR(i,e,t,r,n))n.stopPropagation();else if(wg(e,n),t&4&&-1<zR.indexOf(e)){for(;i!==null;){var s=va(i);if(s!==null&&k0(s),s=Qh(e,t,r,n),s===null&&Qu(e,t,n,Gl,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Qu(e,t,n,null,r)}}var Gl=null;function Qh(e,t,r,n){if(Gl=null,e=xf(n),e=Ii(e),e!==null)if(t=Qi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=v0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gl=e,null}function T0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DR()){case Ef:return 1;case _0:return 4;case zl:case BR:return 16;case S0:return 536870912;default:return 16}default:return 16}}var ni=null,Af=null,dl=null;function L0(){if(dl)return dl;var e,t=Af,r=t.length,n,i="value"in ni?ni.value:ni.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return dl=i.slice(e,1<n?1-n:void 0)}function fl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oa(){return!0}function bg(){return!1}function Br(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Oa:bg,this.isPropagationStopped=bg,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=Br(Vs),pa=ut({},Vs,{view:0,detail:0}),QR=Br(pa),Hu,Uu,so,Qc=ut({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==so&&(so&&e.type==="mousemove"?(Hu=e.screenX-so.screenX,Uu=e.screenY-so.screenY):Uu=Hu=0,so=e),Hu)},movementY:function(e){return"movementY"in e?e.movementY:Uu}}),xg=Br(Qc),XR=ut({},Qc,{dataTransfer:0}),JR=Br(XR),YR=ut({},pa,{relatedTarget:0}),ju=Br(YR),ZR=ut({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),eT=Br(ZR),tT=ut({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rT=Br(tT),nT=ut({},Vs,{data:0}),Eg=Br(nT),iT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oT[e])?!!t[e]:!1}function Pf(){return aT}var lT=ut({},pa,{key:function(e){if(e.key){var t=iT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pf,charCode:function(e){return e.type==="keypress"?fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cT=Br(lT),uT=ut({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rg=Br(uT),hT=ut({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pf}),dT=Br(hT),fT=ut({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),pT=Br(fT),vT=ut({},Qc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gT=Br(vT),mT=[9,13,27,32],Of=$n&&"CompositionEvent"in window,Ro=null;$n&&"documentMode"in document&&(Ro=document.documentMode);var yT=$n&&"TextEvent"in window&&!Ro,A0=$n&&(!Of||Ro&&8<Ro&&11>=Ro),Tg=" ",Lg=!1;function M0(e,t){switch(e){case"keyup":return mT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function _T(e,t){switch(e){case"compositionend":return P0(t);case"keypress":return t.which!==32?null:(Lg=!0,Tg);case"textInput":return e=t.data,e===Tg&&Lg?null:e;default:return null}}function ST(e,t){if(ss)return e==="compositionend"||!Of&&M0(e,t)?(e=L0(),dl=Af=ni=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A0&&t.locale!=="ko"?null:t.data;default:return null}}var CT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CT[e.type]:t==="textarea"}function O0(e,t,r,n){u0(n),t=ql(t,"onChange"),0<t.length&&(r=new Mf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var To=null,Qo=null;function wT(e){z0(e,0)}function Xc(e){var t=ls(e);if(n0(t))return e}function kT(e,t){if(e==="change")return t}var I0=!1;if($n){var Wu;if($n){var zu="oninput"in document;if(!zu){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),zu=typeof Mg.oninput=="function"}Wu=zu}else Wu=!1;I0=Wu&&(!document.documentMode||9<document.documentMode)}function Pg(){To&&(To.detachEvent("onpropertychange",D0),Qo=To=null)}function D0(e){if(e.propertyName==="value"&&Xc(Qo)){var t=[];O0(t,Qo,e,xf(e)),p0(wT,t)}}function bT(e,t,r){e==="focusin"?(Pg(),To=t,Qo=r,To.attachEvent("onpropertychange",D0)):e==="focusout"&&Pg()}function xT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xc(Qo)}function ET(e,t){if(e==="click")return Xc(t)}function RT(e,t){if(e==="input"||e==="change")return Xc(t)}function TT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:TT;function Xo(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Mh.call(t,i)||!an(e[i],t[i]))return!1}return!0}function Og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ig(e,t){var r=Og(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Og(r)}}function B0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?B0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function F0(){for(var e=window,t=Ul();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ul(e.document)}return t}function If(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LT(e){var t=F0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&B0(r.ownerDocument.documentElement,r)){if(n!==null&&If(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Ig(r,s);var a=Ig(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var AT=$n&&"documentMode"in document&&11>=document.documentMode,os=null,Xh=null,Lo=null,Jh=!1;function Dg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jh||os==null||os!==Ul(n)||(n=os,"selectionStart"in n&&If(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lo&&Xo(Lo,n)||(Lo=n,n=ql(Xh,"onSelect"),0<n.length&&(t=new Mf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=os)))}function Ia(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var as={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionend:Ia("Transition","TransitionEnd")},Ku={},N0={};$n&&(N0=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Jc(e){if(Ku[e])return Ku[e];if(!as[e])return e;var t=as[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in N0)return Ku[e]=t[r];return e}var $0=Jc("animationend"),H0=Jc("animationiteration"),U0=Jc("animationstart"),j0=Jc("transitionend"),W0=new Map,Bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(e,t){W0.set(e,t),qi(t,[e])}for(var Vu=0;Vu<Bg.length;Vu++){var Gu=Bg[Vu],MT=Gu.toLowerCase(),PT=Gu[0].toUpperCase()+Gu.slice(1);_i(MT,"on"+PT)}_i($0,"onAnimationEnd");_i(H0,"onAnimationIteration");_i(U0,"onAnimationStart");_i("dblclick","onDoubleClick");_i("focusin","onFocus");_i("focusout","onBlur");_i(j0,"onTransitionEnd");Ms("onMouseEnter",["mouseout","mouseover"]);Ms("onMouseLeave",["mouseout","mouseover"]);Ms("onPointerEnter",["pointerout","pointerover"]);Ms("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OT=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function Fg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,MR(n,t,void 0,e),e.currentTarget=null}function z0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,h=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Fg(i,o,h),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,h=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Fg(i,o,h),s=l}}}if(Wl)throw e=Vh,Wl=!1,Vh=null,e}function nt(e,t){var r=t[rd];r===void 0&&(r=t[rd]=new Set);var n=e+"__bubble";r.has(n)||(K0(t,e,2,!1),r.add(n))}function qu(e,t,r){var n=0;t&&(n|=4),K0(r,e,n,t)}var Da="_reactListening"+Math.random().toString(36).slice(2);function Jo(e){if(!e[Da]){e[Da]=!0,Y_.forEach(function(r){r!=="selectionchange"&&(OT.has(r)||qu(r,!1,e),qu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Da]||(t[Da]=!0,qu("selectionchange",!1,t))}}function K0(e,t,r,n){switch(T0(t)){case 1:var i=GR;break;case 4:i=qR;break;default:i=Lf}r=i.bind(null,t,r,e),i=void 0,!Kh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Qu(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ii(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}p0(function(){var h=s,g=xf(r),p=[];e:{var m=W0.get(e);if(m!==void 0){var w=Mf,C=e;switch(e){case"keypress":if(fl(r)===0)break e;case"keydown":case"keyup":w=cT;break;case"focusin":C="focus",w=ju;break;case"focusout":C="blur",w=ju;break;case"beforeblur":case"afterblur":w=ju;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=JR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=dT;break;case $0:case H0:case U0:w=eT;break;case j0:w=pT;break;case"scroll":w=QR;break;case"wheel":w=gT;break;case"copy":case"cut":case"paste":w=rT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Rg}var y=(t&4)!==0,v=!y&&e==="scroll",d=y?m!==null?m+"Capture":null:m;y=[];for(var c=h,f;c!==null;){f=c;var _=f.stateNode;if(f.tag===5&&_!==null&&(f=_,d!==null&&(_=Ko(c,d),_!=null&&y.push(Yo(c,_,f)))),v)break;c=c.return}0<y.length&&(m=new w(m,C,null,r,g),p.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",m&&r!==Wh&&(C=r.relatedTarget||r.fromElement)&&(Ii(C)||C[Hn]))break e;if((w||m)&&(m=g.window===g?g:(m=g.ownerDocument)?m.defaultView||m.parentWindow:window,w?(C=r.relatedTarget||r.toElement,w=h,C=C?Ii(C):null,C!==null&&(v=Qi(C),C!==v||C.tag!==5&&C.tag!==6)&&(C=null)):(w=null,C=h),w!==C)){if(y=xg,_="onMouseLeave",d="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(y=Rg,_="onPointerLeave",d="onPointerEnter",c="pointer"),v=w==null?m:ls(w),f=C==null?m:ls(C),m=new y(_,c+"leave",w,r,g),m.target=v,m.relatedTarget=f,_=null,Ii(g)===h&&(y=new y(d,c+"enter",C,r,g),y.target=f,y.relatedTarget=v,_=y),v=_,w&&C)t:{for(y=w,d=C,c=0,f=y;f;f=Ji(f))c++;for(f=0,_=d;_;_=Ji(_))f++;for(;0<c-f;)y=Ji(y),c--;for(;0<f-c;)d=Ji(d),f--;for(;c--;){if(y===d||d!==null&&y===d.alternate)break t;y=Ji(y),d=Ji(d)}y=null}else y=null;w!==null&&Ng(p,m,w,y,!1),C!==null&&v!==null&&Ng(p,v,C,y,!0)}}e:{if(m=h?ls(h):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var b=kT;else if(Ag(m))if(I0)b=RT;else{b=xT;var R=bT}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=ET);if(b&&(b=b(e,h))){O0(p,b,r,g);break e}R&&R(e,m,h),e==="focusout"&&(R=m._wrapperState)&&R.controlled&&m.type==="number"&&Nh(m,"number",m.value)}switch(R=h?ls(h):window,e){case"focusin":(Ag(R)||R.contentEditable==="true")&&(os=R,Xh=h,Lo=null);break;case"focusout":Lo=Xh=os=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Dg(p,r,g);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":Dg(p,r,g)}var L;if(Of)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ss?M0(e,r)&&(x="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(A0&&r.locale!=="ko"&&(ss||x!=="onCompositionStart"?x==="onCompositionEnd"&&ss&&(L=L0()):(ni=g,Af="value"in ni?ni.value:ni.textContent,ss=!0)),R=ql(h,x),0<R.length&&(x=new Eg(x,e,null,r,g),p.push({event:x,listeners:R}),L?x.data=L:(L=P0(r),L!==null&&(x.data=L)))),(L=yT?_T(e,r):ST(e,r))&&(h=ql(h,"onBeforeInput"),0<h.length&&(g=new Eg("onBeforeInput","beforeinput",null,r,g),p.push({event:g,listeners:h}),g.data=L))}z0(p,t)})}function Yo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ql(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ko(e,r),s!=null&&n.unshift(Yo(e,s,i)),s=Ko(e,t),s!=null&&n.push(Yo(e,s,i))),e=e.return}return n}function Ji(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ng(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,h=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&h!==null&&(o=h,i?(l=Ko(r,s),l!=null&&a.unshift(Yo(r,l,o))):i||(l=Ko(r,s),l!=null&&a.push(Yo(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var IT=/\r\n?/g,DT=/\u0000|\uFFFD/g;function $g(e){return(typeof e=="string"?e:""+e).replace(IT,`
`).replace(DT,"")}function Ba(e,t,r){if(t=$g(t),$g(e)!==t&&r)throw Error(de(425))}function Ql(){}var Yh=null,Zh=null;function ed(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var td=typeof setTimeout=="function"?setTimeout:void 0,BT=typeof clearTimeout=="function"?clearTimeout:void 0,Hg=typeof Promise=="function"?Promise:void 0,FT=typeof queueMicrotask=="function"?queueMicrotask:typeof Hg<"u"?function(e){return Hg.resolve(null).then(e).catch(NT)}:td;function NT(e){setTimeout(function(){throw e})}function Xu(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),qo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);qo(t)}function ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ug(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),bn="__reactFiber$"+Gs,Zo="__reactProps$"+Gs,Hn="__reactContainer$"+Gs,rd="__reactEvents$"+Gs,$T="__reactListeners$"+Gs,HT="__reactHandles$"+Gs;function Ii(e){var t=e[bn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Hn]||r[bn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ug(e);e!==null;){if(r=e[bn])return r;e=Ug(e)}return t}e=r,r=e.parentNode}return null}function va(e){return e=e[bn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function Yc(e){return e[Zo]||null}var nd=[],cs=-1;function Si(e){return{current:e}}function st(e){0>cs||(e.current=nd[cs],nd[cs]=null,cs--)}function et(e,t){cs++,nd[cs]=e.current,e.current=t}var gi={},Kt=Si(gi),pr=Si(!1),Ui=gi;function Ps(e,t){var r=e.type.contextTypes;if(!r)return gi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function vr(e){return e=e.childContextTypes,e!=null}function Xl(){st(pr),st(Kt)}function jg(e,t,r){if(Kt.current!==gi)throw Error(de(168));et(Kt,t),et(pr,r)}function V0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(de(108,bR(e)||"Unknown",i));return ut({},r,n)}function Jl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,Ui=Kt.current,et(Kt,e),et(pr,pr.current),!0}function Wg(e,t,r){var n=e.stateNode;if(!n)throw Error(de(169));r?(e=V0(e,t,Ui),n.__reactInternalMemoizedMergedChildContext=e,st(pr),st(Kt),et(Kt,e)):st(pr),et(pr,r)}var On=null,Zc=!1,Ju=!1;function G0(e){On===null?On=[e]:On.push(e)}function UT(e){Zc=!0,G0(e)}function Ci(){if(!Ju&&On!==null){Ju=!0;var e=0,t=ze;try{var r=On;for(ze=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}On=null,Zc=!1}catch(i){throw On!==null&&(On=On.slice(e+1)),y0(Ef,Ci),i}finally{ze=t,Ju=!1}}return null}var us=[],hs=0,Yl=null,Zl=0,jr=[],Wr=0,ji=null,In=1,Dn="";function xi(e,t){us[hs++]=Zl,us[hs++]=Yl,Yl=e,Zl=t}function q0(e,t,r){jr[Wr++]=In,jr[Wr++]=Dn,jr[Wr++]=ji,ji=e;var n=In;e=Dn;var i=32-sn(n)-1;n&=~(1<<i),r+=1;var s=32-sn(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,In=1<<32-sn(t)+i|r<<i|n,Dn=s+e}else In=1<<s|r<<i|n,Dn=e}function Df(e){e.return!==null&&(xi(e,1),q0(e,1,0))}function Bf(e){for(;e===Yl;)Yl=us[--hs],us[hs]=null,Zl=us[--hs],us[hs]=null;for(;e===ji;)ji=jr[--Wr],jr[Wr]=null,Dn=jr[--Wr],jr[Wr]=null,In=jr[--Wr],jr[Wr]=null}var Pr=null,Lr=null,ot=!1,rn=null;function Q0(e,t){var r=Kr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pr=e,Lr=ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pr=e,Lr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ji!==null?{id:In,overflow:Dn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Kr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pr=e,Lr=null,!0):!1;default:return!1}}function id(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sd(e){if(ot){var t=Lr;if(t){var r=t;if(!zg(e,t)){if(id(e))throw Error(de(418));t=ui(r.nextSibling);var n=Pr;t&&zg(e,t)?Q0(n,r):(e.flags=e.flags&-4097|2,ot=!1,Pr=e)}}else{if(id(e))throw Error(de(418));e.flags=e.flags&-4097|2,ot=!1,Pr=e}}}function Kg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pr=e}function Fa(e){if(e!==Pr)return!1;if(!ot)return Kg(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ed(e.type,e.memoizedProps)),t&&(t=Lr)){if(id(e))throw X0(),Error(de(418));for(;t;)Q0(e,t),t=ui(t.nextSibling)}if(Kg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Lr=ui(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Lr=null}}else Lr=Pr?ui(e.stateNode.nextSibling):null;return!0}function X0(){for(var e=Lr;e;)e=ui(e.nextSibling)}function Os(){Lr=Pr=null,ot=!1}function Ff(e){rn===null?rn=[e]:rn.push(e)}var jT=Wn.ReactCurrentBatchConfig;function oo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var n=r.stateNode}if(!n)throw Error(de(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,e))}return e}function Na(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vg(e){var t=e._init;return t(e._payload)}function J0(e){function t(d,c){if(e){var f=d.deletions;f===null?(d.deletions=[c],d.flags|=16):f.push(c)}}function r(d,c){if(!e)return null;for(;c!==null;)t(d,c),c=c.sibling;return null}function n(d,c){for(d=new Map;c!==null;)c.key!==null?d.set(c.key,c):d.set(c.index,c),c=c.sibling;return d}function i(d,c){return d=pi(d,c),d.index=0,d.sibling=null,d}function s(d,c,f){return d.index=f,e?(f=d.alternate,f!==null?(f=f.index,f<c?(d.flags|=2,c):f):(d.flags|=2,c)):(d.flags|=1048576,c)}function a(d){return e&&d.alternate===null&&(d.flags|=2),d}function o(d,c,f,_){return c===null||c.tag!==6?(c=ih(f,d.mode,_),c.return=d,c):(c=i(c,f),c.return=d,c)}function l(d,c,f,_){var b=f.type;return b===is?g(d,c,f.props.children,_,f.key):c!==null&&(c.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Jn&&Vg(b)===c.type)?(_=i(c,f.props),_.ref=oo(d,c,f),_.return=d,_):(_=Sl(f.type,f.key,f.props,null,d.mode,_),_.ref=oo(d,c,f),_.return=d,_)}function h(d,c,f,_){return c===null||c.tag!==4||c.stateNode.containerInfo!==f.containerInfo||c.stateNode.implementation!==f.implementation?(c=sh(f,d.mode,_),c.return=d,c):(c=i(c,f.children||[]),c.return=d,c)}function g(d,c,f,_,b){return c===null||c.tag!==7?(c=$i(f,d.mode,_,b),c.return=d,c):(c=i(c,f),c.return=d,c)}function p(d,c,f){if(typeof c=="string"&&c!==""||typeof c=="number")return c=ih(""+c,d.mode,f),c.return=d,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Ra:return f=Sl(c.type,c.key,c.props,null,d.mode,f),f.ref=oo(d,null,c),f.return=d,f;case ns:return c=sh(c,d.mode,f),c.return=d,c;case Jn:var _=c._init;return p(d,_(c._payload),f)}if(yo(c)||to(c))return c=$i(c,d.mode,f,null),c.return=d,c;Na(d,c)}return null}function m(d,c,f,_){var b=c!==null?c.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return b!==null?null:o(d,c,""+f,_);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ra:return f.key===b?l(d,c,f,_):null;case ns:return f.key===b?h(d,c,f,_):null;case Jn:return b=f._init,m(d,c,b(f._payload),_)}if(yo(f)||to(f))return b!==null?null:g(d,c,f,_,null);Na(d,f)}return null}function w(d,c,f,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return d=d.get(f)||null,o(c,d,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ra:return d=d.get(_.key===null?f:_.key)||null,l(c,d,_,b);case ns:return d=d.get(_.key===null?f:_.key)||null,h(c,d,_,b);case Jn:var R=_._init;return w(d,c,f,R(_._payload),b)}if(yo(_)||to(_))return d=d.get(f)||null,g(c,d,_,b,null);Na(c,_)}return null}function C(d,c,f,_){for(var b=null,R=null,L=c,x=c=0,I=null;L!==null&&x<f.length;x++){L.index>x?(I=L,L=null):I=L.sibling;var j=m(d,L,f[x],_);if(j===null){L===null&&(L=I);break}e&&L&&j.alternate===null&&t(d,L),c=s(j,c,x),R===null?b=j:R.sibling=j,R=j,L=I}if(x===f.length)return r(d,L),ot&&xi(d,x),b;if(L===null){for(;x<f.length;x++)L=p(d,f[x],_),L!==null&&(c=s(L,c,x),R===null?b=L:R.sibling=L,R=L);return ot&&xi(d,x),b}for(L=n(d,L);x<f.length;x++)I=w(L,d,x,f[x],_),I!==null&&(e&&I.alternate!==null&&L.delete(I.key===null?x:I.key),c=s(I,c,x),R===null?b=I:R.sibling=I,R=I);return e&&L.forEach(function(G){return t(d,G)}),ot&&xi(d,x),b}function y(d,c,f,_){var b=to(f);if(typeof b!="function")throw Error(de(150));if(f=b.call(f),f==null)throw Error(de(151));for(var R=b=null,L=c,x=c=0,I=null,j=f.next();L!==null&&!j.done;x++,j=f.next()){L.index>x?(I=L,L=null):I=L.sibling;var G=m(d,L,j.value,_);if(G===null){L===null&&(L=I);break}e&&L&&G.alternate===null&&t(d,L),c=s(G,c,x),R===null?b=G:R.sibling=G,R=G,L=I}if(j.done)return r(d,L),ot&&xi(d,x),b;if(L===null){for(;!j.done;x++,j=f.next())j=p(d,j.value,_),j!==null&&(c=s(j,c,x),R===null?b=j:R.sibling=j,R=j);return ot&&xi(d,x),b}for(L=n(d,L);!j.done;x++,j=f.next())j=w(L,d,x,j.value,_),j!==null&&(e&&j.alternate!==null&&L.delete(j.key===null?x:j.key),c=s(j,c,x),R===null?b=j:R.sibling=j,R=j);return e&&L.forEach(function(X){return t(d,X)}),ot&&xi(d,x),b}function v(d,c,f,_){if(typeof f=="object"&&f!==null&&f.type===is&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Ra:e:{for(var b=f.key,R=c;R!==null;){if(R.key===b){if(b=f.type,b===is){if(R.tag===7){r(d,R.sibling),c=i(R,f.props.children),c.return=d,d=c;break e}}else if(R.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Jn&&Vg(b)===R.type){r(d,R.sibling),c=i(R,f.props),c.ref=oo(d,R,f),c.return=d,d=c;break e}r(d,R);break}else t(d,R);R=R.sibling}f.type===is?(c=$i(f.props.children,d.mode,_,f.key),c.return=d,d=c):(_=Sl(f.type,f.key,f.props,null,d.mode,_),_.ref=oo(d,c,f),_.return=d,d=_)}return a(d);case ns:e:{for(R=f.key;c!==null;){if(c.key===R)if(c.tag===4&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){r(d,c.sibling),c=i(c,f.children||[]),c.return=d,d=c;break e}else{r(d,c);break}else t(d,c);c=c.sibling}c=sh(f,d.mode,_),c.return=d,d=c}return a(d);case Jn:return R=f._init,v(d,c,R(f._payload),_)}if(yo(f))return C(d,c,f,_);if(to(f))return y(d,c,f,_);Na(d,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,c!==null&&c.tag===6?(r(d,c.sibling),c=i(c,f),c.return=d,d=c):(r(d,c),c=ih(f,d.mode,_),c.return=d,d=c),a(d)):r(d,c)}return v}var Is=J0(!0),Y0=J0(!1),ec=Si(null),tc=null,ds=null,Nf=null;function $f(){Nf=ds=tc=null}function Hf(e){var t=ec.current;st(ec),e._currentValue=t}function od(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ks(e,t){tc=e,Nf=ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dr=!0),e.firstContext=null)}function qr(e){var t=e._currentValue;if(Nf!==e)if(e={context:e,memoizedValue:t,next:null},ds===null){if(tc===null)throw Error(de(308));ds=e,tc.dependencies={lanes:0,firstContext:e}}else ds=ds.next=e;return t}var Di=null;function Uf(e){Di===null?Di=[e]:Di.push(e)}function Z0(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Uf(t)):(r.next=i.next,i.next=r),t.interleaved=r,Un(e,n)}function Un(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yn=!1;function jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Un(e,r)}return i=n.interleaved,i===null?(t.next=t,Uf(n)):(t.next=i.next,i.next=t),n.interleaved=t,Un(e,r)}function pl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Rf(e,r)}}function Gg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rc(e,t,r,n){var i=e.updateQueue;Yn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,h=l.next;l.next=null,a===null?s=h:a.next=h,a=l;var g=e.alternate;g!==null&&(g=g.updateQueue,o=g.lastBaseUpdate,o!==a&&(o===null?g.firstBaseUpdate=h:o.next=h,g.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;a=0,g=h=l=null,o=s;do{var m=o.lane,w=o.eventTime;if((n&m)===m){g!==null&&(g=g.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var C=e,y=o;switch(m=t,w=r,y.tag){case 1:if(C=y.payload,typeof C=="function"){p=C.call(w,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=y.payload,m=typeof C=="function"?C.call(w,p,m):C,m==null)break e;p=ut({},p,m);break e;case 2:Yn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else w={eventTime:w,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},g===null?(h=g=w,l=p):g=g.next=w,a|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(g===null&&(l=p),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);zi|=a,e.lanes=a,e.memoizedState=p}}function qg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(de(191,i));i.call(n)}}}var ga={},Rn=Si(ga),ea=Si(ga),ta=Si(ga);function Bi(e){if(e===ga)throw Error(de(174));return e}function Wf(e,t){switch(et(ta,t),et(ea,e),et(Rn,ga),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hh(t,e)}st(Rn),et(Rn,t)}function Ds(){st(Rn),st(ea),st(ta)}function t1(e){Bi(ta.current);var t=Bi(Rn.current),r=Hh(t,e.type);t!==r&&(et(ea,e),et(Rn,r))}function zf(e){ea.current===e&&(st(Rn),st(ea))}var lt=Si(0);function nc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yu=[];function Kf(){for(var e=0;e<Yu.length;e++)Yu[e]._workInProgressVersionPrimary=null;Yu.length=0}var vl=Wn.ReactCurrentDispatcher,Zu=Wn.ReactCurrentBatchConfig,Wi=0,ct=null,kt=null,Rt=null,ic=!1,Ao=!1,ra=0,WT=0;function Ht(){throw Error(de(321))}function Vf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function Gf(e,t,r,n,i,s){if(Wi=s,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vl.current=e===null||e.memoizedState===null?GT:qT,e=r(n,i),Ao){s=0;do{if(Ao=!1,ra=0,25<=s)throw Error(de(301));s+=1,Rt=kt=null,t.updateQueue=null,vl.current=QT,e=r(n,i)}while(Ao)}if(vl.current=sc,t=kt!==null&&kt.next!==null,Wi=0,Rt=kt=ct=null,ic=!1,t)throw Error(de(300));return e}function qf(){var e=ra!==0;return ra=0,e}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ct.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Qr(){if(kt===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=Rt===null?ct.memoizedState:Rt.next;if(t!==null)Rt=t,kt=e;else{if(e===null)throw Error(de(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Rt===null?ct.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function na(e,t){return typeof t=="function"?t(e):t}function eh(e){var t=Qr(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var n=kt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,h=s;do{var g=h.lane;if((Wi&g)===g)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var p={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(o=l=p,a=n):l=l.next=p,ct.lanes|=g,zi|=g}h=h.next}while(h!==null&&h!==s);l===null?a=n:l.next=o,an(n,t.memoizedState)||(dr=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,ct.lanes|=s,zi|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function th(e){var t=Qr(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);an(s,t.memoizedState)||(dr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function r1(){}function n1(e,t){var r=ct,n=Qr(),i=t(),s=!an(n.memoizedState,i);if(s&&(n.memoizedState=i,dr=!0),n=n.queue,Qf(o1.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Rt!==null&&Rt.memoizedState.tag&1){if(r.flags|=2048,ia(9,s1.bind(null,r,n,i,t),void 0,null),Tt===null)throw Error(de(349));Wi&30||i1(r,t,i)}return i}function i1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function s1(e,t,r,n){t.value=r,t.getSnapshot=n,a1(t)&&l1(e)}function o1(e,t,r){return r(function(){a1(t)&&l1(e)})}function a1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch{return!0}}function l1(e){var t=Un(e,1);t!==null&&on(t,e,1,-1)}function Qg(e){var t=Cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:e},t.queue=e,e=e.dispatch=VT.bind(null,ct,e),[t.memoizedState,e]}function ia(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function c1(){return Qr().memoizedState}function gl(e,t,r,n){var i=Cn();ct.flags|=e,i.memoizedState=ia(1|t,r,void 0,n===void 0?null:n)}function eu(e,t,r,n){var i=Qr();n=n===void 0?null:n;var s=void 0;if(kt!==null){var a=kt.memoizedState;if(s=a.destroy,n!==null&&Vf(n,a.deps)){i.memoizedState=ia(t,r,s,n);return}}ct.flags|=e,i.memoizedState=ia(1|t,r,s,n)}function Xg(e,t){return gl(8390656,8,e,t)}function Qf(e,t){return eu(2048,8,e,t)}function u1(e,t){return eu(4,2,e,t)}function h1(e,t){return eu(4,4,e,t)}function d1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function f1(e,t,r){return r=r!=null?r.concat([e]):null,eu(4,4,d1.bind(null,t,e),r)}function Xf(){}function p1(e,t){var r=Qr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function v1(e,t){var r=Qr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function g1(e,t,r){return Wi&21?(an(r,t)||(r=C0(),ct.lanes|=r,zi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dr=!0),e.memoizedState=r)}function zT(e,t){var r=ze;ze=r!==0&&4>r?r:4,e(!0);var n=Zu.transition;Zu.transition={};try{e(!1),t()}finally{ze=r,Zu.transition=n}}function m1(){return Qr().memoizedState}function KT(e,t,r){var n=fi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},y1(e))_1(t,r);else if(r=Z0(e,t,r,n),r!==null){var i=tr();on(r,e,n,i),S1(r,t,n)}}function VT(e,t,r){var n=fi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(y1(e))_1(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,an(o,a)){var l=t.interleaved;l===null?(i.next=i,Uf(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Z0(e,t,i,n),r!==null&&(i=tr(),on(r,e,n,i),S1(r,t,n))}}function y1(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function _1(e,t){Ao=ic=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function S1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Rf(e,r)}}var sc={readContext:qr,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},GT={readContext:qr,useCallback:function(e,t){return Cn().memoizedState=[e,t===void 0?null:t],e},useContext:qr,useEffect:Xg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,gl(4194308,4,d1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){return gl(4,2,e,t)},useMemo:function(e,t){var r=Cn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Cn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=KT.bind(null,ct,e),[n.memoizedState,e]},useRef:function(e){var t=Cn();return e={current:e},t.memoizedState=e},useState:Qg,useDebugValue:Xf,useDeferredValue:function(e){return Cn().memoizedState=e},useTransition:function(){var e=Qg(!1),t=e[0];return e=zT.bind(null,e[1]),Cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ct,i=Cn();if(ot){if(r===void 0)throw Error(de(407));r=r()}else{if(r=t(),Tt===null)throw Error(de(349));Wi&30||i1(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Xg(o1.bind(null,n,s,e),[e]),n.flags|=2048,ia(9,s1.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Cn(),t=Tt.identifierPrefix;if(ot){var r=Dn,n=In;r=(n&~(1<<32-sn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ra++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=WT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qT={readContext:qr,useCallback:p1,useContext:qr,useEffect:Qf,useImperativeHandle:f1,useInsertionEffect:u1,useLayoutEffect:h1,useMemo:v1,useReducer:eh,useRef:c1,useState:function(){return eh(na)},useDebugValue:Xf,useDeferredValue:function(e){var t=Qr();return g1(t,kt.memoizedState,e)},useTransition:function(){var e=eh(na)[0],t=Qr().memoizedState;return[e,t]},useMutableSource:r1,useSyncExternalStore:n1,useId:m1,unstable_isNewReconciler:!1},QT={readContext:qr,useCallback:p1,useContext:qr,useEffect:Qf,useImperativeHandle:f1,useInsertionEffect:u1,useLayoutEffect:h1,useMemo:v1,useReducer:th,useRef:c1,useState:function(){return th(na)},useDebugValue:Xf,useDeferredValue:function(e){var t=Qr();return kt===null?t.memoizedState=e:g1(t,kt.memoizedState,e)},useTransition:function(){var e=th(na)[0],t=Qr().memoizedState;return[e,t]},useMutableSource:r1,useSyncExternalStore:n1,useId:m1,unstable_isNewReconciler:!1};function Yr(e,t){if(e&&e.defaultProps){t=ut({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ad(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ut({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var tu={isMounted:function(e){return(e=e._reactInternals)?Qi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tr(),i=fi(e),s=Bn(n,i);s.payload=t,r!=null&&(s.callback=r),t=hi(e,s,i),t!==null&&(on(t,e,i,n),pl(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tr(),i=fi(e),s=Bn(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=hi(e,s,i),t!==null&&(on(t,e,i,n),pl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tr(),n=fi(e),i=Bn(r,n);i.tag=2,t!=null&&(i.callback=t),t=hi(e,i,n),t!==null&&(on(t,e,n,r),pl(t,e,n))}};function Jg(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!Xo(r,n)||!Xo(i,s):!0}function C1(e,t,r){var n=!1,i=gi,s=t.contextType;return typeof s=="object"&&s!==null?s=qr(s):(i=vr(t)?Ui:Kt.current,n=t.contextTypes,s=(n=n!=null)?Ps(e,i):gi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Yg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&tu.enqueueReplaceState(t,t.state,null)}function ld(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},jf(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=qr(s):(s=vr(t)?Ui:Kt.current,i.context=Ps(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ad(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&tu.enqueueReplaceState(i,i.state,null),rc(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Bs(e,t){try{var r="",n=t;do r+=kR(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function rh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var XT=typeof WeakMap=="function"?WeakMap:Map;function w1(e,t,r){r=Bn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ac||(ac=!0,_d=n),cd(e,t)},r}function k1(e,t,r){r=Bn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){cd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){cd(e,t),typeof n!="function"&&(di===null?di=new Set([this]):di.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Zg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new XT;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=uL.bind(null,e,t,r),t.then(e,e))}function em(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tm(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Bn(-1,1),t.tag=2,hi(r,t,1))),r.lanes|=1),e)}var JT=Wn.ReactCurrentOwner,dr=!1;function Yt(e,t,r,n){t.child=e===null?Y0(t,null,r,n):Is(t,e.child,r,n)}function rm(e,t,r,n,i){r=r.render;var s=t.ref;return ks(t,i),n=Gf(e,t,r,n,s,i),r=qf(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jn(e,t,i)):(ot&&r&&Df(t),t.flags|=1,Yt(e,t,n,i),t.child)}function nm(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!ip(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,b1(e,t,s,n,i)):(e=Sl(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Xo,r(a,n)&&e.ref===t.ref)return jn(e,t,i)}return t.flags|=1,e=pi(s,n),e.ref=t.ref,e.return=t,t.child=e}function b1(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Xo(s,n)&&e.ref===t.ref)if(dr=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(dr=!0);else return t.lanes=e.lanes,jn(e,t,i)}return ud(e,t,r,n,i)}function x1(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(ps,Tr),Tr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(ps,Tr),Tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,et(ps,Tr),Tr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,et(ps,Tr),Tr|=n;return Yt(e,t,i,r),t.child}function E1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ud(e,t,r,n,i){var s=vr(r)?Ui:Kt.current;return s=Ps(t,s),ks(t,i),r=Gf(e,t,r,n,s,i),n=qf(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jn(e,t,i)):(ot&&n&&Df(t),t.flags|=1,Yt(e,t,r,i),t.child)}function im(e,t,r,n,i){if(vr(r)){var s=!0;Jl(t)}else s=!1;if(ks(t,i),t.stateNode===null)ml(e,t),C1(t,r,n),ld(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,h=r.contextType;typeof h=="object"&&h!==null?h=qr(h):(h=vr(r)?Ui:Kt.current,h=Ps(t,h));var g=r.getDerivedStateFromProps,p=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==h)&&Yg(t,a,n,h),Yn=!1;var m=t.memoizedState;a.state=m,rc(t,n,a,i),l=t.memoizedState,o!==n||m!==l||pr.current||Yn?(typeof g=="function"&&(ad(t,r,g,n),l=t.memoizedState),(o=Yn||Jg(t,r,o,n,m,l,h))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=h,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,e1(e,t),o=t.memoizedProps,h=t.type===t.elementType?o:Yr(t.type,o),a.props=h,p=t.pendingProps,m=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=qr(l):(l=vr(r)?Ui:Kt.current,l=Ps(t,l));var w=r.getDerivedStateFromProps;(g=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||m!==l)&&Yg(t,a,n,l),Yn=!1,m=t.memoizedState,a.state=m,rc(t,n,a,i);var C=t.memoizedState;o!==p||m!==C||pr.current||Yn?(typeof w=="function"&&(ad(t,r,w,n),C=t.memoizedState),(h=Yn||Jg(t,r,h,n,m,C,l)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,C,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,C,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=C),a.props=n,a.state=C,a.context=l,n=h):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return hd(e,t,r,n,s,i)}function hd(e,t,r,n,i,s){E1(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Wg(t,r,!1),jn(e,t,s);n=t.stateNode,JT.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Is(t,e.child,null,s),t.child=Is(t,null,o,s)):Yt(e,t,o,s),t.memoizedState=n.state,i&&Wg(t,r,!0),t.child}function R1(e){var t=e.stateNode;t.pendingContext?jg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jg(e,t.context,!1),Wf(e,t.containerInfo)}function sm(e,t,r,n,i){return Os(),Ff(i),t.flags|=256,Yt(e,t,r,n),t.child}var dd={dehydrated:null,treeContext:null,retryLane:0};function fd(e){return{baseLanes:e,cachePool:null,transitions:null}}function T1(e,t,r){var n=t.pendingProps,i=lt.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),et(lt,i&1),e===null)return sd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=iu(a,n,0,null),e=$i(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=fd(r),t.memoizedState=dd,e):Jf(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return YT(e,t,a,n,o,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=pi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=pi(o,s):(s=$i(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?fd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=dd,n}return s=e.child,e=s.sibling,n=pi(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jf(e,t){return t=iu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $a(e,t,r,n){return n!==null&&Ff(n),Is(t,e.child,null,r),e=Jf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YT(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=rh(Error(de(422))),$a(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=iu({mode:"visible",children:n.children},i,0,null),s=$i(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Is(t,e.child,null,a),t.child.memoizedState=fd(a),t.memoizedState=dd,s);if(!(t.mode&1))return $a(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(de(419)),n=rh(s,n,void 0),$a(e,t,a,n)}if(o=(a&e.childLanes)!==0,dr||o){if(n=Tt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Un(e,i),on(n,e,i,-1))}return np(),n=rh(Error(de(421))),$a(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=hL.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Lr=ui(i.nextSibling),Pr=t,ot=!0,rn=null,e!==null&&(jr[Wr++]=In,jr[Wr++]=Dn,jr[Wr++]=ji,In=e.id,Dn=e.overflow,ji=t),t=Jf(t,n.children),t.flags|=4096,t)}function om(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),od(e.return,t,r)}function nh(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function L1(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Yt(e,t,n.children,r),n=lt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&om(e,r,t);else if(e.tag===19)om(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(et(lt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&nc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),nh(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&nc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}nh(t,!0,r,null,s);break;case"together":nh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ml(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,r=pi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ZT(e,t,r){switch(t.tag){case 3:R1(t),Os();break;case 5:t1(t);break;case 1:vr(t.type)&&Jl(t);break;case 4:Wf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;et(ec,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(et(lt,lt.current&1),t.flags|=128,null):r&t.child.childLanes?T1(e,t,r):(et(lt,lt.current&1),e=jn(e,t,r),e!==null?e.sibling:null);et(lt,lt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return L1(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(lt,lt.current),n)break;return null;case 22:case 23:return t.lanes=0,x1(e,t,r)}return jn(e,t,r)}var A1,pd,M1,P1;A1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pd=function(){};M1=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Bi(Rn.current);var s=null;switch(r){case"input":i=Bh(e,i),n=Bh(e,n),s=[];break;case"select":i=ut({},i,{value:void 0}),n=ut({},n,{value:void 0}),s=[];break;case"textarea":i=$h(e,i),n=$h(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ql)}Uh(r,n);var a;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var o=i[h];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Wo.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var l=n[h];if(o=i?.[h],n.hasOwnProperty(h)&&l!==o&&(l!=null||o!=null))if(h==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(h,r)),r=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Wo.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&nt("scroll",e),s||o===l||(s=[])):(s=s||[]).push(h,l))}r&&(s=s||[]).push("style",r);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};P1=function(e,t,r,n){r!==n&&(t.flags|=4)};function ao(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function eL(e,t,r){var n=t.pendingProps;switch(Bf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(t),null;case 1:return vr(t.type)&&Xl(),Ut(t),null;case 3:return n=t.stateNode,Ds(),st(pr),st(Kt),Kf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rn!==null&&(wd(rn),rn=null))),pd(e,t),Ut(t),null;case 5:zf(t);var i=Bi(ta.current);if(r=t.type,e!==null&&t.stateNode!=null)M1(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(de(166));return Ut(t),null}if(e=Bi(Rn.current),Fa(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[bn]=t,n[Zo]=s,e=(t.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(i=0;i<So.length;i++)nt(So[i],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":vg(n,s),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},nt("invalid",n);break;case"textarea":mg(n,s),nt("invalid",n)}Uh(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Ba(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Ba(n.textContent,o,e),i=["children",""+o]):Wo.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&nt("scroll",n)}switch(r){case"input":Ta(n),gg(n,s,!0);break;case"textarea":Ta(n),yg(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Ql)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=o0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[bn]=t,e[Zo]=n,A1(e,t,!1,!1),t.stateNode=e;e:{switch(a=jh(r,n),r){case"dialog":nt("cancel",e),nt("close",e),i=n;break;case"iframe":case"object":case"embed":nt("load",e),i=n;break;case"video":case"audio":for(i=0;i<So.length;i++)nt(So[i],e);i=n;break;case"source":nt("error",e),i=n;break;case"img":case"image":case"link":nt("error",e),nt("load",e),i=n;break;case"details":nt("toggle",e),i=n;break;case"input":vg(e,n),i=Bh(e,n),nt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ut({},n,{value:void 0}),nt("invalid",e);break;case"textarea":mg(e,n),i=$h(e,n),nt("invalid",e);break;default:i=n}Uh(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?c0(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&a0(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zo(e,l):typeof l=="number"&&zo(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nt("scroll",e):l!=null&&Cf(e,s,l,a))}switch(r){case"input":Ta(e),gg(e,n,!1);break;case"textarea":Ta(e),yg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vi(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?_s(e,!!n.multiple,s,!1):n.defaultValue!=null&&_s(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ql)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ut(t),null;case 6:if(e&&t.stateNode!=null)P1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(de(166));if(r=Bi(ta.current),Bi(Rn.current),Fa(t)){if(n=t.stateNode,r=t.memoizedProps,n[bn]=t,(s=n.nodeValue!==r)&&(e=Pr,e!==null))switch(e.tag){case 3:Ba(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ba(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[bn]=t,t.stateNode=n}return Ut(t),null;case 13:if(st(lt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&Lr!==null&&t.mode&1&&!(t.flags&128))X0(),Os(),t.flags|=98560,s=!1;else if(s=Fa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(de(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(317));s[bn]=t}else Os(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ut(t),s=!1}else rn!==null&&(wd(rn),rn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||lt.current&1?xt===0&&(xt=3):np())),t.updateQueue!==null&&(t.flags|=4),Ut(t),null);case 4:return Ds(),pd(e,t),e===null&&Jo(t.stateNode.containerInfo),Ut(t),null;case 10:return Hf(t.type._context),Ut(t),null;case 17:return vr(t.type)&&Xl(),Ut(t),null;case 19:if(st(lt),s=t.memoizedState,s===null)return Ut(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)ao(s,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=nc(e),a!==null){for(t.flags|=128,ao(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return et(lt,lt.current&1|2),t.child}e=e.sibling}s.tail!==null&&mt()>Fs&&(t.flags|=128,n=!0,ao(s,!1),t.lanes=4194304)}else{if(!n)if(e=nc(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ao(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ot)return Ut(t),null}else 2*mt()-s.renderingStartTime>Fs&&r!==1073741824&&(t.flags|=128,n=!0,ao(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=mt(),t.sibling=null,r=lt.current,et(lt,n?r&1|2:r&1),t):(Ut(t),null);case 22:case 23:return rp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Tr&1073741824&&(Ut(t),t.subtreeFlags&6&&(t.flags|=8192)):Ut(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function tL(e,t){switch(Bf(t),t.tag){case 1:return vr(t.type)&&Xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ds(),st(pr),st(Kt),Kf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zf(t),null;case 13:if(st(lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));Os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(lt),null;case 4:return Ds(),null;case 10:return Hf(t.type._context),null;case 22:case 23:return rp(),null;case 24:return null;default:return null}}var Ha=!1,Wt=!1,rL=typeof WeakSet=="function"?WeakSet:Set,ke=null;function fs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pt(e,t,n)}else r.current=null}function vd(e,t,r){try{r()}catch(n){pt(e,t,n)}}var am=!1;function nL(e,t){if(Yh=Vl,e=F0(),If(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,h=0,g=0,p=e,m=null;t:for(;;){for(var w;p!==r||i!==0&&p.nodeType!==3||(o=a+i),p!==s||n!==0&&p.nodeType!==3||(l=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(w=p.firstChild)!==null;)m=p,p=w;for(;;){if(p===e)break t;if(m===r&&++h===i&&(o=a),m===s&&++g===n&&(l=a),(w=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=w}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zh={focusedElem:e,selectionRange:r},Vl=!1,ke=t;ke!==null;)if(t=ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ke=e;else for(;ke!==null;){t=ke;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var y=C.memoizedProps,v=C.memoizedState,d=t.stateNode,c=d.getSnapshotBeforeUpdate(t.elementType===t.type?y:Yr(t.type,y),v);d.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(_){pt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ke=e;break}ke=t.return}return C=am,am=!1,C}function Mo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&vd(t,r,s)}i=i.next}while(i!==n)}}function ru(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function O1(e){var t=e.alternate;t!==null&&(e.alternate=null,O1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bn],delete t[Zo],delete t[rd],delete t[$T],delete t[HT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I1(e){return e.tag===5||e.tag===3||e.tag===4}function lm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function md(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ql));else if(n!==4&&(e=e.child,e!==null))for(md(e,t,r),e=e.sibling;e!==null;)md(e,t,r),e=e.sibling}function yd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yd(e,t,r),e=e.sibling;e!==null;)yd(e,t,r),e=e.sibling}var Mt=null,tn=!1;function Kn(e,t,r){for(r=r.child;r!==null;)D1(e,t,r),r=r.sibling}function D1(e,t,r){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(qc,r)}catch{}switch(r.tag){case 5:Wt||fs(r,t);case 6:var n=Mt,i=tn;Mt=null,Kn(e,t,r),Mt=n,tn=i,Mt!==null&&(tn?(e=Mt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Mt.removeChild(r.stateNode));break;case 18:Mt!==null&&(tn?(e=Mt,r=r.stateNode,e.nodeType===8?Xu(e.parentNode,r):e.nodeType===1&&Xu(e,r),qo(e)):Xu(Mt,r.stateNode));break;case 4:n=Mt,i=tn,Mt=r.stateNode.containerInfo,tn=!0,Kn(e,t,r),Mt=n,tn=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&vd(r,t,a),i=i.next}while(i!==n)}Kn(e,t,r);break;case 1:if(!Wt&&(fs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){pt(r,t,o)}Kn(e,t,r);break;case 21:Kn(e,t,r);break;case 22:r.mode&1?(Wt=(n=Wt)||r.memoizedState!==null,Kn(e,t,r),Wt=n):Kn(e,t,r);break;default:Kn(e,t,r)}}function cm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new rL),t.forEach(function(n){var i=dL.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Jr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Mt=o.stateNode,tn=!1;break e;case 3:Mt=o.stateNode.containerInfo,tn=!0;break e;case 4:Mt=o.stateNode.containerInfo,tn=!0;break e}o=o.return}if(Mt===null)throw Error(de(160));D1(s,a,i),Mt=null,tn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){pt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)B1(t,e),t=t.sibling}function B1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jr(t,e),vn(e),n&4){try{Mo(3,e,e.return),ru(3,e)}catch(y){pt(e,e.return,y)}try{Mo(5,e,e.return)}catch(y){pt(e,e.return,y)}}break;case 1:Jr(t,e),vn(e),n&512&&r!==null&&fs(r,r.return);break;case 5:if(Jr(t,e),vn(e),n&512&&r!==null&&fs(r,r.return),e.flags&32){var i=e.stateNode;try{zo(i,"")}catch(y){pt(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&i0(i,s),jh(o,a);var h=jh(o,s);for(a=0;a<l.length;a+=2){var g=l[a],p=l[a+1];g==="style"?c0(i,p):g==="dangerouslySetInnerHTML"?a0(i,p):g==="children"?zo(i,p):Cf(i,g,p,h)}switch(o){case"input":Fh(i,s);break;case"textarea":s0(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?_s(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?_s(i,!!s.multiple,s.defaultValue,!0):_s(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zo]=s}catch(y){pt(e,e.return,y)}}break;case 6:if(Jr(t,e),vn(e),n&4){if(e.stateNode===null)throw Error(de(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){pt(e,e.return,y)}}break;case 3:if(Jr(t,e),vn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qo(t.containerInfo)}catch(y){pt(e,e.return,y)}break;case 4:Jr(t,e),vn(e);break;case 13:Jr(t,e),vn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ep=mt())),n&4&&cm(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(Wt=(h=Wt)||g,Jr(t,e),Wt=h):Jr(t,e),vn(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(ke=e,g=e.child;g!==null;){for(p=ke=g;ke!==null;){switch(m=ke,w=m.child,m.tag){case 0:case 11:case 14:case 15:Mo(4,m,m.return);break;case 1:fs(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(y){pt(n,r,y)}}break;case 5:fs(m,m.return);break;case 22:if(m.memoizedState!==null){hm(p);continue}}w!==null?(w.return=m,ke=w):hm(p)}g=g.sibling}e:for(g=null,p=e;;){if(p.tag===5){if(g===null){g=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=l0("display",a))}catch(y){pt(e,e.return,y)}}}else if(p.tag===6){if(g===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(y){pt(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;g===p&&(g=null),p=p.return}g===p&&(g=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Jr(t,e),vn(e),n&4&&cm(e);break;case 21:break;default:Jr(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(I1(r)){var n=r;break e}r=r.return}throw Error(de(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(zo(i,""),n.flags&=-33);var s=lm(e);yd(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=lm(e);md(e,o,a);break;default:throw Error(de(161))}}catch(l){pt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iL(e,t,r){ke=e,F1(e)}function F1(e,t,r){for(var n=(e.mode&1)!==0;ke!==null;){var i=ke,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Ha;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Wt;o=Ha;var h=Wt;if(Ha=a,(Wt=l)&&!h)for(ke=i;ke!==null;)a=ke,l=a.child,a.tag===22&&a.memoizedState!==null?dm(i):l!==null?(l.return=a,ke=l):dm(i);for(;s!==null;)ke=s,F1(s),s=s.sibling;ke=i,Ha=o,Wt=h}um(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ke=s):um(e)}}function um(e){for(;ke!==null;){var t=ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wt||ru(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Wt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Yr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&qg(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}qg(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var p=g.dehydrated;p!==null&&qo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Wt||t.flags&512&&gd(t)}catch(m){pt(t,t.return,m)}}if(t===e){ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,ke=r;break}ke=t.return}}function hm(e){for(;ke!==null;){var t=ke;if(t===e){ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ke=r;break}ke=t.return}}function dm(e){for(;ke!==null;){var t=ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ru(4,t)}catch(l){pt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){pt(t,i,l)}}var s=t.return;try{gd(t)}catch(l){pt(t,s,l)}break;case 5:var a=t.return;try{gd(t)}catch(l){pt(t,a,l)}}}catch(l){pt(t,t.return,l)}if(t===e){ke=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ke=o;break}ke=t.return}}var sL=Math.ceil,oc=Wn.ReactCurrentDispatcher,Yf=Wn.ReactCurrentOwner,Vr=Wn.ReactCurrentBatchConfig,Ne=0,Tt=null,Ct=null,Dt=0,Tr=0,ps=Si(0),xt=0,sa=null,zi=0,nu=0,Zf=0,Po=null,hr=null,ep=0,Fs=1/0,Pn=null,ac=!1,_d=null,di=null,Ua=!1,ii=null,lc=0,Oo=0,Sd=null,yl=-1,_l=0;function tr(){return Ne&6?mt():yl!==-1?yl:yl=mt()}function fi(e){return e.mode&1?Ne&2&&Dt!==0?Dt&-Dt:jT.transition!==null?(_l===0&&(_l=C0()),_l):(e=ze,e!==0||(e=window.event,e=e===void 0?16:T0(e.type)),e):1}function on(e,t,r,n){if(50<Oo)throw Oo=0,Sd=null,Error(de(185));fa(e,r,n),(!(Ne&2)||e!==Tt)&&(e===Tt&&(!(Ne&2)&&(nu|=r),xt===4&&ei(e,Dt)),gr(e,n),r===1&&Ne===0&&!(t.mode&1)&&(Fs=mt()+500,Zc&&Ci()))}function gr(e,t){var r=e.callbackNode;jR(e,t);var n=Kl(e,e===Tt?Dt:0);if(n===0)r!==null&&Cg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Cg(r),t===1)e.tag===0?UT(fm.bind(null,e)):G0(fm.bind(null,e)),FT(function(){!(Ne&6)&&Ci()}),r=null;else{switch(w0(n)){case 1:r=Ef;break;case 4:r=_0;break;case 16:r=zl;break;case 536870912:r=S0;break;default:r=zl}r=K1(r,N1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function N1(e,t){if(yl=-1,_l=0,Ne&6)throw Error(de(327));var r=e.callbackNode;if(bs()&&e.callbackNode!==r)return null;var n=Kl(e,e===Tt?Dt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=cc(e,n);else{t=n;var i=Ne;Ne|=2;var s=H1();(Tt!==e||Dt!==t)&&(Pn=null,Fs=mt()+500,Ni(e,t));do try{lL();break}catch(o){$1(e,o)}while(!0);$f(),oc.current=s,Ne=i,Ct!==null?t=0:(Tt=null,Dt=0,t=xt)}if(t!==0){if(t===2&&(i=Gh(e),i!==0&&(n=i,t=Cd(e,i))),t===1)throw r=sa,Ni(e,0),ei(e,n),gr(e,mt()),r;if(t===6)ei(e,n);else{if(i=e.current.alternate,!(n&30)&&!oL(i)&&(t=cc(e,n),t===2&&(s=Gh(e),s!==0&&(n=s,t=Cd(e,s))),t===1))throw r=sa,Ni(e,0),ei(e,n),gr(e,mt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(de(345));case 2:Ei(e,hr,Pn);break;case 3:if(ei(e,n),(n&130023424)===n&&(t=ep+500-mt(),10<t)){if(Kl(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){tr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=td(Ei.bind(null,e,hr,Pn),t);break}Ei(e,hr,Pn);break;case 4:if(ei(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-sn(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sL(n/1960))-n,10<n){e.timeoutHandle=td(Ei.bind(null,e,hr,Pn),n);break}Ei(e,hr,Pn);break;case 5:Ei(e,hr,Pn);break;default:throw Error(de(329))}}}return gr(e,mt()),e.callbackNode===r?N1.bind(null,e):null}function Cd(e,t){var r=Po;return e.current.memoizedState.isDehydrated&&(Ni(e,t).flags|=256),e=cc(e,t),e!==2&&(t=hr,hr=r,t!==null&&wd(t)),e}function wd(e){hr===null?hr=e:hr.push.apply(hr,e)}function oL(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!an(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ei(e,t){for(t&=~Zf,t&=~nu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-sn(t),n=1<<r;e[r]=-1,t&=~n}}function fm(e){if(Ne&6)throw Error(de(327));bs();var t=Kl(e,0);if(!(t&1))return gr(e,mt()),null;var r=cc(e,t);if(e.tag!==0&&r===2){var n=Gh(e);n!==0&&(t=n,r=Cd(e,n))}if(r===1)throw r=sa,Ni(e,0),ei(e,t),gr(e,mt()),r;if(r===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ei(e,hr,Pn),gr(e,mt()),null}function tp(e,t){var r=Ne;Ne|=1;try{return e(t)}finally{Ne=r,Ne===0&&(Fs=mt()+500,Zc&&Ci())}}function Ki(e){ii!==null&&ii.tag===0&&!(Ne&6)&&bs();var t=Ne;Ne|=1;var r=Vr.transition,n=ze;try{if(Vr.transition=null,ze=1,e)return e()}finally{ze=n,Vr.transition=r,Ne=t,!(Ne&6)&&Ci()}}function rp(){Tr=ps.current,st(ps)}function Ni(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,BT(r)),Ct!==null)for(r=Ct.return;r!==null;){var n=r;switch(Bf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xl();break;case 3:Ds(),st(pr),st(Kt),Kf();break;case 5:zf(n);break;case 4:Ds();break;case 13:st(lt);break;case 19:st(lt);break;case 10:Hf(n.type._context);break;case 22:case 23:rp()}r=r.return}if(Tt=e,Ct=e=pi(e.current,null),Dt=Tr=t,xt=0,sa=null,Zf=nu=zi=0,hr=Po=null,Di!==null){for(t=0;t<Di.length;t++)if(r=Di[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Di=null}return e}function $1(e,t){do{var r=Ct;try{if($f(),vl.current=sc,ic){for(var n=ct.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ic=!1}if(Wi=0,Rt=kt=ct=null,Ao=!1,ra=0,Yf.current=null,r===null||r.return===null){xt=1,sa=t,Ct=null;break}e:{var s=e,a=r.return,o=r,l=t;if(t=Dt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,g=o,p=g.tag;if(!(g.mode&1)&&(p===0||p===11||p===15)){var m=g.alternate;m?(g.updateQueue=m.updateQueue,g.memoizedState=m.memoizedState,g.lanes=m.lanes):(g.updateQueue=null,g.memoizedState=null)}var w=em(a);if(w!==null){w.flags&=-257,tm(w,a,o,s,t),w.mode&1&&Zg(s,h,t),t=w,l=h;var C=t.updateQueue;if(C===null){var y=new Set;y.add(l),t.updateQueue=y}else C.add(l);break e}else{if(!(t&1)){Zg(s,h,t),np();break e}l=Error(de(426))}}else if(ot&&o.mode&1){var v=em(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),tm(v,a,o,s,t),Ff(Bs(l,o));break e}}s=l=Bs(l,o),xt!==4&&(xt=2),Po===null?Po=[s]:Po.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var d=w1(s,l,t);Gg(s,d);break e;case 1:o=l;var c=s.type,f=s.stateNode;if(!(s.flags&128)&&(typeof c.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(di===null||!di.has(f)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=k1(s,o,t);Gg(s,_);break e}}s=s.return}while(s!==null)}j1(r)}catch(b){t=b,Ct===r&&r!==null&&(Ct=r=r.return);continue}break}while(!0)}function H1(){var e=oc.current;return oc.current=sc,e===null?sc:e}function np(){(xt===0||xt===3||xt===2)&&(xt=4),Tt===null||!(zi&268435455)&&!(nu&268435455)||ei(Tt,Dt)}function cc(e,t){var r=Ne;Ne|=2;var n=H1();(Tt!==e||Dt!==t)&&(Pn=null,Ni(e,t));do try{aL();break}catch(i){$1(e,i)}while(!0);if($f(),Ne=r,oc.current=n,Ct!==null)throw Error(de(261));return Tt=null,Dt=0,xt}function aL(){for(;Ct!==null;)U1(Ct)}function lL(){for(;Ct!==null&&!OR();)U1(Ct)}function U1(e){var t=z1(e.alternate,e,Tr);e.memoizedProps=e.pendingProps,t===null?j1(e):Ct=t,Yf.current=null}function j1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=tL(r,t),r!==null){r.flags&=32767,Ct=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,Ct=null;return}}else if(r=eL(r,t,Tr),r!==null){Ct=r;return}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);xt===0&&(xt=5)}function Ei(e,t,r){var n=ze,i=Vr.transition;try{Vr.transition=null,ze=1,cL(e,t,r,n)}finally{Vr.transition=i,ze=n}return null}function cL(e,t,r,n){do bs();while(ii!==null);if(Ne&6)throw Error(de(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(WR(e,s),e===Tt&&(Ct=Tt=null,Dt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ua||(Ua=!0,K1(zl,function(){return bs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Vr.transition,Vr.transition=null;var a=ze;ze=1;var o=Ne;Ne|=4,Yf.current=null,nL(e,r),B1(r,e),LT(Zh),Vl=!!Yh,Zh=Yh=null,e.current=r,iL(r),IR(),Ne=o,ze=a,Vr.transition=s}else e.current=r;if(Ua&&(Ua=!1,ii=e,lc=i),s=e.pendingLanes,s===0&&(di=null),FR(r.stateNode),gr(e,mt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ac)throw ac=!1,e=_d,_d=null,e;return lc&1&&e.tag!==0&&bs(),s=e.pendingLanes,s&1?e===Sd?Oo++:(Oo=0,Sd=e):Oo=0,Ci(),null}function bs(){if(ii!==null){var e=w0(lc),t=Vr.transition,r=ze;try{if(Vr.transition=null,ze=16>e?16:e,ii===null)var n=!1;else{if(e=ii,ii=null,lc=0,Ne&6)throw Error(de(331));var i=Ne;for(Ne|=4,ke=e.current;ke!==null;){var s=ke,a=s.child;if(ke.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var h=o[l];for(ke=h;ke!==null;){var g=ke;switch(g.tag){case 0:case 11:case 15:Mo(8,g,s)}var p=g.child;if(p!==null)p.return=g,ke=p;else for(;ke!==null;){g=ke;var m=g.sibling,w=g.return;if(O1(g),g===h){ke=null;break}if(m!==null){m.return=w,ke=m;break}ke=w}}}var C=s.alternate;if(C!==null){var y=C.child;if(y!==null){C.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}ke=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ke=a;else e:for(;ke!==null;){if(s=ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mo(9,s,s.return)}var d=s.sibling;if(d!==null){d.return=s.return,ke=d;break e}ke=s.return}}var c=e.current;for(ke=c;ke!==null;){a=ke;var f=a.child;if(a.subtreeFlags&2064&&f!==null)f.return=a,ke=f;else e:for(a=c;ke!==null;){if(o=ke,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ru(9,o)}}catch(b){pt(o,o.return,b)}if(o===a){ke=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,ke=_;break e}ke=o.return}}if(Ne=i,Ci(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(qc,e)}catch{}n=!0}return n}finally{ze=r,Vr.transition=t}}return!1}function pm(e,t,r){t=Bs(r,t),t=w1(e,t,1),e=hi(e,t,1),t=tr(),e!==null&&(fa(e,1,t),gr(e,t))}function pt(e,t,r){if(e.tag===3)pm(e,e,r);else for(;t!==null;){if(t.tag===3){pm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(di===null||!di.has(n))){e=Bs(r,e),e=k1(t,e,1),t=hi(t,e,1),e=tr(),t!==null&&(fa(t,1,e),gr(t,e));break}}t=t.return}}function uL(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=tr(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(Dt&r)===r&&(xt===4||xt===3&&(Dt&130023424)===Dt&&500>mt()-ep?Ni(e,0):Zf|=r),gr(e,t)}function W1(e,t){t===0&&(e.mode&1?(t=Ma,Ma<<=1,!(Ma&130023424)&&(Ma=4194304)):t=1);var r=tr();e=Un(e,t),e!==null&&(fa(e,t,r),gr(e,r))}function hL(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),W1(e,r)}function dL(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(de(314))}n!==null&&n.delete(t),W1(e,r)}var z1;z1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pr.current)dr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return dr=!1,ZT(e,t,r);dr=!!(e.flags&131072)}else dr=!1,ot&&t.flags&1048576&&q0(t,Zl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ml(e,t),e=t.pendingProps;var i=Ps(t,Kt.current);ks(t,r),i=Gf(null,t,n,e,i,r);var s=qf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vr(n)?(s=!0,Jl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jf(t),i.updater=tu,t.stateNode=i,i._reactInternals=t,ld(t,n,e,r),t=hd(null,t,n,!0,s,r)):(t.tag=0,ot&&s&&Df(t),Yt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ml(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=pL(n),e=Yr(n,e),i){case 0:t=ud(null,t,n,e,r);break e;case 1:t=im(null,t,n,e,r);break e;case 11:t=rm(null,t,n,e,r);break e;case 14:t=nm(null,t,n,Yr(n.type,e),r);break e}throw Error(de(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yr(n,i),ud(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yr(n,i),im(e,t,n,i,r);case 3:e:{if(R1(t),e===null)throw Error(de(387));n=t.pendingProps,s=t.memoizedState,i=s.element,e1(e,t),rc(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Bs(Error(de(423)),t),t=sm(e,t,n,r,i);break e}else if(n!==i){i=Bs(Error(de(424)),t),t=sm(e,t,n,r,i);break e}else for(Lr=ui(t.stateNode.containerInfo.firstChild),Pr=t,ot=!0,rn=null,r=Y0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Os(),n===i){t=jn(e,t,r);break e}Yt(e,t,n,r)}t=t.child}return t;case 5:return t1(t),e===null&&sd(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,ed(n,i)?a=null:s!==null&&ed(n,s)&&(t.flags|=32),E1(e,t),Yt(e,t,a,r),t.child;case 6:return e===null&&sd(t),null;case 13:return T1(e,t,r);case 4:return Wf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Is(t,null,n,r):Yt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yr(n,i),rm(e,t,n,i,r);case 7:return Yt(e,t,t.pendingProps,r),t.child;case 8:return Yt(e,t,t.pendingProps.children,r),t.child;case 12:return Yt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,et(ec,n._currentValue),n._currentValue=a,s!==null)if(an(s.value,a)){if(s.children===i.children&&!pr.current){t=jn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Bn(-1,r&-r),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?l.next=l:(l.next=g.next,g.next=l),h.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),od(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(de(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),od(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Yt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ks(t,r),i=qr(i),n=n(i),t.flags|=1,Yt(e,t,n,r),t.child;case 14:return n=t.type,i=Yr(n,t.pendingProps),i=Yr(n.type,i),nm(e,t,n,i,r);case 15:return b1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yr(n,i),ml(e,t),t.tag=1,vr(n)?(e=!0,Jl(t)):e=!1,ks(t,r),C1(t,n,i),ld(t,n,i,r),hd(null,t,n,!0,e,r);case 19:return L1(e,t,r);case 22:return x1(e,t,r)}throw Error(de(156,t.tag))};function K1(e,t){return y0(e,t)}function fL(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(e,t,r,n){return new fL(e,t,r,n)}function ip(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pL(e){if(typeof e=="function")return ip(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kf)return 11;if(e===bf)return 14}return 2}function pi(e,t){var r=e.alternate;return r===null?(r=Kr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sl(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")ip(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case is:return $i(r.children,i,s,t);case wf:a=8,i|=8;break;case Ph:return e=Kr(12,r,t,i|2),e.elementType=Ph,e.lanes=s,e;case Oh:return e=Kr(13,r,t,i),e.elementType=Oh,e.lanes=s,e;case Ih:return e=Kr(19,r,t,i),e.elementType=Ih,e.lanes=s,e;case t0:return iu(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z_:a=10;break e;case e0:a=9;break e;case kf:a=11;break e;case bf:a=14;break e;case Jn:a=16,n=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=Kr(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function $i(e,t,r,n){return e=Kr(7,e,n,t),e.lanes=r,e}function iu(e,t,r,n){return e=Kr(22,e,n,t),e.elementType=t0,e.lanes=r,e.stateNode={isHidden:!1},e}function ih(e,t,r){return e=Kr(6,e,null,t),e.lanes=r,e}function sh(e,t,r){return t=Kr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vL(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$u(0),this.expirationTimes=$u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$u(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sp(e,t,r,n,i,s,a,o,l){return e=new vL(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Kr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(s),e}function gL(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ns,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function V1(e){if(!e)return gi;e=e._reactInternals;e:{if(Qi(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var r=e.type;if(vr(r))return V0(e,r,t)}return t}function G1(e,t,r,n,i,s,a,o,l){return e=sp(r,n,!0,e,i,s,a,o,l),e.context=V1(null),r=e.current,n=tr(),i=fi(r),s=Bn(n,i),s.callback=t??null,hi(r,s,i),e.current.lanes=i,fa(e,i,n),gr(e,n),e}function su(e,t,r,n){var i=t.current,s=tr(),a=fi(i);return r=V1(r),t.context===null?t.context=r:t.pendingContext=r,t=Bn(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=hi(i,t,a),e!==null&&(on(e,i,a,s),pl(e,i,a)),a}function uc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function op(e,t){vm(e,t),(e=e.alternate)&&vm(e,t)}var q1=typeof reportError=="function"?reportError:function(e){console.error(e)};function ap(e){this._internalRoot=e}ou.prototype.render=ap.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));su(e,t,null,null)};ou.prototype.unmount=ap.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ki(function(){su(null,e,null,null)}),t[Hn]=null}};function ou(e){this._internalRoot=e}ou.prototype.unstable_scheduleHydration=function(e){if(e){var t=x0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zn.length&&t!==0&&t<Zn[r].priority;r++);Zn.splice(r,0,e),r===0&&R0(e)}};function lp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gm(){}function mL(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=uc(a);s.call(h)}}var a=G1(t,n,e,0,null,!1,!1,"",gm);return e._reactRootContainer=a,e[Hn]=a.current,Jo(e.nodeType===8?e.parentNode:e),Ki(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var h=uc(l);o.call(h)}}var l=sp(e,0,!1,null,null,!1,!1,"",gm);return e._reactRootContainer=l,e[Hn]=l.current,Jo(e.nodeType===8?e.parentNode:e),Ki(function(){su(t,l,r,n)}),l}function lu(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=uc(a);o.call(l)}}su(t,a,e,i)}else a=mL(r,t,e,i,n);return uc(a)}k0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_o(t.pendingLanes);r!==0&&(Rf(t,r|1),gr(t,mt()),!(Ne&6)&&(Fs=mt()+500,Ci()))}break;case 13:Ki(function(){var n=Un(e,1);if(n!==null){var i=tr();on(n,e,1,i)}}),op(e,1)}};Tf=function(e){if(e.tag===13){var t=Un(e,134217728);if(t!==null){var r=tr();on(t,e,134217728,r)}op(e,134217728)}};b0=function(e){if(e.tag===13){var t=fi(e),r=Un(e,t);if(r!==null){var n=tr();on(r,e,t,n)}op(e,t)}};x0=function(){return ze};E0=function(e,t){var r=ze;try{return ze=e,t()}finally{ze=r}};zh=function(e,t,r){switch(t){case"input":if(Fh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Yc(n);if(!i)throw Error(de(90));n0(n),Fh(n,i)}}}break;case"textarea":s0(e,r);break;case"select":t=r.value,t!=null&&_s(e,!!r.multiple,t,!1)}};d0=tp;f0=Ki;var yL={usingClientEntryPoint:!1,Events:[va,ls,Yc,u0,h0,tp]},lo={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_L={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=g0(e),e===null?null:e.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ja.isDisabled&&ja.supportsFiber)try{qc=ja.inject(_L),En=ja}catch{}}Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yL;Dr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lp(t))throw Error(de(200));return gL(e,t,null,r)};Dr.createRoot=function(e,t){if(!lp(e))throw Error(de(299));var r=!1,n="",i=q1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sp(e,1,!1,null,null,r,!1,n,i),e[Hn]=t.current,Jo(e.nodeType===8?e.parentNode:e),new ap(t)};Dr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=g0(t),e=e===null?null:e.stateNode,e};Dr.flushSync=function(e){return Ki(e)};Dr.hydrate=function(e,t,r){if(!au(t))throw Error(de(200));return lu(null,e,t,!0,r)};Dr.hydrateRoot=function(e,t,r){if(!lp(e))throw Error(de(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=q1;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=G1(t,null,e,1,r??null,i,!1,s,a),e[Hn]=t.current,Jo(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ou(t)};Dr.render=function(e,t,r){if(!au(t))throw Error(de(200));return lu(null,e,t,!1,r)};Dr.unmountComponentAtNode=function(e){if(!au(e))throw Error(de(40));return e._reactRootContainer?(Ki(function(){lu(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};Dr.unstable_batchedUpdates=tp;Dr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!au(r))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return lu(e,t,r,!1,n)};Dr.version="18.3.1-next-f1338f8080-20240426";function Q1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q1)}catch(e){console.error(e)}}Q1(),Q_.exports=Dr;var UM=Q_.exports;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hc.apply(this,arguments)}var si;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(si||(si={}));const mm="popstate";function SL(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:a,hash:o}=n.location;return kd("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:J1(i)}return wL(t,r,null,e)}function _r(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function X1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CL(){return Math.random().toString(36).substr(2,8)}function ym(e,t){return{usr:e.state,key:e.key,idx:t}}function kd(e,t,r,n){return r===void 0&&(r=null),hc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cu(t):t,{state:r,key:t&&t.key||n||CL()})}function J1(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function wL(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=si.Pop,l=null,h=g();h==null&&(h=0,a.replaceState(hc({},a.state,{idx:h}),""));function g(){return(a.state||{idx:null}).idx}function p(){o=si.Pop;let v=g(),d=v==null?null:v-h;h=v,l&&l({action:o,location:y.location,delta:d})}function m(v,d){o=si.Push;let c=kd(y.location,v,d);h=g()+1;let f=ym(c,h),_=y.createHref(c);try{a.pushState(f,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(_)}s&&l&&l({action:o,location:y.location,delta:1})}function w(v,d){o=si.Replace;let c=kd(y.location,v,d);h=g();let f=ym(c,h),_=y.createHref(c);a.replaceState(f,"",_),s&&l&&l({action:o,location:y.location,delta:0})}function C(v){let d=i.location.origin!=="null"?i.location.origin:i.location.href,c=typeof v=="string"?v:J1(v);return c=c.replace(/ $/,"%20"),_r(d,"No window.location.(origin|href) available to create URL for href: "+c),new URL(c,d)}let y={get action(){return o},get location(){return e(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mm,p),l=v,()=>{i.removeEventListener(mm,p),l=null}},createHref(v){return t(i,v)},createURL:C,encodeLocation(v){let d=C(v);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:m,replace:w,go(v){return a.go(v)}};return y}var _m;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_m||(_m={}));function kL(e,t,r){return r===void 0&&(r="/"),bL(e,t,r)}function bL(e,t,r,n){let i=typeof t=="string"?cu(t):t,s=eS(i.pathname||"/",r);if(s==null)return null;let a=Y1(e);xL(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let h=FL(s);o=IL(a[l],h)}return o}function Y1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(_r(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let h=xs([n,l.relativePath]),g=r.concat(l);s.children&&s.children.length>0&&(_r(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Y1(s.children,t,g,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:PL(h,s.index),routesMeta:g})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Z1(s.path))i(s,a,l)}),t}function Z1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Z1(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function xL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:OL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const EL=/^:[\w-]+$/,RL=3,TL=2,LL=1,AL=10,ML=-2,Sm=e=>e==="*";function PL(e,t){let r=e.split("/"),n=r.length;return r.some(Sm)&&(n+=ML),t&&(n+=TL),r.filter(i=>!Sm(i)).reduce((i,s)=>i+(EL.test(s)?RL:s===""?LL:AL),n)}function OL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function IL(e,t,r){let{routesMeta:n}=e,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],h=o===n.length-1,g=s==="/"?t:t.slice(s.length)||"/",p=DL({path:l.relativePath,caseSensitive:l.caseSensitive,end:h},g),m=l.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:xs([s,p.pathname]),pathnameBase:NL(xs([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=xs([s,p.pathnameBase]))}return a}function DL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=BL(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((h,g,p)=>{let{paramName:m,isOptional:w}=g;if(m==="*"){let y=o[p]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const C=o[p];return w&&!C?h[m]=void 0:h[m]=(C||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:e}}function BL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),X1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function FL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return X1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function eS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const xs=e=>e.join("/").replace(/\/\/+/g,"/"),NL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function $L(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tS=["post","put","patch","delete"];new Set(tS);const HL=["get",...tS];new Set(HL);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}const UL=K.createContext(null),jL=K.createContext(null),rS=K.createContext(null),uu=K.createContext(null),hu=K.createContext({outlet:null,matches:[],isDataRoute:!1}),nS=K.createContext(null);function cp(){return K.useContext(uu)!=null}function WL(){return cp()||_r(!1),K.useContext(uu).location}function zL(e,t){return KL(e,t)}function KL(e,t,r,n){cp()||_r(!1);let{navigator:i}=K.useContext(rS),{matches:s}=K.useContext(hu),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let h=WL(),g;if(t){var p;let v=typeof t=="string"?cu(t):t;l==="/"||(p=v.pathname)!=null&&p.startsWith(l)||_r(!1),g=v}else g=h;let m=g.pathname||"/",w=m;if(l!=="/"){let v=l.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let C=kL(e,{pathname:w}),y=XL(C&&C.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:xs([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:xs([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&y?K.createElement(uu.Provider,{value:{location:dc({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:si.Pop}},y):y}function VL(){let e=eA(),t=$L(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),r?K.createElement("pre",{style:i},r):null,null)}const GL=K.createElement(VL,null);class qL extends K.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?K.createElement(hu.Provider,{value:this.props.routeContext},K.createElement(nS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QL(e){let{routeContext:t,match:r,children:n}=e,i=K.useContext(UL);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),K.createElement(hu.Provider,{value:t},n)}function XL(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let g=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);g>=0||_r(!1),a=a.slice(0,Math.min(a.length,g+1))}let l=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<a.length;g++){let p=a[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=g),p.route.id){let{loaderData:m,errors:w}=r,C=p.route.loader&&m[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||C){l=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((g,p,m)=>{let w,C=!1,y=null,v=null;r&&(w=o&&p.route.id?o[p.route.id]:void 0,y=p.route.errorElement||GL,l&&(h<0&&m===0?(C=!0,v=null):h===m&&(C=!0,v=p.route.hydrateFallbackElement||null)));let d=t.concat(a.slice(0,m+1)),c=()=>{let f;return w?f=y:C?f=v:p.route.Component?f=K.createElement(p.route.Component,null):p.route.element?f=p.route.element:f=g,K.createElement(QL,{match:p,routeContext:{outlet:g,matches:d,isDataRoute:r!=null},children:f})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?K.createElement(qL,{location:r.location,revalidation:r.revalidation,component:y,error:w,children:c(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):c()},null)}var bd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bd||{});function JL(e){let t=K.useContext(jL);return t||_r(!1),t}function YL(e){let t=K.useContext(hu);return t||_r(!1),t}function ZL(e){let t=YL(),r=t.matches[t.matches.length-1];return r.route.id||_r(!1),r.route.id}function eA(){var e;let t=K.useContext(nS),r=JL(bd.UseRouteError),n=ZL(bd.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}const Cm={};function tA(e,t){Cm[t]||(Cm[t]=!0,console.warn(t))}const wm=(e,t,r)=>tA(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function rA(e,t){e?.v7_startTransition===void 0&&wm("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e?.v7_relativeSplatPath===void 0&&!t&&wm("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function iS(e){_r(!1)}function nA(e){let{basename:t="/",children:r=null,location:n,navigationType:i=si.Pop,navigator:s,static:a=!1,future:o}=e;cp()&&_r(!1);let l=t.replace(/^\/*/,"/"),h=K.useMemo(()=>({basename:l,navigator:s,static:a,future:dc({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=cu(n));let{pathname:g="/",search:p="",hash:m="",state:w=null,key:C="default"}=n,y=K.useMemo(()=>{let v=eS(g,l);return v==null?null:{location:{pathname:v,search:p,hash:m,state:w,key:C},navigationType:i}},[l,g,p,m,w,C,i]);return y==null?null:K.createElement(rS.Provider,{value:h},K.createElement(uu.Provider,{children:r,value:y}))}function iA(e){let{children:t,location:r}=e;return zL(xd(t),r)}new Promise(()=>{});function xd(e,t){t===void 0&&(t=[]);let r=[];return K.Children.forEach(e,(n,i)=>{if(!K.isValidElement(n))return;let s=[...t,i];if(n.type===K.Fragment){r.push.apply(r,xd(n.props.children,s));return}n.type!==iS&&_r(!1),!n.props.index||!n.props.children||_r(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=xd(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const sA="6";try{window.__reactRouterVersion=sA}catch{}const oA="startTransition",km=lh[oA];function aA(e){let{basename:t,children:r,future:n,window:i}=e,s=K.useRef();s.current==null&&(s.current=SL({window:i,v5Compat:!0}));let a=s.current,[o,l]=K.useState({action:a.action,location:a.location}),{v7_startTransition:h}=n||{},g=K.useCallback(p=>{h&&km?km(()=>l(p)):l(p)},[l,h]);return K.useLayoutEffect(()=>a.listen(g),[a,g]),K.useEffect(()=>rA(n),[n]),K.createElement(nA,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var bm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bm||(bm={}));var xm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xm||(xm={}));var up={};(function e(t,r,n,i){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!t.OffscreenCanvas)return!1;var P=new OffscreenCanvas(1,1),O=P.getContext("2d");O.fillRect(0,0,1,1);var U=P.transferToImageBitmap();try{O.createPattern(U,"no-repeat")}catch{return!1}return!0}();function l(){}function h(P){var O=r.exports.Promise,U=O!==void 0?O:t.Promise;return typeof U=="function"?new U(P):(P(l,l),null)}var g=function(P,O){return{transform:function(U){if(P)return U;if(O.has(U))return O.get(U);var Z=new OffscreenCanvas(U.width,U.height),re=Z.getContext("2d");return re.drawImage(U,0,0),O.set(U,Z),Z},clear:function(){O.clear()}}}(o,new Map),p=function(){var P=Math.floor(16.666666666666668),O,U,Z={},re=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(O=function(le){var ce=Math.random();return Z[ce]=requestAnimationFrame(function J(B){re===B||re+P-1<B?(re=B,delete Z[ce],le()):Z[ce]=requestAnimationFrame(J)}),ce},U=function(le){Z[le]&&cancelAnimationFrame(Z[le])}):(O=function(le){return setTimeout(le,P)},U=function(le){return clearTimeout(le)}),{frame:O,cancel:U}}(),m=function(){var P,O,U={};function Z(re){function le(ce,J){re.postMessage({options:ce||{},callback:J})}re.init=function(J){var B=J.transferControlToOffscreen();re.postMessage({canvas:B},[B])},re.fire=function(J,B,te){if(O)return le(J,null),O;var ie=Math.random().toString(36).slice(2);return O=h(function(ue){function he(Se){Se.data.callback===ie&&(delete U[ie],re.removeEventListener("message",he),O=null,g.clear(),te(),ue())}re.addEventListener("message",he),le(J,ie),U[ie]=he.bind(null,{data:{callback:ie}})}),O},re.reset=function(){re.postMessage({reset:!0});for(var J in U)U[J](),delete U[J]}}return function(){if(P)return P;if(!n&&s){var re=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{P=new Worker(URL.createObjectURL(new Blob([re])))}catch(le){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",le),null}Z(P)}return P}}(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function C(P,O){return O?O(P):P}function y(P){return P!=null}function v(P,O,U){return C(P&&y(P[O])?P[O]:w[O],U)}function d(P){return P<0?0:Math.floor(P)}function c(P,O){return Math.floor(Math.random()*(O-P))+P}function f(P){return parseInt(P,16)}function _(P){return P.map(b)}function b(P){var O=String(P).replace(/[^0-9a-f]/gi,"");return O.length<6&&(O=O[0]+O[0]+O[1]+O[1]+O[2]+O[2]),{r:f(O.substring(0,2)),g:f(O.substring(2,4)),b:f(O.substring(4,6))}}function R(P){var O=v(P,"origin",Object);return O.x=v(O,"x",Number),O.y=v(O,"y",Number),O}function L(P){P.width=document.documentElement.clientWidth,P.height=document.documentElement.clientHeight}function x(P){var O=P.getBoundingClientRect();P.width=O.width,P.height=O.height}function I(P){var O=document.createElement("canvas");return O.style.position="fixed",O.style.top="0px",O.style.left="0px",O.style.pointerEvents="none",O.style.zIndex=P,O}function j(P,O,U,Z,re,le,ce,J,B){P.save(),P.translate(O,U),P.rotate(le),P.scale(Z,re),P.arc(0,0,1,ce,J,B),P.restore()}function G(P){var O=P.angle*(Math.PI/180),U=P.spread*(Math.PI/180);return{x:P.x,y:P.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:P.startVelocity*.5+Math.random()*P.startVelocity,angle2D:-O+(.5*U-Math.random()*U),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:P.color,shape:P.shape,tick:0,totalTicks:P.ticks,decay:P.decay,drift:P.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:P.gravity*3,ovalScalar:.6,scalar:P.scalar,flat:P.flat}}function X(P,O){O.x+=Math.cos(O.angle2D)*O.velocity+O.drift,O.y+=Math.sin(O.angle2D)*O.velocity+O.gravity,O.velocity*=O.decay,O.flat?(O.wobble=0,O.wobbleX=O.x+10*O.scalar,O.wobbleY=O.y+10*O.scalar,O.tiltSin=0,O.tiltCos=0,O.random=1):(O.wobble+=O.wobbleSpeed,O.wobbleX=O.x+10*O.scalar*Math.cos(O.wobble),O.wobbleY=O.y+10*O.scalar*Math.sin(O.wobble),O.tiltAngle+=.1,O.tiltSin=Math.sin(O.tiltAngle),O.tiltCos=Math.cos(O.tiltAngle),O.random=Math.random()+2);var U=O.tick++/O.totalTicks,Z=O.x+O.random*O.tiltCos,re=O.y+O.random*O.tiltSin,le=O.wobbleX+O.random*O.tiltCos,ce=O.wobbleY+O.random*O.tiltSin;if(P.fillStyle="rgba("+O.color.r+", "+O.color.g+", "+O.color.b+", "+(1-U)+")",P.beginPath(),a&&O.shape.type==="path"&&typeof O.shape.path=="string"&&Array.isArray(O.shape.matrix))P.fill(Q(O.shape.path,O.shape.matrix,O.x,O.y,Math.abs(le-Z)*.1,Math.abs(ce-re)*.1,Math.PI/10*O.wobble));else if(O.shape.type==="bitmap"){var J=Math.PI/10*O.wobble,B=Math.abs(le-Z)*.1,te=Math.abs(ce-re)*.1,ie=O.shape.bitmap.width*O.scalar,ue=O.shape.bitmap.height*O.scalar,he=new DOMMatrix([Math.cos(J)*B,Math.sin(J)*B,-Math.sin(J)*te,Math.cos(J)*te,O.x,O.y]);he.multiplySelf(new DOMMatrix(O.shape.matrix));var Se=P.createPattern(g.transform(O.shape.bitmap),"no-repeat");Se.setTransform(he),P.globalAlpha=1-U,P.fillStyle=Se,P.fillRect(O.x-ie/2,O.y-ue/2,ie,ue),P.globalAlpha=1}else if(O.shape==="circle")P.ellipse?P.ellipse(O.x,O.y,Math.abs(le-Z)*O.ovalScalar,Math.abs(ce-re)*O.ovalScalar,Math.PI/10*O.wobble,0,2*Math.PI):j(P,O.x,O.y,Math.abs(le-Z)*O.ovalScalar,Math.abs(ce-re)*O.ovalScalar,Math.PI/10*O.wobble,0,2*Math.PI);else if(O.shape==="star")for(var _e=Math.PI/2*3,Le=4*O.scalar,we=8*O.scalar,pe=O.x,Oe=O.y,$e=5,ht=Math.PI/$e;$e--;)pe=O.x+Math.cos(_e)*we,Oe=O.y+Math.sin(_e)*we,P.lineTo(pe,Oe),_e+=ht,pe=O.x+Math.cos(_e)*Le,Oe=O.y+Math.sin(_e)*Le,P.lineTo(pe,Oe),_e+=ht;else P.moveTo(Math.floor(O.x),Math.floor(O.y)),P.lineTo(Math.floor(O.wobbleX),Math.floor(re)),P.lineTo(Math.floor(le),Math.floor(ce)),P.lineTo(Math.floor(Z),Math.floor(O.wobbleY));return P.closePath(),P.fill(),O.tick<O.totalTicks}function D(P,O,U,Z,re){var le=O.slice(),ce=P.getContext("2d"),J,B,te=h(function(ie){function ue(){J=B=null,ce.clearRect(0,0,Z.width,Z.height),g.clear(),re(),ie()}function he(){n&&!(Z.width===i.width&&Z.height===i.height)&&(Z.width=P.width=i.width,Z.height=P.height=i.height),!Z.width&&!Z.height&&(U(P),Z.width=P.width,Z.height=P.height),ce.clearRect(0,0,Z.width,Z.height),le=le.filter(function(Se){return X(ce,Se)}),le.length?J=p.frame(he):ue()}J=p.frame(he),B=ue});return{addFettis:function(ie){return le=le.concat(ie),te},canvas:P,promise:te,reset:function(){J&&p.cancel(J),B&&B()}}}function $(P,O){var U=!P,Z=!!v(O||{},"resize"),re=!1,le=v(O,"disableForReducedMotion",Boolean),ce=s&&!!v(O||{},"useWorker"),J=ce?m():null,B=U?L:x,te=P&&J?!!P.__confetti_initialized:!1,ie=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ue;function he(_e,Le,we){for(var pe=v(_e,"particleCount",d),Oe=v(_e,"angle",Number),$e=v(_e,"spread",Number),ht=v(_e,"startVelocity",Number),$t=v(_e,"decay",Number),Sr=v(_e,"gravity",Number),yt=v(_e,"drift",Number),Fr=v(_e,"colors",_),or=v(_e,"ticks",Number),dt=v(_e,"shapes"),cn=v(_e,"scalar"),tt=!!v(_e,"flat"),Tn=R(_e),Cr=pe,Xr=[],Ve=P.width*Tn.x,Ge=P.height*Tn.y;Cr--;)Xr.push(G({x:Ve,y:Ge,angle:Oe,spread:$e,startVelocity:ht,color:Fr[Cr%Fr.length],shape:dt[c(0,dt.length)],ticks:or,decay:$t,gravity:Sr,drift:yt,scalar:cn,flat:tt}));return ue?ue.addFettis(Xr):(ue=D(P,Xr,B,Le,we),ue.promise)}function Se(_e){var Le=le||v(_e,"disableForReducedMotion",Boolean),we=v(_e,"zIndex",Number);if(Le&&ie)return h(function(ht){ht()});U&&ue?P=ue.canvas:U&&!P&&(P=I(we),document.body.appendChild(P)),Z&&!te&&B(P);var pe={width:P.width,height:P.height};J&&!te&&J.init(P),te=!0,J&&(P.__confetti_initialized=!0);function Oe(){if(J){var ht={getBoundingClientRect:function(){if(!U)return P.getBoundingClientRect()}};B(ht),J.postMessage({resize:{width:ht.width,height:ht.height}});return}pe.width=pe.height=null}function $e(){ue=null,Z&&(re=!1,t.removeEventListener("resize",Oe)),U&&P&&(document.body.contains(P)&&document.body.removeChild(P),P=null,te=!1)}return Z&&!re&&(re=!0,t.addEventListener("resize",Oe,!1)),J?J.fire(_e,pe,$e):he(_e,pe,$e)}return Se.reset=function(){J&&J.reset(),ue&&ue.reset()},Se}var N;function W(){return N||(N=$(null,{useWorker:!0,resize:!0})),N}function Q(P,O,U,Z,re,le,ce){var J=new Path2D(P),B=new Path2D;B.addPath(J,new DOMMatrix(O));var te=new Path2D;return te.addPath(B,new DOMMatrix([Math.cos(ce)*re,Math.sin(ce)*re,-Math.sin(ce)*le,Math.cos(ce)*le,U,Z])),te}function z(P){if(!a)throw new Error("path confetti are not supported in this browser");var O,U;typeof P=="string"?O=P:(O=P.path,U=P.matrix);var Z=new Path2D(O),re=document.createElement("canvas"),le=re.getContext("2d");if(!U){for(var ce=1e3,J=ce,B=ce,te=0,ie=0,ue,he,Se=0;Se<ce;Se+=2)for(var _e=0;_e<ce;_e+=2)le.isPointInPath(Z,Se,_e,"nonzero")&&(J=Math.min(J,Se),B=Math.min(B,_e),te=Math.max(te,Se),ie=Math.max(ie,_e));ue=te-J,he=ie-B;var Le=10,we=Math.min(Le/ue,Le/he);U=[we,0,0,we,-Math.round(ue/2+J)*we,-Math.round(he/2+B)*we]}return{type:"path",path:O,matrix:U}}function M(P){var O,U=1,Z="#000000",re='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof P=="string"?O=P:(O=P.text,U="scalar"in P?P.scalar:U,re="fontFamily"in P?P.fontFamily:re,Z="color"in P?P.color:Z);var le=10*U,ce=""+le+"px "+re,J=new OffscreenCanvas(le,le),B=J.getContext("2d");B.font=ce;var te=B.measureText(O),ie=Math.ceil(te.actualBoundingBoxRight+te.actualBoundingBoxLeft),ue=Math.ceil(te.actualBoundingBoxAscent+te.actualBoundingBoxDescent),he=2,Se=te.actualBoundingBoxLeft+he,_e=te.actualBoundingBoxAscent+he;ie+=he+he,ue+=he+he,J=new OffscreenCanvas(ie,ue),B=J.getContext("2d"),B.font=ce,B.fillStyle=Z,B.fillText(O,Se,_e);var Le=1/U;return{type:"bitmap",bitmap:J.transferToImageBitmap(),matrix:[Le,0,0,Le,-ie*Le/2,-ue*Le/2]}}r.exports=function(){return W().apply(this,arguments)},r.exports.reset=function(){W().reset()},r.exports.create=$,r.exports.shapeFromPath=z,r.exports.shapeFromText=M})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),up,!1);const lA=up.exports;up.exports.create;const fc=gt([]),ma=gt(""),sS=gt(new Date),cA=gt(""),oS=e=>{fc.value=[...fc.value,{char:e,timestamp:performance.now()}]},uA=()=>{fc.value=[]},Vn=e=>{ma.value=e},hA=e=>{sS.value=e},aS=gt(null),dA=gt(!1),lS=gt(!1),cS="completed-game-phrases",{signal:pc,update:fA}=Dc({key:cS,signal:gt(new Set),serialize:e=>JSON.stringify([...e]),deserialize:e=>new Set(JSON.parse(e))}),uS=e=>{fA(t=>t.add(e))},Ed=e=>qe.filter(n=>n.tutorialGroup===e&&n.displayAs==="Game").filter(n=>!Array.from(pc.value).includes(n.key)),es=()=>{const e=qe.find(t=>!pc.value.has(t.key));return e===void 0?null:e},Em=(e,t)=>{if(dA.value=!0,lS.value=!0,e!=null){const r=t!=null?qe.filter(n=>n.key===t):Ed(e);r.length>0&&(aS.value=r[0]??null)}},vc=e=>{aS.value=e},pA=()=>{const e=localStorage.getItem(cS);if(e)try{const t=JSON.parse(e);pc.value=new Set(t)}catch(t){console.error("Failed to parse stored tutorials:",t),pc.value=new Set}vc(es())};pA();const Gn={Run:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:6,frameWidth:50,frameHeight:37,framePositions:[{leftX:50,topY:37},{leftX:100,topY:37},{leftX:150,topY:37},{leftX:200,topY:37},{leftX:250,topY:37},{leftX:300,topY:37}]},Idle:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:4,frameWidth:50,frameHeight:37,framePositions:[{leftX:0,topY:0},{leftX:50,topY:0},{leftX:100,topY:0},{leftX:150,topY:0}]},Walk:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:4,frameWidth:50,frameHeight:37,framePositions:[{leftX:0,topY:0},{leftX:50,topY:0},{leftX:100,topY:0},{leftX:150,topY:0}]},Attack:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:4,frameWidth:50,frameHeight:37,framePositions:[{leftX:0,topY:0},{leftX:50,topY:0},{leftX:100,topY:0},{leftX:150,topY:0}]},Summersault:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:4,frameWidth:50,frameHeight:37,framePositions:[{leftX:200,topY:74},{leftX:250,topY:74},{leftX:300,topY:74},{leftX:0,topY:106}]},Hurt:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:3,frameWidth:50,frameHeight:37,framePositions:[{leftX:150,topY:296},{leftX:200,topY:296},{leftX:250,topY:296}]},Death:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:6,frameWidth:50,frameHeight:37,framePositions:[{leftX:300,topY:296},{leftX:0,topY:333},{leftX:50,topY:333},{leftX:100,topY:333},{leftX:150,topY:333},{leftX:200,topY:333}]},Jump:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:4,frameWidth:50,frameHeight:37,framePositions:[{leftX:0,topY:0},{leftX:50,topY:0},{leftX:100,topY:0},{leftX:150,topY:0}]}},co={Idle:{imagePath:"/images/Zombie4Package/Sprites/Idle.png",frameCount:5,frameWidth:62,frameHeight:62},Walk:{imagePath:"/images/Zombie4Package/Sprites/Walk.png",frameCount:13,frameWidth:62,frameHeight:62},Attack:{imagePath:"/images/Zombie4Package/Sprites/Attack.png",frameCount:15,frameWidth:62,frameHeight:62},Hurt:{imagePath:"/images/Zombie4Package/Sprites/Hurt.png",frameCount:7,frameWidth:62,frameHeight:62},Death:{imagePath:"/images/Zombie4Package/Sprites/Death.png",frameCount:12,frameWidth:62,frameHeight:62},Spawn:{imagePath:"/images/Zombie4Package/Sprites/Spawn.png",frameCount:10,frameWidth:62,frameHeight:62}},vA={Run:{animation:Gn.Run,dx:2,dy:0,continueous:!0},Idle:{animation:Gn.Idle,dx:0,dy:0,continueous:!0},Walk:{animation:Gn.Walk,dx:1,dy:0,continueous:!0},Jump:{animation:Gn.Jump,dx:0,dy:0,continueous:!1},Attack:{animation:Gn.Attack,dx:0,dy:0,continueous:!1},Summersault:{animation:Gn.Summersault,dx:3,dy:1,continueous:!1},Death:{animation:Gn.Death,dx:0,dy:0,continueous:!1},Hurt:{animation:Gn.Hurt,dx:0,dy:0,continueous:!1}},gA={Attack:{animation:co.Attack,dx:2,dy:0,continueous:!1},Idle:{animation:co.Idle,dx:0,dy:0,continueous:!0},Walk:{animation:co.Walk,dx:1,dy:0,continueous:!0},Hurt:{animation:co.Hurt,dx:0,dy:0,continueous:!1},Death:{animation:co.Death,dx:0,dy:0,continueous:!1}};function mA(e,t){if(!e)throw new Error(`Assertion failed: ${t}`)}class yA{image;frameCount;frameWidth;frameHeight;frameSequence;constructor(t,r,n,i,s){this.image=new Image,this.image.onload=()=>{mA(this.image.complete,"Image failed to load: "+t),this.frameWidth==null&&(this.frameWidth=this.image.width/this.frameCount),this.frameHeight==null&&(this.frameHeight=this.image.height)},this.image.onerror=()=>{const a="Image failed to load: "+t;window!=null&&window.console.error!=null&&window.console.error(a)},this.image.src=t,this.frameCount=r,this.frameWidth=n??0,this.frameHeight=i??0,this.frameSequence=s}updateFrameIndex(t,r,n,i){return r-n>i?(t+1)%this.frameCount:t}draw=(t,r,n,i,s=1.5)=>{let a=0,o=0;if(this.frameSequence!=null){const l=this.frameSequence[r];if(l!=null)a=l.leftX,o=l.topY;else{const h=`No frameCoords found for frameIndex: ${r}`;typeof window.console.error=="function"&&window.console.error(h)}}else a=this.frameWidth*r,o=0;t.drawImage(this.image,a,o,this.frameWidth,this.frameHeight,n,i,this.frameWidth*s,this.frameHeight*s)}}const _A=Gt({prefix:"SpriteManager",level:mi.ERROR});class SA{spriteCache=new Map;async loadSprite(t){if(this.spriteCache.has(t.imagePath)){const n=this.spriteCache.get(t.imagePath);if(n!==void 0)return n}const r=new yA(t.imagePath,t.frameCount,t.frameWidth,t.frameHeight,t.framePositions);return await this.waitForManagerImageLoad(r.image),this.spriteCache.set(t.imagePath,r),r}waitForManagerImageLoad(t){return new Promise((r,n)=>{const i=()=>{t.removeEventListener("load",i),t.removeEventListener("error",s),r()},s=()=>{t.removeEventListener("load",i),t.removeEventListener("error",s),_A.error("Image failed to load: "+t.src),n(new Error(`Image failed to load: ${t.src}`))};t.addEventListener("load",i),t.addEventListener("error",s)})}}const hS=e=>{const[,t]=K.useState(null),r=K.useMemo(()=>new SA,[]),n=K.useRef(0),i=K.useRef(e.currentActionType),s=K.useRef(Object.keys(e.actions).reduce((p,m)=>({...p,[m]:void 0}),{})),{currentActionType:a,actions:o}=e,l=K.useCallback(async(p,m)=>{const w=await r.loadSprite(m);w!=null&&(s.current[p]=w,p===i.current&&t(w))},[r]),h=K.useCallback(p=>{if(i.current===p)return;i.current=p,n.current=0;const m=s.current[p];m!=null?t(m):l(p,o[p].animation).catch(console.error)},[o,l]),g=(p,m,w)=>{const C=s.current[i.current],y=o[i.current],v=(m?.current?.leftX??0)+e.xOffset+y.dx;if(C!=null){const d=(n.current+1)%C.frameCount;n.current=d,C.draw(p,n.current,v,m?.current?.topY??0,w??e.scale)}return y.dx};return K.useEffect(()=>(Object.entries(o).forEach(([p,m])=>{l(p,m.animation).catch(console.error)}),()=>{s.current=Object.keys(o).reduce((p,m)=>({...p,[m]:void 0}),{}),t(null)}),[o,l]),K.useEffect(()=>{typeof a=="string"&&a!==i.current&&h(a)},[a,h]),K.useEffect(()=>{s.current[i.current]==null&&l(i.current,o[i.current].animation).catch(console.error)},[o,l]),{draw:g,setCurrentActionType:h}},dS=K.forwardRef((e,t)=>{const{draw:r}=hS({actions:vA,currentActionType:e.currentActionType,name:"Hero",scale:e.scale,xOffset:0,positionRef:e.positionRef});return K.useImperativeHandle(t,()=>({draw:n=>r(n,e.positionRef,e.scale)})),null});dS.displayName="Hero";const Cl=[[{imageSrc:"/images/parallax-industrial-pack/parallax-industrial-pack/layers/skill-desc_0003_bg.png",scale:1,movementRate:0},{imageSrc:"/images/parallax-industrial-pack/parallax-industrial-pack/layers/skill-desc_0002_far-buildings.png",scale:.8,movementRate:.4},{imageSrc:"/images/parallax-industrial-pack/parallax-industrial-pack/layers/skill-desc_0001_buildings.png",scale:.6,movementRate:.6},{imageSrc:"/images/parallax-industrial-pack/parallax-industrial-pack/layers/skill-desc_0000_foreground.png",scale:.6,movementRate:1}],[{imageSrc:"/images/cyberpunk-street-files/cyberpunk-street-files/PNG/layers/far-buildings.png",scale:1,movementRate:.4},{imageSrc:"/images/cyberpunk-street-files/cyberpunk-street-files/PNG/layers/back-buildings.png",scale:.8,movementRate:.6},{imageSrc:"/images/cyberpunk-street-files/cyberpunk-street-files/PNG/layers/foreground.png",scale:1,movementRate:1}],[{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_1_ground.png",scale:1,movementRate:1},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_2_stars.png",scale:.8,movementRate:0},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_3_moon.png",scale:.8,movementRate:0},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_4_clouds_1.png",scale:.8,movementRate:.2},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_6_far_buildings.png",scale:.8,movementRate:.3},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_7_bg_buildings.png",scale:.8,movementRate:.5},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_8_fg_buildings.png",scale:.6,movementRate:.6},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_9_wall.png",scale:.6,movementRate:1}],[{imageSrc:"/images/parallax-city-background-pack/1BG.png",scale:1,movementRate:0},{imageSrc:"/images/parallax-city-background-pack/2Mountain.png",scale:1,movementRate:.2},{imageSrc:"/images/parallax-city-background-pack/3MountainCloser.png",scale:1,movementRate:.3},{imageSrc:"/images/parallax-city-background-pack/3MountainCloserWCranes.png",scale:1,movementRate:.4},{imageSrc:"/images/parallax-city-background-pack/5Buildings.png",scale:1,movementRate:.5},{imageSrc:"/images/parallax-city-background-pack/6BlueBuildings.png",scale:1,movementRate:.7},{imageSrc:"/images/parallax-city-background-pack/7FireDept.png",scale:1,movementRate:.8},{imageSrc:"/images/parallax-city-background-pack/8Player.png",scale:1,movementRate:1}],[{imageSrc:"/images/city-ruins/post_apocalipse1.png",scale:1.3,movementRate:0},{imageSrc:"/images/city-ruins/post_apocalipse2.png",scale:1.3,movementRate:.5},{imageSrc:"/images/city-ruins/post_apocalipse3.png",scale:1,movementRate:1}],[{imageSrc:"/images/haunted-forest-parallaxing-background/background_1.png",scale:1,movementRate:0},{imageSrc:"/images/haunted-forest-parallaxing-background/background_2.png",scale:1,movementRate:.2},{imageSrc:"/images/haunted-forest-parallaxing-background/background_3.png",scale:1,movementRate:.4},{imageSrc:"/images/haunted-forest-parallaxing-background/background_4.png",scale:1,movementRate:.6},{imageSrc:"/images/haunted-forest-parallaxing-background/background_5.png",scale:1,movementRate:1}]],CA=()=>Cl.length,wA=({layer:e,offset:t,canvasHeight:r})=>{const n=r*e.scale,i=r-r*e.scale,s={backgroundImage:`url(${e.imageSrc})`,backgroundPositionX:-t*e.movementRate,backgroundRepeat:"repeat-x",backgroundSize:`auto ${n}px`,willChange:"transform",height:`${n}px`,width:"100%",position:"absolute",top:i};return fe("div",{className:"parallax-layer",style:s})},kA=e=>{const t=60-e.canvasHeight;return fe("div",{className:"scrolling-text-container",style:{position:"absolute",bottom:t,height:e.canvasHeight,width:"100%",zIndex:1,overflow:"hidden"},children:fe("div",{className:"scrolling-text",style:{whiteSpace:"nowrap"},children:e.text})})},fS=K.forwardRef((e,t)=>{const{draw:r}=hS({actions:gA,currentActionType:e.currentActionType,name:"Zombie4",scale:e.scale,xOffset:77,positionRef:e.positionRef});return K.useImperativeHandle(t,()=>({draw:n=>r(n,e.positionRef,e.scale)})),null});fS.displayName="Zombie4";const bA=Gt({prefix:"Game",level:mi.DEBUG});function xA(e,t){const{canvasHeight:r,canvasWidth:n}=e,i=K.useMemo(()=>({leftX:0,topY:0}),[]),s=K.useMemo(()=>({leftX:165,topY:29}),[]),a=.23,o=K.useRef(i),l=K.useRef(null),h=K.useRef(null),g=K.useRef(null),p=K.useRef(void 0),m=K.useRef(null),w=K.useRef(null),C=K.useRef(s),[y,v]=K.useState({leftX:n*a,topY:30}),[d,c]=K.useState(1),[f,_]=K.useState(null),[b,R]=K.useState(0),[L,x]=K.useState(!1),[I,j]=K.useState(!1),[G,X]=K.useState("Idle"),[D,$]=K.useState("Walk"),N="TERMINAL VELOCITY!",[W,Q]=K.useState(Cl[0]),z=Gr(()=>ma.value),M=Gr(()=>lS.value).value,P=K.useCallback(()=>d,[d]),O=K.useCallback(()=>{const we=p.current;typeof we=="number"&&!Number.isNaN(we)&&(cancelAnimationFrame(we),p.current=void 0)},[]),U=K.useCallback(()=>{lA({zIndex:3,angle:160,spread:45,startVelocity:45,particleCount:150,origin:{x:.99,y:.8}})},[]),Z=K.useCallback(()=>{const we=m.current;we!==null&&(clearTimeout(we),m.current=null),$("Death"),m.current=setTimeout(()=>{$("Walk"),o.current=i,x(!1),m.current=null},3e3)},[i]),re=K.useCallback(we=>{const Oe=n*a;we.clearRect(0,0,n,r);let $e=0;const ht=h.current;ht!==null&&($e=ht.draw(we,y));const $t=g.current;if($t!==null){const Sr=$t.draw(we,o.current);o.current={...o.current,leftX:o.current.leftX+Sr-$e}}if($e!==0){R(yt=>yt+$e),y.leftX>=Oe&&v(yt=>({...yt,leftX:Oe}));const Sr=o.current.leftX-$e;o.current={...o.current,leftX:Sr}}return $e},[n,r,y]),le=K.useCallback(()=>{const pe=y.leftX-o.current.leftX;-20<pe&&pe<100?($("Attack"),pe<50&&X("Hurt"),pe<30&&X("Death")):D==="Attack"&&$("Walk")},[y,D,X]),ce=K.useCallback((we=null)=>{we===null&&(we=!I),j(we)},[I]),J=K.useCallback(()=>{ce(!0),setTimeout(()=>{ce(!1)},3e3)},[ce]),B=K.useCallback(we=>{let Oe=performance.now();const $e=()=>{const ht=performance.now(),$t=ht-Oe;typeof $t=="number"&&!Number.isNaN($t)&&$t>=150&&(Oe=ht-$t%150,L&&J(),re(we),le()),p.current=requestAnimationFrame($e)};p.current=requestAnimationFrame($e)},[L,J,re,le]),te=K.useCallback(()=>{const we=w.current;we!==null&&(clearTimeout(we),w.current=null),X("Run"),w.current=window.setTimeout(()=>{X("Idle"),w.current=null},800)},[X]),ie=K.useCallback(()=>{te()},[te]);Vd(()=>{z.value?.trim()!==""&&ie()});const ue=K.useCallback(we=>{const pe=we.getContext("2d");pe!==null?_(pe):bA.error("Failed to get canvas context.")},[]),he=K.useCallback(we=>{const pe=Math.max(0,Math.min(we-1,Cl.length-1)),Oe=Cl[pe]??[];c(we),Q(Oe)},[]),Se=K.useCallback((we=null)=>{const pe=CA();we!==null&&we>pe&&(we=pe);let Oe=we!==null?we:P()+1;Oe>pe&&(Oe=0),Oe<1&&(Oe=1),he(Oe)},[he,P]),_e=K.useCallback(()=>{f!==null&&B(f),x(!1)},[f,B]),Le=K.useCallback(()=>{Z(),U(),x(!0)},[Z,U]);return K.useEffect(()=>{const we=l.current;return we!==null&&ue(we),()=>{O();const pe=m.current;pe!==null&&clearTimeout(pe)}},[ue,O]),K.useEffect(()=>{f!==null&&B(f)},[f,B]),K.useImperativeHandle(t,()=>({startGame:_e,completeGame:Le,resetGame:()=>{o.current=i,x(!1)},levelUp:Se}),[_e,Le,Se,i]),M?vt("div",{id:"terminal-game",style:{position:"relative",height:r},children:[vt("div",{className:"parallax-background",children:[I&&fe(kA,{text:N,canvasHeight:r}),W.map((we,pe)=>fe(wA,{layer:we,offset:b,canvasHeight:r},pe))]}),fe("canvas",{"data-testid":"game-canvas",style:{position:"absolute",top:0,left:0,zIndex:2},ref:l,width:n,height:r}),fe(dS,{ref:h,positionRef:C,currentActionType:G,scale:1.95}),fe(fS,{ref:g,positionRef:o,currentActionType:D,scale:1.9})]}):fe("div",{})}const EA=K.forwardRef(xA),RA=/^[a-zA-Z0-9\s'";:.!,?]+$/;let TA=class{static getGamePhraseByKey(t){const r=qe.find(n=>n.key==t);return r??this.getGamePhraseByIndex(0)}static getGamePhrasesByTutorialGroup(t){return qe.filter(n=>t.includes(n.tutorialGroup??"exclude"))}checkGamePhrases(){const t={status:200,message:"",data:[],error:[]};return qe.forEach((r,n)=>{RA.test(r.value)||(t.error.push(`Phrase at index ${n} contains non-standard characters: ${r.value}`),t.status=400)}),t}static getGamePhraseByIndex(t){if(t>=0&&t<qe.length&&qe[t]!=null)return qe[t]??null;if(t<0&&qe[0]!=null)return qe[0];if(t>=qe.length&&qe[qe.length-1]!=null)return qe[qe.length-1]??null;if(qe[0]!=null)return qe[0];throw new Error("No phrases available")}static getGamePhraseByValue(t){return qe.find(n=>n.value===t)??null}static getGamePhraseNames(){return qe.map(t=>t.key)}static getRandomGamePhrase(){const t=qe.length;if(t===0)throw new Error("No phrases available");const r=Math.floor(Math.random()*t),n=qe[r];if(n==null)throw new Error("Invalid phrase index");return n.value}static getGamePhrasesAchieved(){const t=localStorage.getItem("phrasesAchieved");try{return JSON.parse(t??"[]").map(n=>{const[i,s]=n.split(":");return{wpm:i??"",phraseName:s??""}})}catch(r){const n=r instanceof Error?r.message:"Unknown parsing error";return typeof window<"u"&&window.console?.error&&window.console.error("Error parsing phrases achieved:",n),[]}}static resetGamePhrasesAchieved(){localStorage.removeItem("phrasesAchieved")}};const gn=Gt({prefix:"useTutorials"}),LA=()=>{const[,e]=K.useState(null),t=Gr(()=>oi.value),r=qe.filter(g=>g.displayAs==="Tutorial"),n=()=>{const g=[...oi.value];return gn.debug("Completed tutorials:",g),g},i=K.useCallback(()=>{const g=r.filter(p=>!n().includes(p.key));return gn.debug("Incomplete tutorials:",g),g},[r]),s=g=>{const p=r.filter(m=>m.tutorialGroup===g);return gn.debug("Tutorials in group:",{groupName:g,result:p}),p},a=g=>{const p=r.find(m=>m.key===g);return gn.debug("Getting tutorial by phrase key:",{phraseKey:g,currentTutorial:p,normalizedKey:g,allTutorials:r.map(m=>({key:m.key,value:m.value}))}),p},o=g=>{const p=Pt().contentKey??"",m=a(p);return gn.debug("Checking if can unlock tutorial:",{command:g,phraseKey:p,currentTutorial:m,location:Pt(),completedTutorials:n()}),m?.key==null?(gn.debug("No current tutorial found"),!1):m.key===g?(gn.debug("Tutorial unlocked:",g),!0):(gn.debug("Tutorial not unlocked:",{expected:m.key,received:g,charCodesExpected:[...m.key].map(w=>w.charCodeAt(0)),charCodesReceived:[...g].map(w=>w.charCodeAt(0))}),!1)},l=g=>{const p=i(),m=s(g),w=m.filter(C=>p.includes(C));return gn.debug("Incomplete tutorials in group:",{groupName:g,result:w,allIncomplete:p,groupTutorials:m}),w},h=()=>i().length>0?Ce.TUTORIAL:Ce.GAME;return K.useEffect(()=>{const g=en();gn.debug("Setting current tutorial:",g),e(g)},[t]),{getTutorialByPhrasekey:a,canUnlockTutorial:o,getTutorialsInGroup:s,getIncompleteTutorialsInGroup:l,getNextActivity:h}},rt=Gt({prefix:"ActivityMediator"});function pS(){const[e,t]=K.useState("Idle"),[r,n]=K.useState("Walk"),{getIncompleteTutorialsInGroup:i,canUnlockTutorial:s}=LA(),a=Gr(()=>Fe.value).value,o=Gr(()=>El.value),l=K.useRef(null),h=K.useCallback((v,d)=>{d!=null?Em(d,v):Em(),Fe.value=Ce.GAME,Et({activityKey:Ce.GAME,contentKey:v??null,groupKey:d??null})},[]),g=K.useCallback(v=>{if(o.value)return Ce.NORMAL;switch(v.displayAs){case"Tutorial":return Ce.TUTORIAL;case"Game":return Ce.GAME;default:return Ce.NORMAL}},[o.value]),p=K.useCallback(v=>{if(o.value)return null;switch(v.displayAs){case"Tutorial":return v.key;case"Game":return v.value;default:return null}},[o.value]),m=K.useCallback(v=>{rt.debug(`Checking game progress: ${JSON.stringify(v)}`);const d=Pt().groupKey??"";if(uS(v.key),d!=null){const f=Ed(d)[0];if(f!=null){vc(es()),h(f.key,f.tutorialGroup);return}i(d).forEach(R=>{rv(R.value)});const b=en();if(b!=null){Et({activityKey:g(b),contentKey:p(b),groupKey:b.tutorialGroup??""});return}}const c=es();if(c!=null){vc(c),h(c.key,c.tutorialGroup);return}Fe.value=Ce.NORMAL,Et({activityKey:Ce.NORMAL})},[g,p,i,h]),w=K.useCallback(v=>{if(rt.debug(`Checking tutorial progress: ${JSON.stringify({command:v,currentTutorial:Jt.value,activity:Fe.value,location:Pt()})}`),l.current=en(),l.current==null){rt.debug("No current tutorial found");return}const d=Pt().groupKey??null,c=v===""?"\r":v;if(c!=null){if(l.current?.value==null){rt.error("Current tutorial value is undefined: Undefined tutorial value");return}if(rt.debug(`Checking if can unlock tutorial: ${JSON.stringify({commandOrReturn:c,currentPhrase:l.current.value,charCodesCommand:[...c].map(b=>b.charCodeAt(0)),charCodesPhrase:[...l.current.value].map(b=>b.charCodeAt(0))})}`),s(c)){if(rv(l.current.key),rt.debug("Tutorial unlocked:",c),d!=null){const L=Ed(d)[0];L!=null&&h(L.key,L.tutorialGroup);return}const b=en();if(b?.value!=null){rt.debug("Transitioning to next tutorial:",b),Fe.value=Ce.TUTORIAL,As(b),Et({activityKey:Ce.TUTORIAL,contentKey:b.displayAs==="Tutorial"?b.key:b.value,groupKey:b.tutorialGroup??null});return}if(en()===null)rt.debug("Tutorial complete - transitioning to NORMAL mode",{currentActivity:Fe.value,nextActivity:Ce.NORMAL}),Fe.value=Ce.NORMAL,Et({activityKey:Ce.NORMAL});else{rt.debug("Tutorial not complete - transitioning to game mode",{nextTutorial:b,activitySignal:Fe.value,groupKey:d});const L=es();rt.debug("Next game phrase:",L),L!=null?(rt.debug("Transitioning to game with phrase:",L.key,{currentActivity:Fe.value,nextActivity:Ce.GAME}),Fe.value=Ce.GAME,h(L.key,d)):(rt.debug("No game phrase found - transitioning to NORMAL mode",{currentActivity:Fe.value,nextActivity:Ce.NORMAL}),Fe.value=Ce.NORMAL,Et({activityKey:Ce.NORMAL}))}}else{rt.debug(`Tutorial not unlocked: ${JSON.stringify({expected:l.current.value,received:c})}`),Tk(`Tutorial ${Jt.value?.value} not unlocked with ${c}`);return}}const f=en();if(rt.debug("Next tutorial:",f),f?.value!=null){As(f),Et({activityKey:g(f),contentKey:p(f),groupKey:f.tutorialGroup??null});return}const _=es();_!=null&&h(_?.key,d)},[s,g,p,h]),C=K.useCallback(v=>{rt.debug("Handling command:",v,{currentActivity:Fe.value,tutorialState:Jt.value,location:Pt()});let d=!1;if(Pt().activityKey===Ce.TUTORIAL)w(v.command);else if(Pt().activityKey===Ce.GAME&&Pt().contentKey!=null){const c=TA.getGamePhraseByKey(Pt().contentKey??"");c!=null&&m(c)}switch(v.command){case"play":{const c=es();h(c?.key),d=!0;break}case"tut":{"r"in v.switches&&ph();const c=en();Et({activityKey:Ce.TUTORIAL,contentKey:c?.key??null,groupKey:c?.tutorialGroup??null}),d=!0;break}case"edit":{if(!localStorage.getItem(yr.completedTutorials)){rt.debug("Tutorials not complete, staying in current mode\rTo bypass the tutorial execute h `complete` command."),d=!1;break}rt.debug("Tutorials complete, transitioning to edit mode"),Fe.value=Ce.EDIT,Et({activityKey:Ce.EDIT,contentKey:Pt().contentKey??null,groupKey:null}),d=!0;break}default:d=!1}return d},[m,w,h]);K.useEffect(()=>{a===Ce.TUTORIAL&&w(null)},[a,w]),K.useEffect(()=>{rt.debug("Initial activity determination - starting");const v=localStorage.getItem(yr.completedTutorials);if(rt.debug(`Found completed tutorials in localStorage: ${v}`),v)rt.debug("Found completed tutorials - transitioning to NORMAL mode"),ph(),rt.debug("Setting NORMAL activity and clearing URL params"),Et({activityKey:Ce.NORMAL,contentKey:null,groupKey:null,clearParams:!0},{forceClear:!0,replace:!0,skipTutorial:!0}),Fe.value=Ce.NORMAL;else{rt.debug("No completed tutorials found - checking for next tutorial");const d=en();rt.debug(`Next tutorial found: ${d?d.key:"none"}`);const c=d?Ce.TUTORIAL:Ce.NORMAL;Fe.value=c,rt.debug(`Navigating to initial activity: ${c}`),Et({activityKey:c,contentKey:null,groupKey:null})}},[]),K.useEffect(()=>()=>{El.value=!1},[]);const y=K.useCallback(v=>{rt.debug("Setting activity:",v),Fe.value=v,Et({activityKey:v,contentKey:Pt().contentKey??null,groupKey:Pt().groupKey??null})},[]);return{isInGameMode:a===Ce.GAME,isInTutorial:a===Ce.TUTORIAL,isInEdit:a===Ce.EDIT,isInNormal:a===Ce.NORMAL,checkTutorialProgress:w,heroAction:e,zombie4Action:r,handleCommandExecuted:C,setHeroAction:t,setZombie4Action:n,checkGameProgress:m,setActivity:y}}var vS={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={};return(()=>{var n=r;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const s=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(s._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,s=i._renderService.dimensions;if(s.css.cell.width===0||s.css.cell.height===0)return;const a=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,o=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(o.getPropertyValue("height")),h=Math.max(0,parseInt(o.getPropertyValue("width"))),g=window.getComputedStyle(this._terminal.element),p=l-(parseInt(g.getPropertyValue("padding-top"))+parseInt(g.getPropertyValue("padding-bottom"))),m=h-(parseInt(g.getPropertyValue("padding-right"))+parseInt(g.getPropertyValue("padding-left")))-a;return{cols:Math.max(2,Math.floor(m/s.css.cell.width)),rows:Math.max(1,Math.floor(p/s.css.cell.height))}}}})(),r})())})(vS);var AA=vS.exports,gS={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(globalThis,()=>(()=>{var r={4567:function(a,o,l){var h=this&&this.__decorate||function(c,f,_,b){var R,L=arguments.length,x=L<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(c,f,_,b);else for(var I=c.length-1;I>=0;I--)(R=c[I])&&(x=(L<3?R(x):L>3?R(f,_,x):R(f,_))||x);return L>3&&x&&Object.defineProperty(f,_,x),x},g=this&&this.__param||function(c,f){return function(_,b){f(_,b,c)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const p=l(9042),m=l(9924),w=l(844),C=l(4725),y=l(2585),v=l(3656);let d=o.AccessibilityManager=class extends w.Disposable{constructor(c,f,_,b){super(),this._terminal=c,this._coreBrowserService=_,this._renderService=b,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let R=0;R<this._terminal.rows;R++)this._rowElements[R]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[R]);if(this._topBoundaryFocusListener=R=>this._handleBoundaryFocus(R,0),this._bottomBoundaryFocusListener=R=>this._handleBoundaryFocus(R,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new m.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(R=>this._handleResize(R.rows))),this.register(this._terminal.onRender(R=>this._refreshRows(R.start,R.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(R=>this._handleChar(R))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(R=>this._handleTab(R))),this.register(this._terminal.onKey(R=>this._handleKey(R.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,v.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,w.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(c){for(let f=0;f<c;f++)this._handleChar(" ")}_handleChar(c){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==c&&(this._charsToAnnounce+=c):this._charsToAnnounce+=c,c===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=p.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(c){this._clearLiveRegion(),/\p{Control}/u.test(c)||this._charsToConsume.push(c)}_refreshRows(c,f){this._liveRegionDebouncer.refresh(c,f,this._terminal.rows)}_renderRows(c,f){const _=this._terminal.buffer,b=_.lines.length.toString();for(let R=c;R<=f;R++){const L=_.lines.get(_.ydisp+R),x=[],I=L?.translateToString(!0,void 0,void 0,x)||"",j=(_.ydisp+R+1).toString(),G=this._rowElements[R];G&&(I.length===0?(G.innerText="",this._rowColumns.set(G,[0,1])):(G.textContent=I,this._rowColumns.set(G,x)),G.setAttribute("aria-posinset",j),G.setAttribute("aria-setsize",b))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(c,f){const _=c.target,b=this._rowElements[f===0?1:this._rowElements.length-2];if(_.getAttribute("aria-posinset")===(f===0?"1":`${this._terminal.buffer.lines.length}`)||c.relatedTarget!==b)return;let R,L;if(f===0?(R=_,L=this._rowElements.pop(),this._rowContainer.removeChild(L)):(R=this._rowElements.shift(),L=_,this._rowContainer.removeChild(R)),R.removeEventListener("focus",this._topBoundaryFocusListener),L.removeEventListener("focus",this._bottomBoundaryFocusListener),f===0){const x=this._createAccessibilityTreeNode();this._rowElements.unshift(x),this._rowContainer.insertAdjacentElement("afterbegin",x)}else{const x=this._createAccessibilityTreeNode();this._rowElements.push(x),this._rowContainer.appendChild(x)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(f===0?-1:1),this._rowElements[f===0?1:this._rowElements.length-2].focus(),c.preventDefault(),c.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;const c=document.getSelection();if(!c)return;if(c.isCollapsed)return void(this._rowContainer.contains(c.anchorNode)&&this._terminal.clearSelection());if(!c.anchorNode||!c.focusNode)return void console.error("anchorNode and/or focusNode are null");let f={node:c.anchorNode,offset:c.anchorOffset},_={node:c.focusNode,offset:c.focusOffset};if((f.node.compareDocumentPosition(_.node)&Node.DOCUMENT_POSITION_PRECEDING||f.node===_.node&&f.offset>_.offset)&&([f,_]=[_,f]),f.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(f={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(f.node))return;const b=this._rowElements.slice(-1)[0];if(_.node.compareDocumentPosition(b)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(_={node:b,offset:b.textContent?.length??0}),!this._rowContainer.contains(_.node))return;const R=({node:I,offset:j})=>{const G=I instanceof Text?I.parentNode:I;let X=parseInt(G?.getAttribute("aria-posinset"),10)-1;if(isNaN(X))return console.warn("row is invalid. Race condition?"),null;const D=this._rowColumns.get(G);if(!D)return console.warn("columns is null. Race condition?"),null;let $=j<D.length?D[j]:D.slice(-1)[0]+1;return $>=this._terminal.cols&&(++X,$=0),{row:X,column:$}},L=R(f),x=R(_);if(L&&x){if(L.row>x.row||L.row===x.row&&L.column>=x.column)throw new Error("invalid range");this._terminal.select(L.column,L.row,(x.row-L.row)*this._terminal.cols-L.column+x.column)}}_handleResize(c){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let f=this._rowContainer.children.length;f<this._terminal.rows;f++)this._rowElements[f]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[f]);for(;this._rowElements.length>c;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const c=this._coreBrowserService.mainDocument.createElement("div");return c.setAttribute("role","listitem"),c.tabIndex=-1,this._refreshRowDimensions(c),c}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let c=0;c<this._terminal.rows;c++)this._refreshRowDimensions(this._rowElements[c])}}_refreshRowDimensions(c){c.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=d=h([g(1,y.IInstantiationService),g(2,C.ICoreBrowserService),g(3,C.IRenderService)],d)},3614:(a,o)=>{function l(m){return m.replace(/\r?\n/g,"\r")}function h(m,w){return w?"\x1B[200~"+m+"\x1B[201~":m}function g(m,w,C,y){m=h(m=l(m),C.decPrivateModes.bracketedPasteMode&&y.rawOptions.ignoreBracketedPasteMode!==!0),C.triggerDataEvent(m,!0),w.value=""}function p(m,w,C){const y=C.getBoundingClientRect(),v=m.clientX-y.left-10,d=m.clientY-y.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${v}px`,w.style.top=`${d}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=l,o.bracketTextForPaste=h,o.copyHandler=function(m,w){m.clipboardData&&m.clipboardData.setData("text/plain",w.selectionText),m.preventDefault()},o.handlePasteEvent=function(m,w,C,y){m.stopPropagation(),m.clipboardData&&g(m.clipboardData.getData("text/plain"),w,C,y)},o.paste=g,o.moveTextAreaUnderMouseCursor=p,o.rightClickHandler=function(m,w,C,y,v){p(m,w,C),v&&y.rightClickSelect(m),w.value=y.selectionText,w.select()}},7239:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const h=l(1505);o.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(g,p,m){this._css.set(g,p,m)}getCss(g,p){return this._css.get(g,p)}setColor(g,p,m){this._color.set(g,p,m)}getColor(g,p){return this._color.get(g,p)}clear(){this._color.clear(),this._css.clear()}}},3656:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(l,h,g,p){l.addEventListener(h,g,p);let m=!1;return{dispose:()=>{m||(m=!0,l.removeEventListener(h,g,p))}}}},3551:function(a,o,l){var h=this&&this.__decorate||function(d,c,f,_){var b,R=arguments.length,L=R<3?c:_===null?_=Object.getOwnPropertyDescriptor(c,f):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(d,c,f,_);else for(var x=d.length-1;x>=0;x--)(b=d[x])&&(L=(R<3?b(L):R>3?b(c,f,L):b(c,f))||L);return R>3&&L&&Object.defineProperty(c,f,L),L},g=this&&this.__param||function(d,c){return function(f,_){c(f,_,d)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier=void 0;const p=l(3656),m=l(8460),w=l(844),C=l(2585),y=l(4725);let v=o.Linkifier=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(d,c,f,_,b){super(),this._element=d,this._mouseService=c,this._renderService=f,this._bufferService=_,this._linkProviderService=b,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new m.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new m.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)(()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,p.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,p.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,p.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,p.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(d){this._lastMouseEvent=d;const c=this._positionFromMouseEvent(d,this._element,this._mouseService);if(!c)return;this._isMouseOut=!1;const f=d.composedPath();for(let _=0;_<f.length;_++){const b=f[_];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&c.x===this._lastBufferCell.x&&c.y===this._lastBufferCell.y||(this._handleHover(c),this._lastBufferCell=c)}_handleHover(d){if(this._activeLine!==d.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(d,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,d)||(this._clearCurrentLink(),this._askForLink(d,!0))}_askForLink(d,c){this._activeProviderReplies&&c||(this._activeProviderReplies?.forEach(_=>{_?.forEach(b=>{b.link.dispose&&b.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=d.y);let f=!1;for(const[_,b]of this._linkProviderService.linkProviders.entries())c?this._activeProviderReplies?.get(_)&&(f=this._checkLinkProviderResult(_,d,f)):b.provideLinks(d.y,R=>{if(this._isMouseOut)return;const L=R?.map(x=>({link:x}));this._activeProviderReplies?.set(_,L),f=this._checkLinkProviderResult(_,d,f),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(d.y,this._activeProviderReplies)})}_removeIntersectingLinks(d,c){const f=new Set;for(let _=0;_<c.size;_++){const b=c.get(_);if(b)for(let R=0;R<b.length;R++){const L=b[R],x=L.link.range.start.y<d?0:L.link.range.start.x,I=L.link.range.end.y>d?this._bufferService.cols:L.link.range.end.x;for(let j=x;j<=I;j++){if(f.has(j)){b.splice(R--,1);break}f.add(j)}}}}_checkLinkProviderResult(d,c,f){if(!this._activeProviderReplies)return f;const _=this._activeProviderReplies.get(d);let b=!1;for(let R=0;R<d;R++)this._activeProviderReplies.has(R)&&!this._activeProviderReplies.get(R)||(b=!0);if(!b&&_){const R=_.find(L=>this._linkAtPosition(L.link,c));R&&(f=!0,this._handleNewLink(R))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!f)for(let R=0;R<this._activeProviderReplies.size;R++){const L=this._activeProviderReplies.get(R)?.find(x=>this._linkAtPosition(x.link,c));if(L){f=!0,this._handleNewLink(L);break}}return f}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(d){if(!this._currentLink)return;const c=this._positionFromMouseEvent(d,this._element,this._mouseService);c&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,c)&&this._currentLink.link.activate(d,this._currentLink.link.text)}_clearCurrentLink(d,c){this._currentLink&&this._lastMouseEvent&&(!d||!c||this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=c)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(d){if(!this._lastMouseEvent)return;const c=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);c&&this._linkAtPosition(d.link,c)&&(this._currentLink=d,this._currentLink.state={decorations:{underline:d.link.decorations===void 0||d.link.decorations.underline,pointerCursor:d.link.decorations===void 0||d.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,d.link,this._lastMouseEvent),d.link.decorations={},Object.defineProperties(d.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:f=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==f&&(this._currentLink.state.decorations.pointerCursor=f,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",f))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:f=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==f&&(this._currentLink.state.decorations.underline=f,this._currentLink.state.isHovered&&this._fireUnderlineEvent(d.link,f))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(f=>{if(!this._currentLink)return;const _=f.start===0?0:f.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+f.end;if(this._currentLink.link.range.start.y>=_&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(_,b),this._lastMouseEvent)){const R=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);R&&this._askForLink(R,!1)}})))}_linkHover(d,c,f){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!0),this._currentLink.state.decorations.pointerCursor&&d.classList.add("xterm-cursor-pointer")),c.hover&&c.hover(f,c.text)}_fireUnderlineEvent(d,c){const f=d.range,_=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(f.start.x-1,f.start.y-_-1,f.end.x,f.end.y-_-1,void 0);(c?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(d,c,f){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!1),this._currentLink.state.decorations.pointerCursor&&d.classList.remove("xterm-cursor-pointer")),c.leave&&c.leave(f,c.text)}_linkAtPosition(d,c){const f=d.range.start.y*this._bufferService.cols+d.range.start.x,_=d.range.end.y*this._bufferService.cols+d.range.end.x,b=c.y*this._bufferService.cols+c.x;return f<=b&&b<=_}_positionFromMouseEvent(d,c,f){const _=f.getCoords(d,c,this._bufferService.cols,this._bufferService.rows);if(_)return{x:_[0],y:_[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(d,c,f,_,b){return{x1:d,y1:c,x2:f,y2:_,cols:this._bufferService.cols,fg:b}}};o.Linkifier=v=h([g(1,y.IMouseService),g(2,y.IRenderService),g(3,C.IBufferService),g(4,y.ILinkProviderService)],v)},9042:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(a,o,l){var h=this&&this.__decorate||function(y,v,d,c){var f,_=arguments.length,b=_<3?v:c===null?c=Object.getOwnPropertyDescriptor(v,d):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,v,d,c);else for(var R=y.length-1;R>=0;R--)(f=y[R])&&(b=(_<3?f(b):_>3?f(v,d,b):f(v,d))||b);return _>3&&b&&Object.defineProperty(v,d,b),b},g=this&&this.__param||function(y,v){return function(d,c){v(d,c,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const p=l(511),m=l(2585);let w=o.OscLinkProvider=class{constructor(y,v,d){this._bufferService=y,this._optionsService=v,this._oscLinkService=d}provideLinks(y,v){const d=this._bufferService.buffer.lines.get(y-1);if(!d)return void v(void 0);const c=[],f=this._optionsService.rawOptions.linkHandler,_=new p.CellData,b=d.getTrimmedLength();let R=-1,L=-1,x=!1;for(let I=0;I<b;I++)if(L!==-1||d.hasContent(I)){if(d.loadCell(I,_),_.hasExtendedAttrs()&&_.extended.urlId){if(L===-1){L=I,R=_.extended.urlId;continue}x=_.extended.urlId!==R}else L!==-1&&(x=!0);if(x||L!==-1&&I===b-1){const j=this._oscLinkService.getLinkData(R)?.uri;if(j){const G={start:{x:L+1,y},end:{x:I+(x||I!==b-1?0:1),y}};let X=!1;if(!f?.allowNonHttpProtocols)try{const D=new URL(j);["http:","https:"].includes(D.protocol)||(X=!0)}catch{X=!0}X||c.push({text:j,range:G,activate:(D,$)=>f?f.activate(D,$,G):C(0,$),hover:(D,$)=>f?.hover?.(D,$,G),leave:(D,$)=>f?.leave?.(D,$,G)})}x=!1,_.hasExtendedAttrs()&&_.extended.urlId?(L=I,R=_.extended.urlId):(L=-1,R=-1)}}v(c)}};function C(y,v){if(confirm(`Do you want to navigate to ${v}?

WARNING: This link could potentially be dangerous`)){const d=window.open();if(d){try{d.opener=null}catch{}d.location.href=v}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=w=h([g(0,m.IBufferService),g(1,m.IOptionsService),g(2,m.IOscLinkService)],w)},6193:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(l,h){this._renderCallback=l,this._coreBrowserService=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,h,g){this._rowCount=g,l=l!==void 0?l:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},3236:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const h=l(3614),g=l(3656),p=l(3551),m=l(9042),w=l(3730),C=l(1680),y=l(3107),v=l(5744),d=l(2950),c=l(1296),f=l(428),_=l(4269),b=l(5114),R=l(8934),L=l(3230),x=l(9312),I=l(4725),j=l(6731),G=l(8055),X=l(8969),D=l(8460),$=l(844),N=l(6114),W=l(8437),Q=l(2584),z=l(7399),M=l(5941),P=l(9074),O=l(2585),U=l(5435),Z=l(4567),re=l(779);class le extends X.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(J={}){super(J),this.browser=N,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new $.MutableDisposable),this._onCursorMove=this.register(new D.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new D.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new D.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new D.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new D.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new D.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new D.EventEmitter),this._onBlur=this.register(new D.EventEmitter),this._onA11yCharEmitter=this.register(new D.EventEmitter),this._onA11yTabEmitter=this.register(new D.EventEmitter),this._onWillOpen=this.register(new D.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(P.DecorationService),this._instantiationService.setService(O.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(re.LinkProviderService),this._instantiationService.setService(I.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((B,te)=>this.refresh(B,te))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(B=>this._reportWindowsOptions(B))),this.register(this._inputHandler.onColor(B=>this._handleColorEvent(B))),this.register((0,D.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,D.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(B=>this._afterResize(B.cols,B.rows))),this.register((0,$.toDisposable)(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}_handleColorEvent(J){if(this._themeService)for(const B of J){let te,ie="";switch(B.index){case 256:te="foreground",ie="10";break;case 257:te="background",ie="11";break;case 258:te="cursor",ie="12";break;default:te="ansi",ie="4;"+B.index}switch(B.type){case 0:const ue=G.color.toColorRGB(te==="ansi"?this._themeService.colors.ansi[B.index]:this._themeService.colors[te]);this.coreService.triggerDataEvent(`${Q.C0.ESC}]${ie};${(0,M.toRgbString)(ue)}${Q.C1_ESCAPED.ST}`);break;case 1:if(te==="ansi")this._themeService.modifyColors(he=>he.ansi[B.index]=G.channels.toColor(...B.color));else{const he=te;this._themeService.modifyColors(Se=>Se[he]=G.channels.toColor(...B.color))}break;case 2:this._themeService.restoreColor(B.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(J){J?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Z.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(J){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Q.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Q.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const J=this.buffer.ybase+this.buffer.y,B=this.buffer.lines.get(J);if(!B)return;const te=Math.min(this.buffer.x,this.cols-1),ie=this._renderService.dimensions.css.cell.height,ue=B.getWidth(te),he=this._renderService.dimensions.css.cell.width*ue,Se=this.buffer.y*this._renderService.dimensions.css.cell.height,_e=te*this._renderService.dimensions.css.cell.width;this.textarea.style.left=_e+"px",this.textarea.style.top=Se+"px",this.textarea.style.width=he+"px",this.textarea.style.height=ie+"px",this.textarea.style.lineHeight=ie+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,g.addDisposableDomListener)(this.element,"copy",B=>{this.hasSelection()&&(0,h.copyHandler)(B,this._selectionService)}));const J=B=>(0,h.handlePasteEvent)(B,this.textarea,this.coreService,this.optionsService);this.register((0,g.addDisposableDomListener)(this.textarea,"paste",J)),this.register((0,g.addDisposableDomListener)(this.element,"paste",J)),N.isFirefox?this.register((0,g.addDisposableDomListener)(this.element,"mousedown",B=>{B.button===2&&(0,h.rightClickHandler)(B,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,g.addDisposableDomListener)(this.element,"contextmenu",B=>{(0,h.rightClickHandler)(B,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),N.isLinux&&this.register((0,g.addDisposableDomListener)(this.element,"auxclick",B=>{B.button===1&&(0,h.moveTextAreaUnderMouseCursor)(B,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,g.addDisposableDomListener)(this.textarea,"keyup",J=>this._keyUp(J),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keydown",J=>this._keyDown(J),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keypress",J=>this._keyPress(J),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionupdate",J=>this._compositionHelper.compositionupdate(J))),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,g.addDisposableDomListener)(this.textarea,"input",J=>this._inputEvent(J),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(J){if(!J)throw new Error("Terminal requires a parent element.");if(J.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=J.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),J.appendChild(this.element);const B=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),B.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,g.addDisposableDomListener)(this.screenElement,"mousemove",te=>this.updateCursorStyle(te))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),B.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",m.promptLabel),N.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(b.CoreBrowserService,this.textarea,J.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(I.ICoreBrowserService,this._coreBrowserService),this.register((0,g.addDisposableDomListener)(this.textarea,"focus",te=>this._handleTextAreaFocus(te))),this.register((0,g.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(f.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(I.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(j.ThemeService),this._instantiationService.setService(I.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(_.CharacterJoinerService),this._instantiationService.setService(I.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(L.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(I.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(te=>this._onRender.fire(te))),this.onResize(te=>this._renderService.resize(te.cols,te.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(d.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(R.MouseService),this._instantiationService.setService(I.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(p.Linkifier,this.screenElement)),this.element.appendChild(B);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(C.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(te=>this.scrollLines(te.amount,te.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(x.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(I.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(te=>this.scrollLines(te.amount,te.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(te=>this._renderService.handleSelectionChanged(te.start,te.end,te.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(te=>{this.textarea.value=te,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(te=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,g.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(y.BufferDecorationRenderer,this.screenElement)),this.register((0,g.addDisposableDomListener)(this.element,"mousedown",te=>this._selectionService.handleMouseDown(te))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Z.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",te=>this._handleScreenReaderModeOptionChange(te))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(v.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",te=>{!this._overviewRulerRenderer&&te&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(v.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(c.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const J=this,B=this.element;function te(he){const Se=J._mouseService.getMouseReportCoords(he,J.screenElement);if(!Se)return!1;let _e,Le;switch(he.overrideType||he.type){case"mousemove":Le=32,he.buttons===void 0?(_e=3,he.button!==void 0&&(_e=he.button<3?he.button:3)):_e=1&he.buttons?0:4&he.buttons?1:2&he.buttons?2:3;break;case"mouseup":Le=0,_e=he.button<3?he.button:3;break;case"mousedown":Le=1,_e=he.button<3?he.button:3;break;case"wheel":if(J._customWheelEventHandler&&J._customWheelEventHandler(he)===!1||J.viewport.getLinesScrolled(he)===0)return!1;Le=he.deltaY<0?0:1,_e=4;break;default:return!1}return!(Le===void 0||_e===void 0||_e>4)&&J.coreMouseService.triggerMouseEvent({col:Se.col,row:Se.row,x:Se.x,y:Se.y,button:_e,action:Le,ctrl:he.ctrlKey,alt:he.altKey,shift:he.shiftKey})}const ie={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ue={mouseup:he=>(te(he),he.buttons||(this._document.removeEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.removeEventListener("mousemove",ie.mousedrag)),this.cancel(he)),wheel:he=>(te(he),this.cancel(he,!0)),mousedrag:he=>{he.buttons&&te(he)},mousemove:he=>{he.buttons||te(he)}};this.register(this.coreMouseService.onProtocolChange(he=>{he?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(he)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&he?ie.mousemove||(B.addEventListener("mousemove",ue.mousemove),ie.mousemove=ue.mousemove):(B.removeEventListener("mousemove",ie.mousemove),ie.mousemove=null),16&he?ie.wheel||(B.addEventListener("wheel",ue.wheel,{passive:!1}),ie.wheel=ue.wheel):(B.removeEventListener("wheel",ie.wheel),ie.wheel=null),2&he?ie.mouseup||(ie.mouseup=ue.mouseup):(this._document.removeEventListener("mouseup",ie.mouseup),ie.mouseup=null),4&he?ie.mousedrag||(ie.mousedrag=ue.mousedrag):(this._document.removeEventListener("mousemove",ie.mousedrag),ie.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,g.addDisposableDomListener)(B,"mousedown",he=>{if(he.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(he))return te(he),ie.mouseup&&this._document.addEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.addEventListener("mousemove",ie.mousedrag),this.cancel(he)})),this.register((0,g.addDisposableDomListener)(B,"wheel",he=>{if(!ie.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(he)===!1)return!1;if(!this.buffer.hasScrollback){const Se=this.viewport.getLinesScrolled(he);if(Se===0)return;const _e=Q.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(he.deltaY<0?"A":"B");let Le="";for(let we=0;we<Math.abs(Se);we++)Le+=_e;return this.coreService.triggerDataEvent(Le,!0),this.cancel(he,!0)}return this.viewport.handleWheel(he)?this.cancel(he):void 0}},{passive:!1})),this.register((0,g.addDisposableDomListener)(B,"touchstart",he=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(he),this.cancel(he)},{passive:!0})),this.register((0,g.addDisposableDomListener)(B,"touchmove",he=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(he)?void 0:this.cancel(he)},{passive:!1}))}refresh(J,B){this._renderService?.refreshRows(J,B)}updateCursorStyle(J){this._selectionService?.shouldColumnSelect(J)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(J,B,te=0){te===1?(super.scrollLines(J,B,te),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(J)}paste(J){(0,h.paste)(J,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(J){this._customKeyEventHandler=J}attachCustomWheelEventHandler(J){this._customWheelEventHandler=J}registerLinkProvider(J){return this._linkProviderService.registerLinkProvider(J)}registerCharacterJoiner(J){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const B=this._characterJoinerService.register(J);return this.refresh(0,this.rows-1),B}deregisterCharacterJoiner(J){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(J)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(J){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+J)}registerDecoration(J){return this._decorationService.registerDecoration(J)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(J,B,te){this._selectionService.setSelection(J,B,te)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(J,B){this._selectionService?.selectLines(J,B)}_keyDown(J){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(J)===!1)return!1;const B=this.browser.isMac&&this.options.macOptionIsMeta&&J.altKey;if(!B&&!this._compositionHelper.keydown(J))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;B||J.key!=="Dead"&&J.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const te=(0,z.evaluateKeyboardEvent)(J,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(J),te.type===3||te.type===2){const ie=this.rows-1;return this.scrollLines(te.type===2?-ie:ie),this.cancel(J,!0)}return te.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,J)||(te.cancel&&this.cancel(J,!0),!te.key||!!(J.key&&!J.ctrlKey&&!J.altKey&&!J.metaKey&&J.key.length===1&&J.key.charCodeAt(0)>=65&&J.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(te.key!==Q.C0.ETX&&te.key!==Q.C0.CR||(this.textarea.value=""),this._onKey.fire({key:te.key,domEvent:J}),this._showCursor(),this.coreService.triggerDataEvent(te.key,!0),!this.optionsService.rawOptions.screenReaderMode||J.altKey||J.ctrlKey?this.cancel(J,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(J,B){const te=J.isMac&&!this.options.macOptionIsMeta&&B.altKey&&!B.ctrlKey&&!B.metaKey||J.isWindows&&B.altKey&&B.ctrlKey&&!B.metaKey||J.isWindows&&B.getModifierState("AltGraph");return B.type==="keypress"?te:te&&(!B.keyCode||B.keyCode>47)}_keyUp(J){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(J)===!1||(function(B){return B.keyCode===16||B.keyCode===17||B.keyCode===18}(J)||this.focus(),this.updateCursorStyle(J),this._keyPressHandled=!1)}_keyPress(J){let B;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(J)===!1)return!1;if(this.cancel(J),J.charCode)B=J.charCode;else if(J.which===null||J.which===void 0)B=J.keyCode;else{if(J.which===0||J.charCode===0)return!1;B=J.which}return!(!B||(J.altKey||J.ctrlKey||J.metaKey)&&!this._isThirdLevelShift(this.browser,J)||(B=String.fromCharCode(B),this._onKey.fire({key:B,domEvent:J}),this._showCursor(),this.coreService.triggerDataEvent(B,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(J){if(J.data&&J.inputType==="insertText"&&(!J.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const B=J.data;return this.coreService.triggerDataEvent(B,!0),this.cancel(J),!0}return!1}resize(J,B){J!==this.cols||B!==this.rows?super.resize(J,B):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(J,B){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let J=1;J<this.rows;J++)this.buffer.lines.push(this.buffer.getBlankLine(W.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;const J=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=J,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(Q.C0.ESC+"[I"):this.coreService.triggerDataEvent(Q.C0.ESC+"[O")}_reportWindowsOptions(J){if(this._renderService)switch(J){case U.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const B=this._renderService.dimensions.css.canvas.width.toFixed(0),te=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${Q.C0.ESC}[4;${te};${B}t`);break;case U.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ie=this._renderService.dimensions.css.cell.width.toFixed(0),ue=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${Q.C0.ESC}[6;${ue};${ie}t`)}}cancel(J,B){if(this.options.cancelEvents||B)return J.preventDefault(),J.stopPropagation(),!1}}o.Terminal=le},9924:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(l,h=1e3){this._renderCallback=l,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,h,g){this._rowCount=g,l=l!==void 0?l:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;const p=Date.now();if(p-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=p,this._innerRefresh();else if(!this._additionalRefreshRequested){const m=p-this._lastRefreshMs,w=this._debounceThresholdMS-m;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,h)}}},1680:function(a,o,l){var h=this&&this.__decorate||function(d,c,f,_){var b,R=arguments.length,L=R<3?c:_===null?_=Object.getOwnPropertyDescriptor(c,f):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(d,c,f,_);else for(var x=d.length-1;x>=0;x--)(b=d[x])&&(L=(R<3?b(L):R>3?b(c,f,L):b(c,f))||L);return R>3&&L&&Object.defineProperty(c,f,L),L},g=this&&this.__param||function(d,c){return function(f,_){c(f,_,d)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const p=l(3656),m=l(4725),w=l(8460),C=l(844),y=l(2585);let v=o.Viewport=class extends C.Disposable{constructor(d,c,f,_,b,R,L,x){super(),this._viewportElement=d,this._scrollArea=c,this._bufferService=f,this._optionsService=_,this._charSizeService=b,this._renderService=R,this._coreBrowserService=L,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,p.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(I=>this._activeBuffer=I.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(I=>this._renderDimensions=I)),this._handleThemeChange(x.colors),this.register(x.onChangeColors(I=>this._handleThemeChange(I))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(d){this._viewportElement.style.backgroundColor=d.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(d){if(d)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const c=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==c&&(this._lastRecordedBufferHeight=c,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const d=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==d&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=d),this._refreshAnimationFrame=null}syncScrollArea(d=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(d);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(d)}_handleScroll(d){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const c=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:c,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const d=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(d*(this._smoothScrollState.target-this._smoothScrollState.origin)),d<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(d,c){const f=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(c<0&&this._viewportElement.scrollTop!==0||c>0&&f<this._lastRecordedBufferHeight)||(d.cancelable&&d.preventDefault(),!1)}handleWheel(d){const c=this._getPixelsScrolled(d);return c!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+c:this._smoothScrollState.target+=c,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=c,this._bubbleScroll(d,c))}scrollLines(d){if(d!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const c=d*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+c,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!1})}_getPixelsScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let c=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_LINE?c*=this._currentRowHeight:d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._currentRowHeight*this._bufferService.rows),c}getBufferElements(d,c){let f,_="";const b=[],R=c??this._bufferService.buffer.lines.length,L=this._bufferService.buffer.lines;for(let x=d;x<R;x++){const I=L.get(x);if(!I)continue;const j=L.get(x+1)?.isWrapped;if(_+=I.translateToString(!j),!j||x===L.length-1){const G=document.createElement("div");G.textContent=_,b.push(G),_.length>0&&(f=G),_=""}}return{bufferElements:b,cursorElement:f}}getLinesScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let c=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(c/=this._currentRowHeight+0,this._wheelPartialScroll+=c,c=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._bufferService.rows),c}_applyScrollModifier(d,c){const f=this._optionsService.rawOptions.fastScrollModifier;return f==="alt"&&c.altKey||f==="ctrl"&&c.ctrlKey||f==="shift"&&c.shiftKey?d*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:d*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(d){this._lastTouchY=d.touches[0].pageY}handleTouchMove(d){const c=this._lastTouchY-d.touches[0].pageY;return this._lastTouchY=d.touches[0].pageY,c!==0&&(this._viewportElement.scrollTop+=c,this._bubbleScroll(d,c))}};o.Viewport=v=h([g(2,y.IBufferService),g(3,y.IOptionsService),g(4,m.ICharSizeService),g(5,m.IRenderService),g(6,m.ICoreBrowserService),g(7,m.IThemeService)],v)},3107:function(a,o,l){var h=this&&this.__decorate||function(y,v,d,c){var f,_=arguments.length,b=_<3?v:c===null?c=Object.getOwnPropertyDescriptor(v,d):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,v,d,c);else for(var R=y.length-1;R>=0;R--)(f=y[R])&&(b=(_<3?f(b):_>3?f(v,d,b):f(v,d))||b);return _>3&&b&&Object.defineProperty(v,d,b),b},g=this&&this.__param||function(y,v){return function(d,c){v(d,c,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const p=l(4725),m=l(844),w=l(2585);let C=o.BufferDecorationRenderer=class extends m.Disposable{constructor(y,v,d,c,f){super(),this._screenElement=y,this._bufferService=v,this._coreBrowserService=d,this._decorationService=c,this._renderService=f,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(_=>this._removeDecoration(_))),this.register((0,m.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const y of this._decorationService.decorations)this._renderDecoration(y);this._dimensionsChanged=!1}_renderDecoration(y){this._refreshStyle(y),this._dimensionsChanged&&this._refreshXPosition(y)}_createElement(y){const v=this._coreBrowserService.mainDocument.createElement("div");v.classList.add("xterm-decoration"),v.classList.toggle("xterm-decoration-top-layer",y?.options?.layer==="top"),v.style.width=`${Math.round((y.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,v.style.height=(y.options.height||1)*this._renderService.dimensions.css.cell.height+"px",v.style.top=(y.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",v.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const d=y.options.x??0;return d&&d>this._bufferService.cols&&(v.style.display="none"),this._refreshXPosition(y,v),v}_refreshStyle(y){const v=y.marker.line-this._bufferService.buffers.active.ydisp;if(v<0||v>=this._bufferService.rows)y.element&&(y.element.style.display="none",y.onRenderEmitter.fire(y.element));else{let d=this._decorationElements.get(y);d||(d=this._createElement(y),y.element=d,this._decorationElements.set(y,d),this._container.appendChild(d),y.onDispose(()=>{this._decorationElements.delete(y),d.remove()})),d.style.top=v*this._renderService.dimensions.css.cell.height+"px",d.style.display=this._altBufferIsActive?"none":"block",y.onRenderEmitter.fire(d)}}_refreshXPosition(y,v=y.element){if(!v)return;const d=y.options.x??0;(y.options.anchor||"left")==="right"?v.style.right=d?d*this._renderService.dimensions.css.cell.width+"px":"":v.style.left=d?d*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(y){this._decorationElements.get(y)?.remove(),this._decorationElements.delete(y),y.dispose()}};o.BufferDecorationRenderer=C=h([g(1,w.IBufferService),g(2,p.ICoreBrowserService),g(3,w.IDecorationService),g(4,p.IRenderService)],C)},5871:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const h of this._zones)if(h.color===l.options.overviewRulerOptions.color&&h.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,l.marker.line))return;if(this._lineAdjacentToZone(h,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(h,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,h){return h>=l.startBufferLine&&h<=l.endBufferLine}_lineAdjacentToZone(l,h,g){return h>=l.startBufferLine-this._linePadding[g||"full"]&&h<=l.endBufferLine+this._linePadding[g||"full"]}_addLineToZone(l,h){l.startBufferLine=Math.min(l.startBufferLine,h),l.endBufferLine=Math.max(l.endBufferLine,h)}}},5744:function(a,o,l){var h=this&&this.__decorate||function(f,_,b,R){var L,x=arguments.length,I=x<3?_:R===null?R=Object.getOwnPropertyDescriptor(_,b):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(f,_,b,R);else for(var j=f.length-1;j>=0;j--)(L=f[j])&&(I=(x<3?L(I):x>3?L(_,b,I):L(_,b))||I);return x>3&&I&&Object.defineProperty(_,b,I),I},g=this&&this.__param||function(f,_){return function(b,R){_(b,R,f)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const p=l(5871),m=l(4725),w=l(844),C=l(2585),y={full:0,left:0,center:0,right:0},v={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0};let c=o.OverviewRulerRenderer=class extends w.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(f,_,b,R,L,x,I){super(),this._viewportElement=f,this._screenElement=_,this._bufferService=b,this._decorationService=R,this._renderService=L,this._optionsService=x,this._coreBrowserService=I,this._colorZoneStore=new p.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);const j=this._canvas.getContext("2d");if(!j)throw new Error("Ctx cannot be null");this._ctx=j,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,w.toDisposable)(()=>{this._canvas?.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const f=Math.floor(this._canvas.width/3),_=Math.ceil(this._canvas.width/3);v.full=this._canvas.width,v.left=f,v.center=_,v.right=f,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=v.left,d.right=v.left+v.center}_refreshDrawHeightConstants(){y.full=Math.round(2*this._coreBrowserService.dpr);const f=this._canvas.height/this._bufferService.buffer.lines.length,_=Math.round(Math.max(Math.min(f,12),6)*this._coreBrowserService.dpr);y.left=_,y.center=_,y.right=_}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*y.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*y.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*y.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*y.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const _ of this._decorationService.decorations)this._colorZoneStore.addDecoration(_);this._ctx.lineWidth=1;const f=this._colorZoneStore.zones;for(const _ of f)_.position!=="full"&&this._renderColorZone(_);for(const _ of f)_.position==="full"&&this._renderColorZone(_);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(f){this._ctx.fillStyle=f.color,this._ctx.fillRect(d[f.position||"full"],Math.round((this._canvas.height-1)*(f.startBufferLine/this._bufferService.buffers.active.lines.length)-y[f.position||"full"]/2),v[f.position||"full"],Math.round((this._canvas.height-1)*((f.endBufferLine-f.startBufferLine)/this._bufferService.buffers.active.lines.length)+y[f.position||"full"]))}_queueRefresh(f,_){this._shouldUpdateDimensions=f||this._shouldUpdateDimensions,this._shouldUpdateAnchor=_||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o.OverviewRulerRenderer=c=h([g(2,C.IBufferService),g(3,C.IDecorationService),g(4,m.IRenderService),g(5,C.IOptionsService),g(6,m.ICoreBrowserService)],c)},2950:function(a,o,l){var h=this&&this.__decorate||function(y,v,d,c){var f,_=arguments.length,b=_<3?v:c===null?c=Object.getOwnPropertyDescriptor(v,d):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,v,d,c);else for(var R=y.length-1;R>=0;R--)(f=y[R])&&(b=(_<3?f(b):_>3?f(v,d,b):f(v,d))||b);return _>3&&b&&Object.defineProperty(v,d,b),b},g=this&&this.__param||function(y,v){return function(d,c){v(d,c,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const p=l(4725),m=l(2585),w=l(2584);let C=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(y,v,d,c,f,_){this._textarea=y,this._compositionView=v,this._bufferService=d,this._optionsService=c,this._coreService=f,this._renderService=_,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(y){this._compositionView.textContent=y.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(y){if(this._isComposing||this._isSendingComposition){if(y.keyCode===229||y.keyCode===16||y.keyCode===17||y.keyCode===18)return!1;this._finalizeComposition(!1)}return y.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(y){if(this._compositionView.classList.remove("active"),this._isComposing=!1,y){const v={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let d;this._isSendingComposition=!1,v.start+=this._dataAlreadySent.length,d=this._isComposing?this._textarea.value.substring(v.start,v.end):this._textarea.value.substring(v.start),d.length>0&&this._coreService.triggerDataEvent(d,!0)}},0)}else{this._isSendingComposition=!1;const v=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(v,!0)}}_handleAnyTextareaChanges(){const y=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const v=this._textarea.value,d=v.replace(y,"");this._dataAlreadySent=d,v.length>y.length?this._coreService.triggerDataEvent(d,!0):v.length<y.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):v.length===y.length&&v!==y&&this._coreService.triggerDataEvent(v,!0)}},0)}updateCompositionElements(y){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const v=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.css.cell.height,c=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,f=v*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=f+"px",this._compositionView.style.top=c+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const _=this._compositionView.getBoundingClientRect();this._textarea.style.left=f+"px",this._textarea.style.top=c+"px",this._textarea.style.width=Math.max(_.width,1)+"px",this._textarea.style.height=Math.max(_.height,1)+"px",this._textarea.style.lineHeight=_.height+"px"}y||setTimeout(()=>this.updateCompositionElements(!0),0)}}};o.CompositionHelper=C=h([g(2,m.IBufferService),g(3,m.IOptionsService),g(4,m.ICoreService),g(5,p.IRenderService)],C)},9806:(a,o)=>{function l(h,g,p){const m=p.getBoundingClientRect(),w=h.getComputedStyle(p),C=parseInt(w.getPropertyValue("padding-left")),y=parseInt(w.getPropertyValue("padding-top"));return[g.clientX-m.left-C,g.clientY-m.top-y]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=l,o.getCoords=function(h,g,p,m,w,C,y,v,d){if(!C)return;const c=l(h,g,p);return c?(c[0]=Math.ceil((c[0]+(d?y/2:0))/y),c[1]=Math.ceil(c[1]/v),c[0]=Math.min(Math.max(c[0],1),m+(d?1:0)),c[1]=Math.min(Math.max(c[1],1),w),c):void 0}},9504:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const h=l(2584);function g(v,d,c,f){const _=v-p(v,c),b=d-p(d,c),R=Math.abs(_-b)-function(L,x,I){let j=0;const G=L-p(L,I),X=x-p(x,I);for(let D=0;D<Math.abs(G-X);D++){const $=m(L,x)==="A"?-1:1;I.buffer.lines.get(G+$*D)?.isWrapped&&j++}return j}(v,d,c);return y(R,C(m(v,d),f))}function p(v,d){let c=0,f=d.buffer.lines.get(v),_=f?.isWrapped;for(;_&&v>=0&&v<d.rows;)c++,f=d.buffer.lines.get(--v),_=f?.isWrapped;return c}function m(v,d){return v>d?"A":"B"}function w(v,d,c,f,_,b){let R=v,L=d,x="";for(;R!==c||L!==f;)R+=_?1:-1,_&&R>b.cols-1?(x+=b.buffer.translateBufferLineToString(L,!1,v,R),R=0,v=0,L++):!_&&R<0&&(x+=b.buffer.translateBufferLineToString(L,!1,0,v+1),R=b.cols-1,v=R,L--);return x+b.buffer.translateBufferLineToString(L,!1,v,R)}function C(v,d){const c=d?"O":"[";return h.C0.ESC+c+v}function y(v,d){v=Math.floor(v);let c="";for(let f=0;f<v;f++)c+=d;return c}o.moveToCellSequence=function(v,d,c,f){const _=c.buffer.x,b=c.buffer.y;if(!c.buffer.hasScrollback)return function(x,I,j,G,X,D){return g(I,G,X,D).length===0?"":y(w(x,I,x,I-p(I,X),!1,X).length,C("D",D))}(_,b,0,d,c,f)+g(b,d,c,f)+function(x,I,j,G,X,D){let $;$=g(I,G,X,D).length>0?G-p(G,X):I;const N=G,W=function(Q,z,M,P,O,U){let Z;return Z=g(M,P,O,U).length>0?P-p(P,O):z,Q<M&&Z<=P||Q>=M&&Z<P?"C":"D"}(x,I,j,G,X,D);return y(w(x,$,j,N,W==="C",X).length,C(W,D))}(_,b,v,d,c,f);let R;if(b===d)return R=_>v?"D":"C",y(Math.abs(_-v),C(R,f));R=b>d?"D":"C";const L=Math.abs(b-d);return y(function(x,I){return I.cols-x}(b>d?v:_,c)+(L-1)*c.cols+1+((b>d?_:v)-1),C(R,f))}},1296:function(a,o,l){var h=this&&this.__decorate||function(D,$,N,W){var Q,z=arguments.length,M=z<3?$:W===null?W=Object.getOwnPropertyDescriptor($,N):W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(D,$,N,W);else for(var P=D.length-1;P>=0;P--)(Q=D[P])&&(M=(z<3?Q(M):z>3?Q($,N,M):Q($,N))||M);return z>3&&M&&Object.defineProperty($,N,M),M},g=this&&this.__param||function(D,$){return function(N,W){$(N,W,D)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const p=l(3787),m=l(2550),w=l(2223),C=l(6171),y=l(6052),v=l(4725),d=l(8055),c=l(8460),f=l(844),_=l(2585),b="xterm-dom-renderer-owner-",R="xterm-rows",L="xterm-fg-",x="xterm-bg-",I="xterm-focus",j="xterm-selection";let G=1,X=o.DomRenderer=class extends f.Disposable{constructor(D,$,N,W,Q,z,M,P,O,U,Z,re,le){super(),this._terminal=D,this._document=$,this._element=N,this._screenElement=W,this._viewportElement=Q,this._helperContainer=z,this._linkifier2=M,this._charSizeService=O,this._optionsService=U,this._bufferService=Z,this._coreBrowserService=re,this._themeService=le,this._terminalClass=G++,this._rowElements=[],this._selectionRenderModel=(0,y.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new c.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(R),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(j),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,C.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(ce=>this._injectCss(ce))),this._injectCss(this._themeService.colors),this._rowFactory=P.createInstance(p.DomRendererRowFactory,document),this._element.classList.add(b+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(ce=>this._handleLinkHover(ce))),this.register(this._linkifier2.onHideLinkUnderline(ce=>this._handleLinkLeave(ce))),this.register((0,f.toDisposable)(()=>{this._element.classList.remove(b+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new m.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const D=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*D,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*D),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/D),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/D),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const N of this._rowElements)N.style.width=`${this.dimensions.css.canvas.width}px`,N.style.height=`${this.dimensions.css.cell.height}px`,N.style.lineHeight=`${this.dimensions.css.cell.height}px`,N.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const $=`${this._terminalSelector} .${R} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=$,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(D){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let $=`${this._terminalSelector} .${R} { color: ${D.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;$+=`${this._terminalSelector} .${R} .xterm-dim { color: ${d.color.multiplyOpacity(D.foreground,.5).css};}`,$+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const N=`blink_underline_${this._terminalClass}`,W=`blink_bar_${this._terminalClass}`,Q=`blink_block_${this._terminalClass}`;$+=`@keyframes ${N} { 50% {  border-bottom-style: hidden; }}`,$+=`@keyframes ${W} { 50% {  box-shadow: none; }}`,$+=`@keyframes ${Q} { 0% {  background-color: ${D.cursor.css};  color: ${D.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${D.cursor.css}; }}`,$+=`${this._terminalSelector} .${R}.${I} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${N} 1s step-end infinite;}${this._terminalSelector} .${R}.${I} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${W} 1s step-end infinite;}${this._terminalSelector} .${R}.${I} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${Q} 1s step-end infinite;}${this._terminalSelector} .${R} .xterm-cursor.xterm-cursor-block { background-color: ${D.cursor.css}; color: ${D.cursorAccent.css};}${this._terminalSelector} .${R} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${D.cursor.css} !important; color: ${D.cursorAccent.css} !important;}${this._terminalSelector} .${R} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${D.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${R} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${D.cursor.css} inset;}${this._terminalSelector} .${R} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${D.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,$+=`${this._terminalSelector} .${j} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${j} div { position: absolute; background-color: ${D.selectionBackgroundOpaque.css};}${this._terminalSelector} .${j} div { position: absolute; background-color: ${D.selectionInactiveBackgroundOpaque.css};}`;for(const[z,M]of D.ansi.entries())$+=`${this._terminalSelector} .${L}${z} { color: ${M.css}; }${this._terminalSelector} .${L}${z}.xterm-dim { color: ${d.color.multiplyOpacity(M,.5).css}; }${this._terminalSelector} .${x}${z} { background-color: ${M.css}; }`;$+=`${this._terminalSelector} .${L}${w.INVERTED_DEFAULT_COLOR} { color: ${d.color.opaque(D.background).css}; }${this._terminalSelector} .${L}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${d.color.multiplyOpacity(d.color.opaque(D.background),.5).css}; }${this._terminalSelector} .${x}${w.INVERTED_DEFAULT_COLOR} { background-color: ${D.foreground.css}; }`,this._themeStyleElement.textContent=$}_setDefaultSpacing(){const D=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${D}px`,this._rowFactory.defaultSpacing=D}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(D,$){for(let N=this._rowElements.length;N<=$;N++){const W=this._document.createElement("div");this._rowContainer.appendChild(W),this._rowElements.push(W)}for(;this._rowElements.length>$;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(D,$){this._refreshRowElements(D,$),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(I),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(I),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(D,$,N){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(D,$,N),this.renderRows(0,this._bufferService.rows-1),!D||!$)return;this._selectionRenderModel.update(this._terminal,D,$,N);const W=this._selectionRenderModel.viewportStartRow,Q=this._selectionRenderModel.viewportEndRow,z=this._selectionRenderModel.viewportCappedStartRow,M=this._selectionRenderModel.viewportCappedEndRow;if(z>=this._bufferService.rows||M<0)return;const P=this._document.createDocumentFragment();if(N){const O=D[0]>$[0];P.appendChild(this._createSelectionElement(z,O?$[0]:D[0],O?D[0]:$[0],M-z+1))}else{const O=W===z?D[0]:0,U=z===Q?$[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(z,O,U));const Z=M-z-1;if(P.appendChild(this._createSelectionElement(z+1,0,this._bufferService.cols,Z)),z!==M){const re=Q===M?$[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(M,0,re))}}this._selectionContainer.appendChild(P)}_createSelectionElement(D,$,N,W=1){const Q=this._document.createElement("div"),z=$*this.dimensions.css.cell.width;let M=this.dimensions.css.cell.width*(N-$);return z+M>this.dimensions.css.canvas.width&&(M=this.dimensions.css.canvas.width-z),Q.style.height=W*this.dimensions.css.cell.height+"px",Q.style.top=D*this.dimensions.css.cell.height+"px",Q.style.left=`${z}px`,Q.style.width=`${M}px`,Q}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const D of this._rowElements)D.replaceChildren()}renderRows(D,$){const N=this._bufferService.buffer,W=N.ybase+N.y,Q=Math.min(N.x,this._bufferService.cols-1),z=this._optionsService.rawOptions.cursorBlink,M=this._optionsService.rawOptions.cursorStyle,P=this._optionsService.rawOptions.cursorInactiveStyle;for(let O=D;O<=$;O++){const U=O+N.ydisp,Z=this._rowElements[O],re=N.lines.get(U);if(!Z||!re)break;Z.replaceChildren(...this._rowFactory.createRow(re,U,U===W,M,P,Q,z,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${b}${this._terminalClass}`}_handleLinkHover(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!0)}_handleLinkLeave(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!1)}_setCellUnderline(D,$,N,W,Q,z){N<0&&(D=0),W<0&&($=0);const M=this._bufferService.rows-1;N=Math.max(Math.min(N,M),0),W=Math.max(Math.min(W,M),0),Q=Math.min(Q,this._bufferService.cols);const P=this._bufferService.buffer,O=P.ybase+P.y,U=Math.min(P.x,Q-1),Z=this._optionsService.rawOptions.cursorBlink,re=this._optionsService.rawOptions.cursorStyle,le=this._optionsService.rawOptions.cursorInactiveStyle;for(let ce=N;ce<=W;++ce){const J=ce+P.ydisp,B=this._rowElements[ce],te=P.lines.get(J);if(!B||!te)break;B.replaceChildren(...this._rowFactory.createRow(te,J,J===O,re,le,U,Z,this.dimensions.css.cell.width,this._widthCache,z?ce===N?D:0:-1,z?(ce===W?$:Q)-1:-1))}}};o.DomRenderer=X=h([g(7,_.IInstantiationService),g(8,v.ICharSizeService),g(9,_.IOptionsService),g(10,_.IBufferService),g(11,v.ICoreBrowserService),g(12,v.IThemeService)],X)},3787:function(a,o,l){var h=this&&this.__decorate||function(R,L,x,I){var j,G=arguments.length,X=G<3?L:I===null?I=Object.getOwnPropertyDescriptor(L,x):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(R,L,x,I);else for(var D=R.length-1;D>=0;D--)(j=R[D])&&(X=(G<3?j(X):G>3?j(L,x,X):j(L,x))||X);return G>3&&X&&Object.defineProperty(L,x,X),X},g=this&&this.__param||function(R,L){return function(x,I){L(x,I,R)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const p=l(2223),m=l(643),w=l(511),C=l(2585),y=l(8055),v=l(4725),d=l(4269),c=l(6171),f=l(3734);let _=o.DomRendererRowFactory=class{constructor(R,L,x,I,j,G,X){this._document=R,this._characterJoinerService=L,this._optionsService=x,this._coreBrowserService=I,this._coreService=j,this._decorationService=G,this._themeService=X,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(R,L,x){this._selectionStart=R,this._selectionEnd=L,this._columnSelectMode=x}createRow(R,L,x,I,j,G,X,D,$,N,W){const Q=[],z=this._characterJoinerService.getJoinedCharacters(L),M=this._themeService.colors;let P,O=R.getNoBgTrimmedLength();x&&O<G+1&&(O=G+1);let U=0,Z="",re=0,le=0,ce=0,J=!1,B=0,te=!1,ie=0;const ue=[],he=N!==-1&&W!==-1;for(let Se=0;Se<O;Se++){R.loadCell(Se,this._workCell);let _e=this._workCell.getWidth();if(_e===0)continue;let Le=!1,we=Se,pe=this._workCell;if(z.length>0&&Se===z[0][0]){Le=!0;const Ve=z.shift();pe=new d.JoinedCellData(this._workCell,R.translateToString(!0,Ve[0],Ve[1]),Ve[1]-Ve[0]),we=Ve[1]-1,_e=pe.getWidth()}const Oe=this._isCellInSelection(Se,L),$e=x&&Se===G,ht=he&&Se>=N&&Se<=W;let $t=!1;this._decorationService.forEachDecorationAtCell(Se,L,void 0,Ve=>{$t=!0});let Sr=pe.getChars()||m.WHITESPACE_CELL_CHAR;if(Sr===" "&&(pe.isUnderline()||pe.isOverline())&&(Sr=""),ie=_e*D-$.get(Sr,pe.isBold(),pe.isItalic()),P){if(U&&(Oe&&te||!Oe&&!te&&pe.bg===re)&&(Oe&&te&&M.selectionForeground||pe.fg===le)&&pe.extended.ext===ce&&ht===J&&ie===B&&!$e&&!Le&&!$t){pe.isInvisible()?Z+=m.WHITESPACE_CELL_CHAR:Z+=Sr,U++;continue}U&&(P.textContent=Z),P=this._document.createElement("span"),U=0,Z=""}else P=this._document.createElement("span");if(re=pe.bg,le=pe.fg,ce=pe.extended.ext,J=ht,B=ie,te=Oe,Le&&G>=Se&&G<=we&&(G=Se),!this._coreService.isCursorHidden&&$e&&this._coreService.isCursorInitialized){if(ue.push("xterm-cursor"),this._coreBrowserService.isFocused)X&&ue.push("xterm-cursor-blink"),ue.push(I==="bar"?"xterm-cursor-bar":I==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(j)switch(j){case"outline":ue.push("xterm-cursor-outline");break;case"block":ue.push("xterm-cursor-block");break;case"bar":ue.push("xterm-cursor-bar");break;case"underline":ue.push("xterm-cursor-underline")}}if(pe.isBold()&&ue.push("xterm-bold"),pe.isItalic()&&ue.push("xterm-italic"),pe.isDim()&&ue.push("xterm-dim"),Z=pe.isInvisible()?m.WHITESPACE_CELL_CHAR:pe.getChars()||m.WHITESPACE_CELL_CHAR,pe.isUnderline()&&(ue.push(`xterm-underline-${pe.extended.underlineStyle}`),Z===" "&&(Z=""),!pe.isUnderlineColorDefault()))if(pe.isUnderlineColorRGB())P.style.textDecorationColor=`rgb(${f.AttributeData.toColorRGB(pe.getUnderlineColor()).join(",")})`;else{let Ve=pe.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&pe.isBold()&&Ve<8&&(Ve+=8),P.style.textDecorationColor=M.ansi[Ve].css}pe.isOverline()&&(ue.push("xterm-overline"),Z===" "&&(Z="")),pe.isStrikethrough()&&ue.push("xterm-strikethrough"),ht&&(P.style.textDecoration="underline");let yt=pe.getFgColor(),Fr=pe.getFgColorMode(),or=pe.getBgColor(),dt=pe.getBgColorMode();const cn=!!pe.isInverse();if(cn){const Ve=yt;yt=or,or=Ve;const Ge=Fr;Fr=dt,dt=Ge}let tt,Tn,Cr,Xr=!1;switch(this._decorationService.forEachDecorationAtCell(Se,L,void 0,Ve=>{Ve.options.layer!=="top"&&Xr||(Ve.backgroundColorRGB&&(dt=50331648,or=Ve.backgroundColorRGB.rgba>>8&16777215,tt=Ve.backgroundColorRGB),Ve.foregroundColorRGB&&(Fr=50331648,yt=Ve.foregroundColorRGB.rgba>>8&16777215,Tn=Ve.foregroundColorRGB),Xr=Ve.options.layer==="top")}),!Xr&&Oe&&(tt=this._coreBrowserService.isFocused?M.selectionBackgroundOpaque:M.selectionInactiveBackgroundOpaque,or=tt.rgba>>8&16777215,dt=50331648,Xr=!0,M.selectionForeground&&(Fr=50331648,yt=M.selectionForeground.rgba>>8&16777215,Tn=M.selectionForeground)),Xr&&ue.push("xterm-decoration-top"),dt){case 16777216:case 33554432:Cr=M.ansi[or],ue.push(`xterm-bg-${or}`);break;case 50331648:Cr=y.channels.toColor(or>>16,or>>8&255,255&or),this._addStyle(P,`background-color:#${b((or>>>0).toString(16),"0",6)}`);break;default:cn?(Cr=M.foreground,ue.push(`xterm-bg-${p.INVERTED_DEFAULT_COLOR}`)):Cr=M.background}switch(tt||pe.isDim()&&(tt=y.color.multiplyOpacity(Cr,.5)),Fr){case 16777216:case 33554432:pe.isBold()&&yt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(yt+=8),this._applyMinimumContrast(P,Cr,M.ansi[yt],pe,tt,void 0)||ue.push(`xterm-fg-${yt}`);break;case 50331648:const Ve=y.channels.toColor(yt>>16&255,yt>>8&255,255&yt);this._applyMinimumContrast(P,Cr,Ve,pe,tt,Tn)||this._addStyle(P,`color:#${b(yt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(P,Cr,M.foreground,pe,tt,Tn)||cn&&ue.push(`xterm-fg-${p.INVERTED_DEFAULT_COLOR}`)}ue.length&&(P.className=ue.join(" "),ue.length=0),$e||Le||$t?P.textContent=Z:U++,ie!==this.defaultSpacing&&(P.style.letterSpacing=`${ie}px`),Q.push(P),Se=we}return P&&U&&(P.textContent=Z),Q}_applyMinimumContrast(R,L,x,I,j,G){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,c.treatGlyphAsBackgroundColor)(I.getCode()))return!1;const X=this._getContrastCache(I);let D;if(j||G||(D=X.getColor(L.rgba,x.rgba)),D===void 0){const $=this._optionsService.rawOptions.minimumContrastRatio/(I.isDim()?2:1);D=y.color.ensureContrastRatio(j||L,G||x,$),X.setColor((j||L).rgba,(G||x).rgba,D??null)}return!!D&&(this._addStyle(R,`color:${D.css}`),!0)}_getContrastCache(R){return R.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(R,L){R.setAttribute("style",`${R.getAttribute("style")||""}${L};`)}_isCellInSelection(R,L){const x=this._selectionStart,I=this._selectionEnd;return!(!x||!I)&&(this._columnSelectMode?x[0]<=I[0]?R>=x[0]&&L>=x[1]&&R<I[0]&&L<=I[1]:R<x[0]&&L>=x[1]&&R>=I[0]&&L<=I[1]:L>x[1]&&L<I[1]||x[1]===I[1]&&L===x[1]&&R>=x[0]&&R<I[0]||x[1]<I[1]&&L===I[1]&&R<I[0]||x[1]<I[1]&&L===x[1]&&R>=x[0])}};function b(R,L,x){for(;R.length<x;)R=L+R;return R}o.DomRendererRowFactory=_=h([g(1,v.ICharacterJoinerService),g(2,C.IOptionsService),g(3,v.ICoreBrowserService),g(4,C.ICoreService),g(5,C.IDecorationService),g(6,v.IThemeService)],_)},2550:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(l,h){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const g=l.createElement("span");g.classList.add("xterm-char-measure-element");const p=l.createElement("span");p.classList.add("xterm-char-measure-element"),p.style.fontWeight="bold";const m=l.createElement("span");m.classList.add("xterm-char-measure-element"),m.style.fontStyle="italic";const w=l.createElement("span");w.classList.add("xterm-char-measure-element"),w.style.fontWeight="bold",w.style.fontStyle="italic",this._measureElements=[g,p,m,w],this._container.appendChild(g),this._container.appendChild(p),this._container.appendChild(m),this._container.appendChild(w),h.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,h,g,p){l===this._font&&h===this._fontSize&&g===this._weight&&p===this._weightBold||(this._font=l,this._fontSize=h,this._weight=g,this._weightBold=p,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${g}`,this._measureElements[1].style.fontWeight=`${p}`,this._measureElements[2].style.fontWeight=`${g}`,this._measureElements[3].style.fontWeight=`${p}`,this.clear())}get(l,h,g){let p=0;if(!h&&!g&&l.length===1&&(p=l.charCodeAt(0))<256){if(this._flat[p]!==-9999)return this._flat[p];const C=this._measure(l,0);return C>0&&(this._flat[p]=C),C}let m=l;h&&(m+="B"),g&&(m+="I");let w=this._holey.get(m);if(w===void 0){let C=0;h&&(C|=1),g&&(C|=2),w=this._measure(l,C),w>0&&this._holey.set(m,w)}return w}_measure(l,h){const g=this._measureElements[h];return g.textContent=l.repeat(32),g.offsetWidth/32}}},2223:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const h=l(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(a,o)=>{function l(g){return 57508<=g&&g<=57558}function h(g){return g>=128512&&g<=128591||g>=127744&&g<=128511||g>=128640&&g<=128767||g>=9728&&g<=9983||g>=9984&&g<=10175||g>=65024&&g<=65039||g>=129280&&g<=129535||g>=127462&&g<=127487}Object.defineProperty(o,"__esModule",{value:!0}),o.computeNextVariantOffset=o.createRenderDimensions=o.treatGlyphAsBackgroundColor=o.allowRescaling=o.isEmoji=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(g){if(!g)throw new Error("value must not be falsy");return g},o.isPowerlineGlyph=l,o.isRestrictedPowerlineGlyph=function(g){return 57520<=g&&g<=57527},o.isEmoji=h,o.allowRescaling=function(g,p,m,w){return p===1&&m>Math.ceil(1.5*w)&&g!==void 0&&g>255&&!h(g)&&!l(g)&&!function(C){return 57344<=C&&C<=63743}(g)},o.treatGlyphAsBackgroundColor=function(g){return l(g)||function(p){return 9472<=p&&p<=9631}(g)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},o.computeNextVariantOffset=function(g,p,m=0){return(g-(2*Math.round(p)-m))%(2*Math.round(p))}},6052:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createSelectionRenderModel=void 0;class l{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(g,p,m,w=!1){if(this.selectionStart=p,this.selectionEnd=m,!p||!m||p[0]===m[0]&&p[1]===m[1])return void this.clear();const C=g.buffers.active.ydisp,y=p[1]-C,v=m[1]-C,d=Math.max(y,0),c=Math.min(v,g.rows-1);d>=g.rows||c<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=w,this.viewportStartRow=y,this.viewportEndRow=v,this.viewportCappedStartRow=d,this.viewportCappedEndRow=c,this.startCol=p[0],this.endCol=m[0])}isCellSelected(g,p,m){return!!this.hasSelection&&(m-=g.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?p>=this.startCol&&m>=this.viewportCappedStartRow&&p<this.endCol&&m<=this.viewportCappedEndRow:p<this.startCol&&m>=this.viewportCappedStartRow&&p>=this.endCol&&m<=this.viewportCappedEndRow:m>this.viewportStartRow&&m<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&m===this.viewportStartRow&&p>=this.startCol&&p<this.endCol||this.viewportStartRow<this.viewportEndRow&&m===this.viewportEndRow&&p<this.endCol||this.viewportStartRow<this.viewportEndRow&&m===this.viewportStartRow&&p>=this.startCol)}}o.createSelectionRenderModel=function(){return new l}},456:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,h=this.selectionEnd;return!(!l||!h)&&(l[1]>h[1]||l[1]===h[1]&&l[0]>h[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(a,o,l){var h=this&&this.__decorate||function(c,f,_,b){var R,L=arguments.length,x=L<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(c,f,_,b);else for(var I=c.length-1;I>=0;I--)(R=c[I])&&(x=(L<3?R(x):L>3?R(f,_,x):R(f,_))||x);return L>3&&x&&Object.defineProperty(f,_,x),x},g=this&&this.__param||function(c,f){return function(_,b){f(_,b,c)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const p=l(2585),m=l(8460),w=l(844);let C=o.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(c,f,_){super(),this._optionsService=_,this.width=0,this.height=0,this._onCharSizeChange=this.register(new m.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new d(this._optionsService))}catch{this._measureStrategy=this.register(new v(c,f,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const c=this._measureStrategy.measure();c.width===this.width&&c.height===this.height||(this.width=c.width,this.height=c.height,this._onCharSizeChange.fire())}};o.CharSizeService=C=h([g(2,p.IOptionsService)],C);class y extends w.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(f,_){f!==void 0&&f>0&&_!==void 0&&_>0&&(this._result.width=f,this._result.height=_)}}class v extends y{constructor(f,_,b){super(),this._document=f,this._parentElement=_,this._optionsService=b,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class d extends y{constructor(f){super(),this._optionsService=f,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const _=this._ctx.measureText("W");if(!("width"in _&&"fontBoundingBoxAscent"in _&&"fontBoundingBoxDescent"in _))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const f=this._ctx.measureText("W");return this._validateAndSet(f.width,f.fontBoundingBoxAscent+f.fontBoundingBoxDescent),this._result}}},4269:function(a,o,l){var h=this&&this.__decorate||function(d,c,f,_){var b,R=arguments.length,L=R<3?c:_===null?_=Object.getOwnPropertyDescriptor(c,f):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(d,c,f,_);else for(var x=d.length-1;x>=0;x--)(b=d[x])&&(L=(R<3?b(L):R>3?b(c,f,L):b(c,f))||L);return R>3&&L&&Object.defineProperty(c,f,L),L},g=this&&this.__param||function(d,c){return function(f,_){c(f,_,d)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const p=l(3734),m=l(643),w=l(511),C=l(2585);class y extends p.AttributeData{constructor(c,f,_){super(),this.content=0,this.combinedData="",this.fg=c.fg,this.bg=c.bg,this.combinedData=f,this._width=_}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(c){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=y;let v=o.CharacterJoinerService=class mS{constructor(c){this._bufferService=c,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(c){const f={id:this._nextCharacterJoinerId++,handler:c};return this._characterJoiners.push(f),f.id}deregister(c){for(let f=0;f<this._characterJoiners.length;f++)if(this._characterJoiners[f].id===c)return this._characterJoiners.splice(f,1),!0;return!1}getJoinedCharacters(c){if(this._characterJoiners.length===0)return[];const f=this._bufferService.buffer.lines.get(c);if(!f||f.length===0)return[];const _=[],b=f.translateToString(!0);let R=0,L=0,x=0,I=f.getFg(0),j=f.getBg(0);for(let G=0;G<f.getTrimmedLength();G++)if(f.loadCell(G,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==I||this._workCell.bg!==j){if(G-R>1){const X=this._getJoinedRanges(b,x,L,f,R);for(let D=0;D<X.length;D++)_.push(X[D])}R=G,x=L,I=this._workCell.fg,j=this._workCell.bg}L+=this._workCell.getChars().length||m.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-R>1){const G=this._getJoinedRanges(b,x,L,f,R);for(let X=0;X<G.length;X++)_.push(G[X])}return _}_getJoinedRanges(c,f,_,b,R){const L=c.substring(f,_);let x=[];try{x=this._characterJoiners[0].handler(L)}catch(I){console.error(I)}for(let I=1;I<this._characterJoiners.length;I++)try{const j=this._characterJoiners[I].handler(L);for(let G=0;G<j.length;G++)mS._mergeRanges(x,j[G])}catch(j){console.error(j)}return this._stringRangesToCellRanges(x,b,R),x}_stringRangesToCellRanges(c,f,_){let b=0,R=!1,L=0,x=c[b];if(x){for(let I=_;I<this._bufferService.cols;I++){const j=f.getWidth(I),G=f.getString(I).length||m.WHITESPACE_CELL_CHAR.length;if(j!==0){if(!R&&x[0]<=L&&(x[0]=I,R=!0),x[1]<=L){if(x[1]=I,x=c[++b],!x)break;x[0]<=L?(x[0]=I,R=!0):R=!1}L+=G}}x&&(x[1]=this._bufferService.cols)}}static _mergeRanges(c,f){let _=!1;for(let b=0;b<c.length;b++){const R=c[b];if(_){if(f[1]<=R[0])return c[b-1][1]=f[1],c;if(f[1]<=R[1])return c[b-1][1]=Math.max(f[1],R[1]),c.splice(b,1),c;c.splice(b,1),b--}else{if(f[1]<=R[0])return c.splice(b,0,f),c;if(f[1]<=R[1])return R[0]=Math.min(f[0],R[0]),c;f[0]<R[1]&&(R[0]=Math.min(f[0],R[0]),_=!0)}}return _?c[c.length-1][1]=f[1]:c.push(f),c}};o.CharacterJoinerService=v=h([g(0,C.IBufferService)],v)},5114:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0;const h=l(844),g=l(8460),p=l(3656);class m extends h.Disposable{constructor(y,v,d){super(),this._textarea=y,this._window=v,this.mainDocument=d,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new w(this._window),this._onDprChange=this.register(new g.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new g.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(c=>this._screenDprMonitor.setWindow(c))),this.register((0,g.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(y){this._window!==y&&(this._window=y,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}o.CoreBrowserService=m;class w extends h.Disposable{constructor(y){super(),this._parentWindow=y,this._windowResizeListener=this.register(new h.MutableDisposable),this._onDprChange=this.register(new g.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,h.toDisposable)(()=>this.clearListener()))}setWindow(y){this._parentWindow=y,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,p.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LinkProviderService=void 0;const h=l(844);class g extends h.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,h.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(m){return this.linkProviders.push(m),{dispose:()=>{const w=this.linkProviders.indexOf(m);w!==-1&&this.linkProviders.splice(w,1)}}}}o.LinkProviderService=g},8934:function(a,o,l){var h=this&&this.__decorate||function(C,y,v,d){var c,f=arguments.length,_=f<3?y:d===null?d=Object.getOwnPropertyDescriptor(y,v):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(C,y,v,d);else for(var b=C.length-1;b>=0;b--)(c=C[b])&&(_=(f<3?c(_):f>3?c(y,v,_):c(y,v))||_);return f>3&&_&&Object.defineProperty(y,v,_),_},g=this&&this.__param||function(C,y){return function(v,d){y(v,d,C)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const p=l(4725),m=l(9806);let w=o.MouseService=class{constructor(C,y){this._renderService=C,this._charSizeService=y}getCoords(C,y,v,d,c){return(0,m.getCoords)(window,C,y,v,d,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,c)}getMouseReportCoords(C,y){const v=(0,m.getCoordsRelativeToElement)(window,C,y);if(this._charSizeService.hasValidSize)return v[0]=Math.min(Math.max(v[0],0),this._renderService.dimensions.css.canvas.width-1),v[1]=Math.min(Math.max(v[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(v[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(v[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(v[0]),y:Math.floor(v[1])}}};o.MouseService=w=h([g(0,p.IRenderService),g(1,p.ICharSizeService)],w)},3230:function(a,o,l){var h=this&&this.__decorate||function(c,f,_,b){var R,L=arguments.length,x=L<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(c,f,_,b);else for(var I=c.length-1;I>=0;I--)(R=c[I])&&(x=(L<3?R(x):L>3?R(f,_,x):R(f,_))||x);return L>3&&x&&Object.defineProperty(f,_,x),x},g=this&&this.__param||function(c,f){return function(_,b){f(_,b,c)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const p=l(6193),m=l(4725),w=l(8460),C=l(844),y=l(7226),v=l(2585);let d=o.RenderService=class extends C.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(c,f,_,b,R,L,x,I){super(),this._rowCount=c,this._charSizeService=b,this._renderer=this.register(new C.MutableDisposable),this._pausedResizeTask=new y.DebouncedIdleTask,this._observerDisposable=this.register(new C.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new w.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new w.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new w.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new p.RenderDebouncer((j,G)=>this._renderRows(j,G),x),this.register(this._renderDebouncer),this.register(x.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(L.onResize(()=>this._fullRefresh())),this.register(L.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this.register(_.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(R.onDecorationRegistered(()=>this._fullRefresh())),this.register(R.onDecorationRemoved(()=>this._fullRefresh())),this.register(_.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(L.cols,L.rows),this._fullRefresh()})),this.register(_.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(L.buffer.y,L.buffer.y,!0))),this.register(I.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(x.window,f),this.register(x.onWindowChange(j=>this._registerIntersectionObserver(j,f)))}_registerIntersectionObserver(c,f){if("IntersectionObserver"in c){const _=new c.IntersectionObserver(b=>this._handleIntersectionChange(b[b.length-1]),{threshold:0});_.observe(f),this._observerDisposable.value=(0,C.toDisposable)(()=>_.disconnect())}}_handleIntersectionChange(c){this._isPaused=c.isIntersecting===void 0?c.intersectionRatio===0:!c.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(c,f,_=!1){this._isPaused?this._needsFullRefresh=!0:(_||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(c,f,this._rowCount))}_renderRows(c,f){this._renderer.value&&(c=Math.min(c,this._rowCount-1),f=Math.min(f,this._rowCount-1),this._renderer.value.renderRows(c,f),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:c,end:f}),this._onRender.fire({start:c,end:f}),this._isNextRenderRedrawOnly=!0)}resize(c,f){this._rowCount=f,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(c){this._renderer.value=c,this._renderer.value&&(this._renderer.value.onRequestRedraw(f=>this.refreshRows(f.start,f.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(c){return this._renderDebouncer.addRefreshCallback(c)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(c,f){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(c,f)):this._renderer.value.handleResize(c,f),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(c,f,_){this._selectionState.start=c,this._selectionState.end=f,this._selectionState.columnSelectMode=_,this._renderer.value?.handleSelectionChanged(c,f,_)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};o.RenderService=d=h([g(2,v.IOptionsService),g(3,m.ICharSizeService),g(4,v.IDecorationService),g(5,v.IBufferService),g(6,m.ICoreBrowserService),g(7,m.IThemeService)],d)},9312:function(a,o,l){var h=this&&this.__decorate||function(x,I,j,G){var X,D=arguments.length,$=D<3?I:G===null?G=Object.getOwnPropertyDescriptor(I,j):G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(x,I,j,G);else for(var N=x.length-1;N>=0;N--)(X=x[N])&&($=(D<3?X($):D>3?X(I,j,$):X(I,j))||$);return D>3&&$&&Object.defineProperty(I,j,$),$},g=this&&this.__param||function(x,I){return function(j,G){I(j,G,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const p=l(9806),m=l(9504),w=l(456),C=l(4725),y=l(8460),v=l(844),d=l(6114),c=l(4841),f=l(511),_=l(2585),b="",R=new RegExp(b,"g");let L=o.SelectionService=class extends v.Disposable{constructor(x,I,j,G,X,D,$,N,W){super(),this._element=x,this._screenElement=I,this._linkifier=j,this._bufferService=G,this._coreService=X,this._mouseService=D,this._optionsService=$,this._renderService=N,this._coreBrowserService=W,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new f.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new y.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new y.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new y.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new y.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=Q=>this._handleMouseMove(Q),this._mouseUpListener=Q=>this._handleMouseUp(Q),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(Q=>this._handleTrim(Q)),this.register(this._bufferService.buffers.onBufferActivate(Q=>this._handleBufferActivate(Q))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,v.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const x=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;return!(!x||!I||x[0]===I[0]&&x[1]===I[1])}get selectionText(){const x=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;if(!x||!I)return"";const j=this._bufferService.buffer,G=[];if(this._activeSelectionMode===3){if(x[0]===I[0])return"";const X=x[0]<I[0]?x[0]:I[0],D=x[0]<I[0]?I[0]:x[0];for(let $=x[1];$<=I[1];$++){const N=j.translateBufferLineToString($,!0,X,D);G.push(N)}}else{const X=x[1]===I[1]?I[0]:void 0;G.push(j.translateBufferLineToString(x[1],!0,x[0],X));for(let D=x[1]+1;D<=I[1]-1;D++){const $=j.lines.get(D),N=j.translateBufferLineToString(D,!0);$?.isWrapped?G[G.length-1]+=N:G.push(N)}if(x[1]!==I[1]){const D=j.lines.get(I[1]),$=j.translateBufferLineToString(I[1],!0,0,I[0]);D&&D.isWrapped?G[G.length-1]+=$:G.push($)}}return G.map(X=>X.replace(R," ")).join(d.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(x){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),d.isLinux&&x&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(x){const I=this._getMouseBufferCoords(x),j=this._model.finalSelectionStart,G=this._model.finalSelectionEnd;return!!(j&&G&&I)&&this._areCoordsInSelection(I,j,G)}isCellInSelection(x,I){const j=this._model.finalSelectionStart,G=this._model.finalSelectionEnd;return!(!j||!G)&&this._areCoordsInSelection([x,I],j,G)}_areCoordsInSelection(x,I,j){return x[1]>I[1]&&x[1]<j[1]||I[1]===j[1]&&x[1]===I[1]&&x[0]>=I[0]&&x[0]<j[0]||I[1]<j[1]&&x[1]===j[1]&&x[0]<j[0]||I[1]<j[1]&&x[1]===I[1]&&x[0]>=I[0]}_selectWordAtCursor(x,I){const j=this._linkifier.currentLink?.link?.range;if(j)return this._model.selectionStart=[j.start.x-1,j.start.y-1],this._model.selectionStartLength=(0,c.getRangeLength)(j,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const G=this._getMouseBufferCoords(x);return!!G&&(this._selectWordAt(G,I),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(x,I){this._model.clearSelection(),x=Math.max(x,0),I=Math.min(I,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,x],this._model.selectionEnd=[this._bufferService.cols,I],this.refresh(),this._onSelectionChange.fire()}_handleTrim(x){this._model.handleTrim(x)&&this.refresh()}_getMouseBufferCoords(x){const I=this._mouseService.getCoords(x,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(I)return I[0]--,I[1]--,I[1]+=this._bufferService.buffer.ydisp,I}_getMouseEventScrollAmount(x){let I=(0,p.getCoordsRelativeToElement)(this._coreBrowserService.window,x,this._screenElement)[1];const j=this._renderService.dimensions.css.canvas.height;return I>=0&&I<=j?0:(I>j&&(I-=j),I=Math.min(Math.max(I,-50),50),I/=50,I/Math.abs(I)+Math.round(14*I))}shouldForceSelection(x){return d.isMac?x.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:x.shiftKey}handleMouseDown(x){if(this._mouseDownTimeStamp=x.timeStamp,(x.button!==2||!this.hasSelection)&&x.button===0){if(!this._enabled){if(!this.shouldForceSelection(x))return;x.stopPropagation()}x.preventDefault(),this._dragScrollAmount=0,this._enabled&&x.shiftKey?this._handleIncrementalClick(x):x.detail===1?this._handleSingleClick(x):x.detail===2?this._handleDoubleClick(x):x.detail===3&&this._handleTripleClick(x),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(x){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(x))}_handleSingleClick(x){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(x)?3:0,this._model.selectionStart=this._getMouseBufferCoords(x),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const I=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);I&&I.length!==this._model.selectionStart[0]&&I.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(x){this._selectWordAtCursor(x,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(x){const I=this._getMouseBufferCoords(x);I&&(this._activeSelectionMode=2,this._selectLineAt(I[1]))}shouldColumnSelect(x){return x.altKey&&!(d.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(x){if(x.stopImmediatePropagation(),!this._model.selectionStart)return;const I=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(x),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(x),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const j=this._bufferService.buffer;if(this._model.selectionEnd[1]<j.lines.length){const G=j.lines.get(this._model.selectionEnd[1]);G&&G.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}I&&I[0]===this._model.selectionEnd[0]&&I[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const x=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(x.ydisp+this._bufferService.rows,x.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=x.ydisp),this.refresh()}}_handleMouseUp(x){const I=x.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&I<500&&x.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const j=this._mouseService.getCoords(x,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(j&&j[0]!==void 0&&j[1]!==void 0){const G=(0,m.moveToCellSequence)(j[0]-1,j[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(G,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const x=this._model.finalSelectionStart,I=this._model.finalSelectionEnd,j=!(!x||!I||x[0]===I[0]&&x[1]===I[1]);j?x&&I&&(this._oldSelectionStart&&this._oldSelectionEnd&&x[0]===this._oldSelectionStart[0]&&x[1]===this._oldSelectionStart[1]&&I[0]===this._oldSelectionEnd[0]&&I[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(x,I,j)):this._oldHasSelection&&this._fireOnSelectionChange(x,I,j)}_fireOnSelectionChange(x,I,j){this._oldSelectionStart=x,this._oldSelectionEnd=I,this._oldHasSelection=j,this._onSelectionChange.fire()}_handleBufferActivate(x){this.clearSelection(),this._trimListener.dispose(),this._trimListener=x.activeBuffer.lines.onTrim(I=>this._handleTrim(I))}_convertViewportColToCharacterIndex(x,I){let j=I;for(let G=0;I>=G;G++){const X=x.loadCell(G,this._workCell).getChars().length;this._workCell.getWidth()===0?j--:X>1&&I!==G&&(j+=X-1)}return j}setSelection(x,I,j){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[x,I],this._model.selectionStartLength=j,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(x){this._isClickInSelection(x)||(this._selectWordAtCursor(x,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(x,I,j=!0,G=!0){if(x[0]>=this._bufferService.cols)return;const X=this._bufferService.buffer,D=X.lines.get(x[1]);if(!D)return;const $=X.translateBufferLineToString(x[1],!1);let N=this._convertViewportColToCharacterIndex(D,x[0]),W=N;const Q=x[0]-N;let z=0,M=0,P=0,O=0;if($.charAt(N)===" "){for(;N>0&&$.charAt(N-1)===" ";)N--;for(;W<$.length&&$.charAt(W+1)===" ";)W++}else{let re=x[0],le=x[0];D.getWidth(re)===0&&(z++,re--),D.getWidth(le)===2&&(M++,le++);const ce=D.getString(le).length;for(ce>1&&(O+=ce-1,W+=ce-1);re>0&&N>0&&!this._isCharWordSeparator(D.loadCell(re-1,this._workCell));){D.loadCell(re-1,this._workCell);const J=this._workCell.getChars().length;this._workCell.getWidth()===0?(z++,re--):J>1&&(P+=J-1,N-=J-1),N--,re--}for(;le<D.length&&W+1<$.length&&!this._isCharWordSeparator(D.loadCell(le+1,this._workCell));){D.loadCell(le+1,this._workCell);const J=this._workCell.getChars().length;this._workCell.getWidth()===2?(M++,le++):J>1&&(O+=J-1,W+=J-1),W++,le++}}W++;let U=N+Q-z+P,Z=Math.min(this._bufferService.cols,W-N+z+M-P-O);if(I||$.slice(N,W).trim()!==""){if(j&&U===0&&D.getCodePoint(0)!==32){const re=X.lines.get(x[1]-1);if(re&&D.isWrapped&&re.getCodePoint(this._bufferService.cols-1)!==32){const le=this._getWordAt([this._bufferService.cols-1,x[1]-1],!1,!0,!1);if(le){const ce=this._bufferService.cols-le.start;U-=ce,Z+=ce}}}if(G&&U+Z===this._bufferService.cols&&D.getCodePoint(this._bufferService.cols-1)!==32){const re=X.lines.get(x[1]+1);if(re?.isWrapped&&re.getCodePoint(0)!==32){const le=this._getWordAt([0,x[1]+1],!1,!1,!0);le&&(Z+=le.length)}}return{start:U,length:Z}}}_selectWordAt(x,I){const j=this._getWordAt(x,I);if(j){for(;j.start<0;)j.start+=this._bufferService.cols,x[1]--;this._model.selectionStart=[j.start,x[1]],this._model.selectionStartLength=j.length}}_selectToWordAt(x){const I=this._getWordAt(x,!0);if(I){let j=x[1];for(;I.start<0;)I.start+=this._bufferService.cols,j--;if(!this._model.areSelectionValuesReversed())for(;I.start+I.length>this._bufferService.cols;)I.length-=this._bufferService.cols,j++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?I.start:I.start+I.length,j]}}_isCharWordSeparator(x){return x.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(x.getChars())>=0}_selectLineAt(x){const I=this._bufferService.buffer.getWrappedRangeForLine(x),j={start:{x:0,y:I.first},end:{x:this._bufferService.cols-1,y:I.last}};this._model.selectionStart=[0,I.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,c.getRangeLength)(j,this._bufferService.cols)}};o.SelectionService=L=h([g(3,_.IBufferService),g(4,_.ICoreService),g(5,C.IMouseService),g(6,_.IOptionsService),g(7,C.IRenderService),g(8,C.ICoreBrowserService)],L)},4725:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ILinkProviderService=o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const h=l(8343);o.ICharSizeService=(0,h.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,h.createDecorator)("CoreBrowserService"),o.IMouseService=(0,h.createDecorator)("MouseService"),o.IRenderService=(0,h.createDecorator)("RenderService"),o.ISelectionService=(0,h.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,h.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,h.createDecorator)("ThemeService"),o.ILinkProviderService=(0,h.createDecorator)("LinkProviderService")},6731:function(a,o,l){var h=this&&this.__decorate||function(L,x,I,j){var G,X=arguments.length,D=X<3?x:j===null?j=Object.getOwnPropertyDescriptor(x,I):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(L,x,I,j);else for(var $=L.length-1;$>=0;$--)(G=L[$])&&(D=(X<3?G(D):X>3?G(x,I,D):G(x,I))||D);return X>3&&D&&Object.defineProperty(x,I,D),D},g=this&&this.__param||function(L,x){return function(I,j){x(I,j,L)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const p=l(7239),m=l(8055),w=l(8460),C=l(844),y=l(2585),v=m.css.toColor("#ffffff"),d=m.css.toColor("#000000"),c=m.css.toColor("#ffffff"),f=m.css.toColor("#000000"),_={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const L=[m.css.toColor("#2e3436"),m.css.toColor("#cc0000"),m.css.toColor("#4e9a06"),m.css.toColor("#c4a000"),m.css.toColor("#3465a4"),m.css.toColor("#75507b"),m.css.toColor("#06989a"),m.css.toColor("#d3d7cf"),m.css.toColor("#555753"),m.css.toColor("#ef2929"),m.css.toColor("#8ae234"),m.css.toColor("#fce94f"),m.css.toColor("#729fcf"),m.css.toColor("#ad7fa8"),m.css.toColor("#34e2e2"),m.css.toColor("#eeeeec")],x=[0,95,135,175,215,255];for(let I=0;I<216;I++){const j=x[I/36%6|0],G=x[I/6%6|0],X=x[I%6];L.push({css:m.channels.toCss(j,G,X),rgba:m.channels.toRgba(j,G,X)})}for(let I=0;I<24;I++){const j=8+10*I;L.push({css:m.channels.toCss(j,j,j),rgba:m.channels.toRgba(j,j,j)})}return L})());let b=o.ThemeService=class extends C.Disposable{get colors(){return this._colors}constructor(L){super(),this._optionsService=L,this._contrastCache=new p.ColorContrastCache,this._halfContrastCache=new p.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:v,background:d,cursor:c,cursorAccent:f,selectionForeground:void 0,selectionBackgroundTransparent:_,selectionBackgroundOpaque:m.color.blend(d,_),selectionInactiveBackgroundTransparent:_,selectionInactiveBackgroundOpaque:m.color.blend(d,_),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(L={}){const x=this._colors;if(x.foreground=R(L.foreground,v),x.background=R(L.background,d),x.cursor=R(L.cursor,c),x.cursorAccent=R(L.cursorAccent,f),x.selectionBackgroundTransparent=R(L.selectionBackground,_),x.selectionBackgroundOpaque=m.color.blend(x.background,x.selectionBackgroundTransparent),x.selectionInactiveBackgroundTransparent=R(L.selectionInactiveBackground,x.selectionBackgroundTransparent),x.selectionInactiveBackgroundOpaque=m.color.blend(x.background,x.selectionInactiveBackgroundTransparent),x.selectionForeground=L.selectionForeground?R(L.selectionForeground,m.NULL_COLOR):void 0,x.selectionForeground===m.NULL_COLOR&&(x.selectionForeground=void 0),m.color.isOpaque(x.selectionBackgroundTransparent)&&(x.selectionBackgroundTransparent=m.color.opacity(x.selectionBackgroundTransparent,.3)),m.color.isOpaque(x.selectionInactiveBackgroundTransparent)&&(x.selectionInactiveBackgroundTransparent=m.color.opacity(x.selectionInactiveBackgroundTransparent,.3)),x.ansi=o.DEFAULT_ANSI_COLORS.slice(),x.ansi[0]=R(L.black,o.DEFAULT_ANSI_COLORS[0]),x.ansi[1]=R(L.red,o.DEFAULT_ANSI_COLORS[1]),x.ansi[2]=R(L.green,o.DEFAULT_ANSI_COLORS[2]),x.ansi[3]=R(L.yellow,o.DEFAULT_ANSI_COLORS[3]),x.ansi[4]=R(L.blue,o.DEFAULT_ANSI_COLORS[4]),x.ansi[5]=R(L.magenta,o.DEFAULT_ANSI_COLORS[5]),x.ansi[6]=R(L.cyan,o.DEFAULT_ANSI_COLORS[6]),x.ansi[7]=R(L.white,o.DEFAULT_ANSI_COLORS[7]),x.ansi[8]=R(L.brightBlack,o.DEFAULT_ANSI_COLORS[8]),x.ansi[9]=R(L.brightRed,o.DEFAULT_ANSI_COLORS[9]),x.ansi[10]=R(L.brightGreen,o.DEFAULT_ANSI_COLORS[10]),x.ansi[11]=R(L.brightYellow,o.DEFAULT_ANSI_COLORS[11]),x.ansi[12]=R(L.brightBlue,o.DEFAULT_ANSI_COLORS[12]),x.ansi[13]=R(L.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),x.ansi[14]=R(L.brightCyan,o.DEFAULT_ANSI_COLORS[14]),x.ansi[15]=R(L.brightWhite,o.DEFAULT_ANSI_COLORS[15]),L.extendedAnsi){const I=Math.min(x.ansi.length-16,L.extendedAnsi.length);for(let j=0;j<I;j++)x.ansi[j+16]=R(L.extendedAnsi[j],o.DEFAULT_ANSI_COLORS[j+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(L){this._restoreColor(L),this._onChangeColors.fire(this.colors)}_restoreColor(L){if(L!==void 0)switch(L){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[L]=this._restoreColors.ansi[L]}else for(let x=0;x<this._restoreColors.ansi.length;++x)this._colors.ansi[x]=this._restoreColors.ansi[x]}modifyColors(L){L(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function R(L,x){if(L!==void 0)try{return m.css.toColor(L)}catch{}return x}o.ThemeService=b=h([g(0,y.IOptionsService)],b)},6349:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const h=l(8460),g=l(844);class p extends g.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const C=new Array(w);for(let y=0;y<Math.min(w,this.length);y++)C[y]=this._array[this._getCyclicIndex(y)];this._array=C,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let C=this._length;C<w;C++)this._array[C]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,C){this._array[this._getCyclicIndex(w)]=C}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,C,...y){if(C){for(let v=w;v<this._length-C;v++)this._array[this._getCyclicIndex(v)]=this._array[this._getCyclicIndex(v+C)];this._length-=C,this.onDeleteEmitter.fire({index:w,amount:C})}for(let v=this._length-1;v>=w;v--)this._array[this._getCyclicIndex(v+y.length)]=this._array[this._getCyclicIndex(v)];for(let v=0;v<y.length;v++)this._array[this._getCyclicIndex(w+v)]=y[v];if(y.length&&this.onInsertEmitter.fire({index:w,amount:y.length}),this._length+y.length>this._maxLength){const v=this._length+y.length-this._maxLength;this._startIndex+=v,this._length=this._maxLength,this.onTrimEmitter.fire(v)}else this._length+=y.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,C,y){if(!(C<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+y<0)throw new Error("Cannot shift elements in list beyond index 0");if(y>0){for(let d=C-1;d>=0;d--)this.set(w+d+y,this.get(w+d));const v=w+C+y-this._length;if(v>0)for(this._length+=v;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let v=0;v<C;v++)this.set(w+v+y,this.get(w+v))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}o.CircularList=p},1439:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function l(h,g=5){if(typeof h!="object")return h;const p=Array.isArray(h)?[]:{};for(const m in h)p[m]=g<=1?h[m]:h[m]&&l(h[m],g-1);return p}},8055:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;let l=0,h=0,g=0,p=0;var m,w,C,y,v;function d(f){const _=f.toString(16);return _.length<2?"0"+_:_}function c(f,_){return f<_?(_+.05)/(f+.05):(f+.05)/(_+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},function(f){f.toCss=function(_,b,R,L){return L!==void 0?`#${d(_)}${d(b)}${d(R)}${d(L)}`:`#${d(_)}${d(b)}${d(R)}`},f.toRgba=function(_,b,R,L=255){return(_<<24|b<<16|R<<8|L)>>>0},f.toColor=function(_,b,R,L){return{css:f.toCss(_,b,R,L),rgba:f.toRgba(_,b,R,L)}}}(m||(o.channels=m={})),function(f){function _(b,R){return p=Math.round(255*R),[l,h,g]=v.toChannels(b.rgba),{css:m.toCss(l,h,g,p),rgba:m.toRgba(l,h,g,p)}}f.blend=function(b,R){if(p=(255&R.rgba)/255,p===1)return{css:R.css,rgba:R.rgba};const L=R.rgba>>24&255,x=R.rgba>>16&255,I=R.rgba>>8&255,j=b.rgba>>24&255,G=b.rgba>>16&255,X=b.rgba>>8&255;return l=j+Math.round((L-j)*p),h=G+Math.round((x-G)*p),g=X+Math.round((I-X)*p),{css:m.toCss(l,h,g),rgba:m.toRgba(l,h,g)}},f.isOpaque=function(b){return(255&b.rgba)==255},f.ensureContrastRatio=function(b,R,L){const x=v.ensureContrastRatio(b.rgba,R.rgba,L);if(x)return m.toColor(x>>24&255,x>>16&255,x>>8&255)},f.opaque=function(b){const R=(255|b.rgba)>>>0;return[l,h,g]=v.toChannels(R),{css:m.toCss(l,h,g),rgba:R}},f.opacity=_,f.multiplyOpacity=function(b,R){return p=255&b.rgba,_(b,p*R/255)},f.toColorRGB=function(b){return[b.rgba>>24&255,b.rgba>>16&255,b.rgba>>8&255]}}(w||(o.color=w={})),function(f){let _,b;try{const R=document.createElement("canvas");R.width=1,R.height=1;const L=R.getContext("2d",{willReadFrequently:!0});L&&(_=L,_.globalCompositeOperation="copy",b=_.createLinearGradient(0,0,1,1))}catch{}f.toColor=function(R){if(R.match(/#[\da-f]{3,8}/i))switch(R.length){case 4:return l=parseInt(R.slice(1,2).repeat(2),16),h=parseInt(R.slice(2,3).repeat(2),16),g=parseInt(R.slice(3,4).repeat(2),16),m.toColor(l,h,g);case 5:return l=parseInt(R.slice(1,2).repeat(2),16),h=parseInt(R.slice(2,3).repeat(2),16),g=parseInt(R.slice(3,4).repeat(2),16),p=parseInt(R.slice(4,5).repeat(2),16),m.toColor(l,h,g,p);case 7:return{css:R,rgba:(parseInt(R.slice(1),16)<<8|255)>>>0};case 9:return{css:R,rgba:parseInt(R.slice(1),16)>>>0}}const L=R.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(L)return l=parseInt(L[1]),h=parseInt(L[2]),g=parseInt(L[3]),p=Math.round(255*(L[5]===void 0?1:parseFloat(L[5]))),m.toColor(l,h,g,p);if(!_||!b)throw new Error("css.toColor: Unsupported css format");if(_.fillStyle=b,_.fillStyle=R,typeof _.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(_.fillRect(0,0,1,1),[l,h,g,p]=_.getImageData(0,0,1,1).data,p!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:m.toRgba(l,h,g,p),css:R}}}(C||(o.css=C={})),function(f){function _(b,R,L){const x=b/255,I=R/255,j=L/255;return .2126*(x<=.03928?x/12.92:Math.pow((x+.055)/1.055,2.4))+.7152*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))+.0722*(j<=.03928?j/12.92:Math.pow((j+.055)/1.055,2.4))}f.relativeLuminance=function(b){return _(b>>16&255,b>>8&255,255&b)},f.relativeLuminance2=_}(y||(o.rgb=y={})),function(f){function _(R,L,x){const I=R>>24&255,j=R>>16&255,G=R>>8&255;let X=L>>24&255,D=L>>16&255,$=L>>8&255,N=c(y.relativeLuminance2(X,D,$),y.relativeLuminance2(I,j,G));for(;N<x&&(X>0||D>0||$>0);)X-=Math.max(0,Math.ceil(.1*X)),D-=Math.max(0,Math.ceil(.1*D)),$-=Math.max(0,Math.ceil(.1*$)),N=c(y.relativeLuminance2(X,D,$),y.relativeLuminance2(I,j,G));return(X<<24|D<<16|$<<8|255)>>>0}function b(R,L,x){const I=R>>24&255,j=R>>16&255,G=R>>8&255;let X=L>>24&255,D=L>>16&255,$=L>>8&255,N=c(y.relativeLuminance2(X,D,$),y.relativeLuminance2(I,j,G));for(;N<x&&(X<255||D<255||$<255);)X=Math.min(255,X+Math.ceil(.1*(255-X))),D=Math.min(255,D+Math.ceil(.1*(255-D))),$=Math.min(255,$+Math.ceil(.1*(255-$))),N=c(y.relativeLuminance2(X,D,$),y.relativeLuminance2(I,j,G));return(X<<24|D<<16|$<<8|255)>>>0}f.blend=function(R,L){if(p=(255&L)/255,p===1)return L;const x=L>>24&255,I=L>>16&255,j=L>>8&255,G=R>>24&255,X=R>>16&255,D=R>>8&255;return l=G+Math.round((x-G)*p),h=X+Math.round((I-X)*p),g=D+Math.round((j-D)*p),m.toRgba(l,h,g)},f.ensureContrastRatio=function(R,L,x){const I=y.relativeLuminance(R>>8),j=y.relativeLuminance(L>>8);if(c(I,j)<x){if(j<I){const D=_(R,L,x),$=c(I,y.relativeLuminance(D>>8));if($<x){const N=b(R,L,x);return $>c(I,y.relativeLuminance(N>>8))?D:N}return D}const G=b(R,L,x),X=c(I,y.relativeLuminance(G>>8));if(X<x){const D=_(R,L,x);return X>c(I,y.relativeLuminance(D>>8))?G:D}return G}},f.reduceLuminance=_,f.increaseLuminance=b,f.toChannels=function(R){return[R>>24&255,R>>16&255,R>>8&255,255&R]}}(v||(o.rgba=v={})),o.toPaddedHex=d,o.contrastRatio=c},8969:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const h=l(844),g=l(2585),p=l(4348),m=l(7866),w=l(744),C=l(7302),y=l(6975),v=l(8460),d=l(1753),c=l(1480),f=l(7994),_=l(9282),b=l(5435),R=l(5981),L=l(2660);let x=!1;class I extends h.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new v.EventEmitter),this._onScroll.event(G=>{this._onScrollApi?.fire(G.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(G){for(const X in G)this.optionsService.options[X]=G[X]}constructor(G){super(),this._windowsWrappingHeuristics=this.register(new h.MutableDisposable),this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new v.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new v.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new v.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new v.EventEmitter),this._instantiationService=new p.InstantiationService,this.optionsService=this.register(new C.OptionsService(G)),this._instantiationService.setService(g.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(g.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(m.LogService)),this._instantiationService.setService(g.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(y.CoreService)),this._instantiationService.setService(g.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(g.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(c.UnicodeService)),this._instantiationService.setService(g.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(f.CharsetService),this._instantiationService.setService(g.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(L.OscLinkService),this._instantiationService.setService(g.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new b.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,v.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,v.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,v.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,v.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(X=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(X=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new R.WriteBuffer((X,D)=>this._inputHandler.parse(X,D))),this.register((0,v.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(G,X){this._writeBuffer.write(G,X)}writeSync(G,X){this._logService.logLevel<=g.LogLevelEnum.WARN&&!x&&(this._logService.warn("writeSync is unreliable and will be removed soon."),x=!0),this._writeBuffer.writeSync(G,X)}input(G,X=!0){this.coreService.triggerDataEvent(G,X)}resize(G,X){isNaN(G)||isNaN(X)||(G=Math.max(G,w.MINIMUM_COLS),X=Math.max(X,w.MINIMUM_ROWS),this._bufferService.resize(G,X))}scroll(G,X=!1){this._bufferService.scroll(G,X)}scrollLines(G,X,D){this._bufferService.scrollLines(G,X,D)}scrollPages(G){this.scrollLines(G*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(G){const X=G-this._bufferService.buffer.ydisp;X!==0&&this.scrollLines(X)}registerEscHandler(G,X){return this._inputHandler.registerEscHandler(G,X)}registerDcsHandler(G,X){return this._inputHandler.registerDcsHandler(G,X)}registerCsiHandler(G,X){return this._inputHandler.registerCsiHandler(G,X)}registerOscHandler(G,X){return this._inputHandler.registerOscHandler(G,X)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let G=!1;const X=this.optionsService.rawOptions.windowsPty;X&&X.buildNumber!==void 0&&X.buildNumber!==void 0?G=X.backend==="conpty"&&X.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(G=!0),G?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const G=[];G.push(this.onLineFeed(_.updateWindowsModeWrappedState.bind(null,this._bufferService))),G.push(this.registerCsiHandler({final:"H"},()=>((0,_.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,h.toDisposable)(()=>{for(const X of G)X.dispose()})}}}o.CoreTerminal=I},8460:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.runAndSubscribe=o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===l)return void this._listeners.splice(h,1)}}})),this._event}fire(l,h){const g=[];for(let p=0;p<this._listeners.length;p++)g.push(this._listeners[p]);for(let p=0;p<g.length;p++)g[p].call(void 0,l,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(l,h){return l(g=>h.fire(g))},o.runAndSubscribe=function(l,h){return h(void 0),l(g=>h(g))}},5435:function(a,o,l){var h=this&&this.__decorate||function(z,M,P,O){var U,Z=arguments.length,re=Z<3?M:O===null?O=Object.getOwnPropertyDescriptor(M,P):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(z,M,P,O);else for(var le=z.length-1;le>=0;le--)(U=z[le])&&(re=(Z<3?U(re):Z>3?U(M,P,re):U(M,P))||re);return Z>3&&re&&Object.defineProperty(M,P,re),re},g=this&&this.__param||function(z,M){return function(P,O){M(P,O,z)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const p=l(2584),m=l(7116),w=l(2015),C=l(844),y=l(482),v=l(8437),d=l(8460),c=l(643),f=l(511),_=l(3734),b=l(2585),R=l(1480),L=l(6242),x=l(6351),I=l(5941),j={"(":0,")":1,"*":2,"+":3,"-":1,".":2},G=131072;function X(z,M){if(z>24)return M.setWinLines||!1;switch(z){case 1:return!!M.restoreWin;case 2:return!!M.minimizeWin;case 3:return!!M.setWinPosition;case 4:return!!M.setWinSizePixels;case 5:return!!M.raiseWin;case 6:return!!M.lowerWin;case 7:return!!M.refreshWin;case 8:return!!M.setWinSizeChars;case 9:return!!M.maximizeWin;case 10:return!!M.fullscreenWin;case 11:return!!M.getWinState;case 13:return!!M.getWinPosition;case 14:return!!M.getWinSizePixels;case 15:return!!M.getScreenSizePixels;case 16:return!!M.getCellSizePixels;case 18:return!!M.getWinSizeChars;case 19:return!!M.getScreenSizeChars;case 20:return!!M.getIconTitle;case 21:return!!M.getWinTitle;case 22:return!!M.pushTitle;case 23:return!!M.popTitle;case 24:return!!M.setWinLines}return!1}var D;(function(z){z[z.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",z[z.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(D||(o.WindowsOptionsReportType=D={}));let $=0;class N extends C.Disposable{getAttrData(){return this._curAttrData}constructor(M,P,O,U,Z,re,le,ce,J=new w.EscapeSequenceParser){super(),this._bufferService=M,this._charsetService=P,this._coreService=O,this._logService=U,this._optionsService=Z,this._oscLinkService=re,this._coreMouseService=le,this._unicodeService=ce,this._parser=J,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new y.StringToUtf32,this._utf8Decoder=new y.Utf8ToUtf32,this._workCell=new f.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=v.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new W(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(B=>this._activeBuffer=B.activeBuffer)),this._parser.setCsiHandlerFallback((B,te)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(B),params:te.toArray()})}),this._parser.setEscHandlerFallback(B=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(B)})}),this._parser.setExecuteHandlerFallback(B=>{this._logService.debug("Unknown EXECUTE code: ",{code:B})}),this._parser.setOscHandlerFallback((B,te,ie)=>{this._logService.debug("Unknown OSC code: ",{identifier:B,action:te,data:ie})}),this._parser.setDcsHandlerFallback((B,te,ie)=>{te==="HOOK"&&(ie=ie.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(B),action:te,payload:ie})}),this._parser.setPrintHandler((B,te,ie)=>this.print(B,te,ie)),this._parser.registerCsiHandler({final:"@"},B=>this.insertChars(B)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},B=>this.scrollLeft(B)),this._parser.registerCsiHandler({final:"A"},B=>this.cursorUp(B)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},B=>this.scrollRight(B)),this._parser.registerCsiHandler({final:"B"},B=>this.cursorDown(B)),this._parser.registerCsiHandler({final:"C"},B=>this.cursorForward(B)),this._parser.registerCsiHandler({final:"D"},B=>this.cursorBackward(B)),this._parser.registerCsiHandler({final:"E"},B=>this.cursorNextLine(B)),this._parser.registerCsiHandler({final:"F"},B=>this.cursorPrecedingLine(B)),this._parser.registerCsiHandler({final:"G"},B=>this.cursorCharAbsolute(B)),this._parser.registerCsiHandler({final:"H"},B=>this.cursorPosition(B)),this._parser.registerCsiHandler({final:"I"},B=>this.cursorForwardTab(B)),this._parser.registerCsiHandler({final:"J"},B=>this.eraseInDisplay(B,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},B=>this.eraseInDisplay(B,!0)),this._parser.registerCsiHandler({final:"K"},B=>this.eraseInLine(B,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},B=>this.eraseInLine(B,!0)),this._parser.registerCsiHandler({final:"L"},B=>this.insertLines(B)),this._parser.registerCsiHandler({final:"M"},B=>this.deleteLines(B)),this._parser.registerCsiHandler({final:"P"},B=>this.deleteChars(B)),this._parser.registerCsiHandler({final:"S"},B=>this.scrollUp(B)),this._parser.registerCsiHandler({final:"T"},B=>this.scrollDown(B)),this._parser.registerCsiHandler({final:"X"},B=>this.eraseChars(B)),this._parser.registerCsiHandler({final:"Z"},B=>this.cursorBackwardTab(B)),this._parser.registerCsiHandler({final:"`"},B=>this.charPosAbsolute(B)),this._parser.registerCsiHandler({final:"a"},B=>this.hPositionRelative(B)),this._parser.registerCsiHandler({final:"b"},B=>this.repeatPrecedingCharacter(B)),this._parser.registerCsiHandler({final:"c"},B=>this.sendDeviceAttributesPrimary(B)),this._parser.registerCsiHandler({prefix:">",final:"c"},B=>this.sendDeviceAttributesSecondary(B)),this._parser.registerCsiHandler({final:"d"},B=>this.linePosAbsolute(B)),this._parser.registerCsiHandler({final:"e"},B=>this.vPositionRelative(B)),this._parser.registerCsiHandler({final:"f"},B=>this.hVPosition(B)),this._parser.registerCsiHandler({final:"g"},B=>this.tabClear(B)),this._parser.registerCsiHandler({final:"h"},B=>this.setMode(B)),this._parser.registerCsiHandler({prefix:"?",final:"h"},B=>this.setModePrivate(B)),this._parser.registerCsiHandler({final:"l"},B=>this.resetMode(B)),this._parser.registerCsiHandler({prefix:"?",final:"l"},B=>this.resetModePrivate(B)),this._parser.registerCsiHandler({final:"m"},B=>this.charAttributes(B)),this._parser.registerCsiHandler({final:"n"},B=>this.deviceStatus(B)),this._parser.registerCsiHandler({prefix:"?",final:"n"},B=>this.deviceStatusPrivate(B)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},B=>this.softReset(B)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},B=>this.setCursorStyle(B)),this._parser.registerCsiHandler({final:"r"},B=>this.setScrollRegion(B)),this._parser.registerCsiHandler({final:"s"},B=>this.saveCursor(B)),this._parser.registerCsiHandler({final:"t"},B=>this.windowOptions(B)),this._parser.registerCsiHandler({final:"u"},B=>this.restoreCursor(B)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},B=>this.insertColumns(B)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},B=>this.deleteColumns(B)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},B=>this.selectProtected(B)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},B=>this.requestMode(B,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},B=>this.requestMode(B,!1)),this._parser.setExecuteHandler(p.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(p.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(p.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(p.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(p.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(p.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(p.C1.IND,()=>this.index()),this._parser.setExecuteHandler(p.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(p.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new L.OscHandler(B=>(this.setTitle(B),this.setIconName(B),!0))),this._parser.registerOscHandler(1,new L.OscHandler(B=>this.setIconName(B))),this._parser.registerOscHandler(2,new L.OscHandler(B=>this.setTitle(B))),this._parser.registerOscHandler(4,new L.OscHandler(B=>this.setOrReportIndexedColor(B))),this._parser.registerOscHandler(8,new L.OscHandler(B=>this.setHyperlink(B))),this._parser.registerOscHandler(10,new L.OscHandler(B=>this.setOrReportFgColor(B))),this._parser.registerOscHandler(11,new L.OscHandler(B=>this.setOrReportBgColor(B))),this._parser.registerOscHandler(12,new L.OscHandler(B=>this.setOrReportCursorColor(B))),this._parser.registerOscHandler(104,new L.OscHandler(B=>this.restoreIndexedColor(B))),this._parser.registerOscHandler(110,new L.OscHandler(B=>this.restoreFgColor(B))),this._parser.registerOscHandler(111,new L.OscHandler(B=>this.restoreBgColor(B))),this._parser.registerOscHandler(112,new L.OscHandler(B=>this.restoreCursorColor(B))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const B in m.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:B},()=>this.selectCharset("("+B)),this._parser.registerEscHandler({intermediates:")",final:B},()=>this.selectCharset(")"+B)),this._parser.registerEscHandler({intermediates:"*",final:B},()=>this.selectCharset("*"+B)),this._parser.registerEscHandler({intermediates:"+",final:B},()=>this.selectCharset("+"+B)),this._parser.registerEscHandler({intermediates:"-",final:B},()=>this.selectCharset("-"+B)),this._parser.registerEscHandler({intermediates:".",final:B},()=>this.selectCharset("."+B)),this._parser.registerEscHandler({intermediates:"/",final:B},()=>this.selectCharset("/"+B));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(B=>(this._logService.error("Parsing error: ",B),B)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new x.DcsHandler((B,te)=>this.requestStatusString(B,te)))}_preserveStack(M,P,O,U){this._parseStack.paused=!0,this._parseStack.cursorStartX=M,this._parseStack.cursorStartY=P,this._parseStack.decodedLength=O,this._parseStack.position=U}_logSlowResolvingAsync(M){this._logService.logLevel<=b.LogLevelEnum.WARN&&Promise.race([M,new Promise((P,O)=>setTimeout(()=>O("#SLOW_TIMEOUT"),5e3))]).catch(P=>{if(P!=="#SLOW_TIMEOUT")throw P;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(M,P){let O,U=this._activeBuffer.x,Z=this._activeBuffer.y,re=0;const le=this._parseStack.paused;if(le){if(O=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,P))return this._logSlowResolvingAsync(O),O;U=this._parseStack.cursorStartX,Z=this._parseStack.cursorStartY,this._parseStack.paused=!1,M.length>G&&(re=this._parseStack.position+G)}if(this._logService.logLevel<=b.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof M=="string"?` "${M}"`:` "${Array.prototype.map.call(M,B=>String.fromCharCode(B)).join("")}"`),typeof M=="string"?M.split("").map(B=>B.charCodeAt(0)):M),this._parseBuffer.length<M.length&&this._parseBuffer.length<G&&(this._parseBuffer=new Uint32Array(Math.min(M.length,G))),le||this._dirtyRowTracker.clearRange(),M.length>G)for(let B=re;B<M.length;B+=G){const te=B+G<M.length?B+G:M.length,ie=typeof M=="string"?this._stringDecoder.decode(M.substring(B,te),this._parseBuffer):this._utf8Decoder.decode(M.subarray(B,te),this._parseBuffer);if(O=this._parser.parse(this._parseBuffer,ie))return this._preserveStack(U,Z,ie,B),this._logSlowResolvingAsync(O),O}else if(!le){const B=typeof M=="string"?this._stringDecoder.decode(M,this._parseBuffer):this._utf8Decoder.decode(M,this._parseBuffer);if(O=this._parser.parse(this._parseBuffer,B))return this._preserveStack(U,Z,B,0),this._logSlowResolvingAsync(O),O}this._activeBuffer.x===U&&this._activeBuffer.y===Z||this._onCursorMove.fire();const ce=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),J=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);J<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(J,this._bufferService.rows-1),Math.min(ce,this._bufferService.rows-1))}print(M,P,O){let U,Z;const re=this._charsetService.charset,le=this._optionsService.rawOptions.screenReaderMode,ce=this._bufferService.cols,J=this._coreService.decPrivateModes.wraparound,B=this._coreService.modes.insertMode,te=this._curAttrData;let ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&O-P>0&&ie.getWidth(this._activeBuffer.x-1)===2&&ie.setCellFromCodepoint(this._activeBuffer.x-1,0,1,te);let ue=this._parser.precedingJoinState;for(let he=P;he<O;++he){if(U=M[he],U<127&&re){const we=re[String.fromCharCode(U)];we&&(U=we.charCodeAt(0))}const Se=this._unicodeService.charProperties(U,ue);Z=R.UnicodeService.extractWidth(Se);const _e=R.UnicodeService.extractShouldJoin(Se),Le=_e?R.UnicodeService.extractWidth(ue):0;if(ue=Se,le&&this._onA11yChar.fire((0,y.stringFromCodePoint)(U)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+Z-Le>ce){if(J){const we=ie;let pe=this._activeBuffer.x-Le;for(this._activeBuffer.x=Le,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Le>0&&ie instanceof v.BufferLine&&ie.copyCellsFrom(we,pe,0,Le,!1);pe<ce;)we.setCellFromCodepoint(pe++,0,1,te)}else if(this._activeBuffer.x=ce-1,Z===2)continue}if(_e&&this._activeBuffer.x){const we=ie.getWidth(this._activeBuffer.x-1)?1:2;ie.addCodepointToCell(this._activeBuffer.x-we,U,Z);for(let pe=Z-Le;--pe>=0;)ie.setCellFromCodepoint(this._activeBuffer.x++,0,0,te)}else if(B&&(ie.insertCells(this._activeBuffer.x,Z-Le,this._activeBuffer.getNullCell(te)),ie.getWidth(ce-1)===2&&ie.setCellFromCodepoint(ce-1,c.NULL_CELL_CODE,c.NULL_CELL_WIDTH,te)),ie.setCellFromCodepoint(this._activeBuffer.x++,U,Z,te),Z>0)for(;--Z;)ie.setCellFromCodepoint(this._activeBuffer.x++,0,0,te)}this._parser.precedingJoinState=ue,this._activeBuffer.x<ce&&O-P>0&&ie.getWidth(this._activeBuffer.x)===0&&!ie.hasContent(this._activeBuffer.x)&&ie.setCellFromCodepoint(this._activeBuffer.x,0,1,te),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(M,P){return M.final!=="t"||M.prefix||M.intermediates?this._parser.registerCsiHandler(M,P):this._parser.registerCsiHandler(M,O=>!X(O.params[0],this._optionsService.rawOptions.windowOptions)||P(O))}registerDcsHandler(M,P){return this._parser.registerDcsHandler(M,new x.DcsHandler(P))}registerEscHandler(M,P){return this._parser.registerEscHandler(M,P)}registerOscHandler(M,P){return this._parser.registerOscHandler(M,new L.OscHandler(P))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);M.hasWidth(this._activeBuffer.x)&&!M.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const M=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-M),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(M=this._bufferService.cols-1){this._activeBuffer.x=Math.min(M,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(M,P){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=M,this._activeBuffer.y=this._activeBuffer.scrollTop+P):(this._activeBuffer.x=M,this._activeBuffer.y=P),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(M,P){this._restrictCursor(),this._setCursor(this._activeBuffer.x+M,this._activeBuffer.y+P)}cursorUp(M){const P=this._activeBuffer.y-this._activeBuffer.scrollTop;return P>=0?this._moveCursor(0,-Math.min(P,M.params[0]||1)):this._moveCursor(0,-(M.params[0]||1)),!0}cursorDown(M){const P=this._activeBuffer.scrollBottom-this._activeBuffer.y;return P>=0?this._moveCursor(0,Math.min(P,M.params[0]||1)):this._moveCursor(0,M.params[0]||1),!0}cursorForward(M){return this._moveCursor(M.params[0]||1,0),!0}cursorBackward(M){return this._moveCursor(-(M.params[0]||1),0),!0}cursorNextLine(M){return this.cursorDown(M),this._activeBuffer.x=0,!0}cursorPrecedingLine(M){return this.cursorUp(M),this._activeBuffer.x=0,!0}cursorCharAbsolute(M){return this._setCursor((M.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(M){return this._setCursor(M.length>=2?(M.params[1]||1)-1:0,(M.params[0]||1)-1),!0}charPosAbsolute(M){return this._setCursor((M.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(M){return this._moveCursor(M.params[0]||1,0),!0}linePosAbsolute(M){return this._setCursor(this._activeBuffer.x,(M.params[0]||1)-1),!0}vPositionRelative(M){return this._moveCursor(0,M.params[0]||1),!0}hVPosition(M){return this.cursorPosition(M),!0}tabClear(M){const P=M.params[0];return P===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:P===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(M){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=M.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(M){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=M.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(M){const P=M.params[0];return P===1&&(this._curAttrData.bg|=536870912),P!==2&&P!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(M,P,O,U=!1,Z=!1){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);re.replaceCells(P,O,this._activeBuffer.getNullCell(this._eraseAttrData()),Z),U&&(re.isWrapped=!1)}_resetBufferLine(M,P=!1){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);O&&(O.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),P),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+M),O.isWrapped=!1)}eraseInDisplay(M,P=!1){let O;switch(this._restrictCursor(this._bufferService.cols),M.params[0]){case 0:for(O=this._activeBuffer.y,this._dirtyRowTracker.markDirty(O),this._eraseInBufferLine(O++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);O<this._bufferService.rows;O++)this._resetBufferLine(O,P);this._dirtyRowTracker.markDirty(O);break;case 1:for(O=this._activeBuffer.y,this._dirtyRowTracker.markDirty(O),this._eraseInBufferLine(O,0,this._activeBuffer.x+1,!0,P),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(O+1).isWrapped=!1);O--;)this._resetBufferLine(O,P);this._dirtyRowTracker.markDirty(0);break;case 2:for(O=this._bufferService.rows,this._dirtyRowTracker.markDirty(O-1);O--;)this._resetBufferLine(O,P);this._dirtyRowTracker.markDirty(0);break;case 3:const U=this._activeBuffer.lines.length-this._bufferService.rows;U>0&&(this._activeBuffer.lines.trimStart(U),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-U,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-U,0),this._onScroll.fire(0))}return!0}eraseInLine(M,P=!1){switch(this._restrictCursor(this._bufferService.cols),M.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,P);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,P)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(M){this._restrictCursor();let P=M.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=this._activeBuffer.ybase+this._activeBuffer.y,U=this._bufferService.rows-1-this._activeBuffer.scrollBottom,Z=this._bufferService.rows-1+this._activeBuffer.ybase-U+1;for(;P--;)this._activeBuffer.lines.splice(Z-1,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(M){this._restrictCursor();let P=M.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=this._activeBuffer.ybase+this._activeBuffer.y;let U;for(U=this._bufferService.rows-1-this._activeBuffer.scrollBottom,U=this._bufferService.rows-1+this._activeBuffer.ybase-U;P--;)this._activeBuffer.lines.splice(O,1),this._activeBuffer.lines.splice(U,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(M){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.insertCells(this._activeBuffer.x,M.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(M){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.deleteCells(this._activeBuffer.x,M.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(M){let P=M.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(M){let P=M.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(v.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(M){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=M.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);U.deleteCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData())),U.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(M){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=M.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);U.insertCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData())),U.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(M){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=M.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);U.insertCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData())),U.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(M){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=M.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);U.deleteCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData())),U.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(M){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(M.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(M){const P=this._parser.precedingJoinState;if(!P)return!0;const O=M.params[0]||1,U=R.UnicodeService.extractWidth(P),Z=this._activeBuffer.x-U,re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(Z),le=new Uint32Array(re.length*O);let ce=0;for(let B=0;B<re.length;){const te=re.codePointAt(B)||0;le[ce++]=te,B+=te>65535?2:1}let J=ce;for(let B=1;B<O;++B)le.copyWithin(J,0,ce),J+=ce;return this.print(le,0,J),!0}sendDeviceAttributesPrimary(M){return M.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(p.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(p.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(M){return M.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(p.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(p.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(M.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(p.C0.ESC+"[>83;40003;0c")),!0}_is(M){return(this._optionsService.rawOptions.termName+"").indexOf(M)===0}setMode(M){for(let P=0;P<M.length;P++)switch(M.params[P]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(M){for(let P=0;P<M.length;P++)switch(M.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,m.DEFAULT_CHARSET),this._charsetService.setgCharset(1,m.DEFAULT_CHARSET),this._charsetService.setgCharset(2,m.DEFAULT_CHARSET),this._charsetService.setgCharset(3,m.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(M){for(let P=0;P<M.length;P++)switch(M.params[P]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(M){for(let P=0;P<M.length;P++)switch(M.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),M.params[P]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(M,P){const O=this._coreService.decPrivateModes,{activeProtocol:U,activeEncoding:Z}=this._coreMouseService,re=this._coreService,{buffers:le,cols:ce}=this._bufferService,{active:J,alt:B}=le,te=this._optionsService.rawOptions,ie=_e=>_e?1:2,ue=M.params[0];return he=ue,Se=P?ue===2?4:ue===4?ie(re.modes.insertMode):ue===12?3:ue===20?ie(te.convertEol):0:ue===1?ie(O.applicationCursorKeys):ue===3?te.windowOptions.setWinLines?ce===80?2:ce===132?1:0:0:ue===6?ie(O.origin):ue===7?ie(O.wraparound):ue===8?3:ue===9?ie(U==="X10"):ue===12?ie(te.cursorBlink):ue===25?ie(!re.isCursorHidden):ue===45?ie(O.reverseWraparound):ue===66?ie(O.applicationKeypad):ue===67?4:ue===1e3?ie(U==="VT200"):ue===1002?ie(U==="DRAG"):ue===1003?ie(U==="ANY"):ue===1004?ie(O.sendFocus):ue===1005?4:ue===1006?ie(Z==="SGR"):ue===1015?4:ue===1016?ie(Z==="SGR_PIXELS"):ue===1048?1:ue===47||ue===1047||ue===1049?ie(J===B):ue===2004?ie(O.bracketedPasteMode):0,re.triggerDataEvent(`${p.C0.ESC}[${P?"":"?"}${he};${Se}$y`),!0;var he,Se}_updateAttrColor(M,P,O,U,Z){return P===2?(M|=50331648,M&=-16777216,M|=_.AttributeData.fromColorRGB([O,U,Z])):P===5&&(M&=-50331904,M|=33554432|255&O),M}_extractColor(M,P,O){const U=[0,0,-1,0,0,0];let Z=0,re=0;do{if(U[re+Z]=M.params[P+re],M.hasSubParams(P+re)){const le=M.getSubParams(P+re);let ce=0;do U[1]===5&&(Z=1),U[re+ce+1+Z]=le[ce];while(++ce<le.length&&ce+re+1+Z<U.length);break}if(U[1]===5&&re+Z>=2||U[1]===2&&re+Z>=5)break;U[1]&&(Z=1)}while(++re+P<M.length&&re+Z<U.length);for(let le=2;le<U.length;++le)U[le]===-1&&(U[le]=0);switch(U[0]){case 38:O.fg=this._updateAttrColor(O.fg,U[1],U[3],U[4],U[5]);break;case 48:O.bg=this._updateAttrColor(O.bg,U[1],U[3],U[4],U[5]);break;case 58:O.extended=O.extended.clone(),O.extended.underlineColor=this._updateAttrColor(O.extended.underlineColor,U[1],U[3],U[4],U[5])}return re}_processUnderline(M,P){P.extended=P.extended.clone(),(!~M||M>5)&&(M=1),P.extended.underlineStyle=M,P.fg|=268435456,M===0&&(P.fg&=-268435457),P.updateExtended()}_processSGR0(M){M.fg=v.DEFAULT_ATTR_DATA.fg,M.bg=v.DEFAULT_ATTR_DATA.bg,M.extended=M.extended.clone(),M.extended.underlineStyle=0,M.extended.underlineColor&=-67108864,M.updateExtended()}charAttributes(M){if(M.length===1&&M.params[0]===0)return this._processSGR0(this._curAttrData),!0;const P=M.length;let O;const U=this._curAttrData;for(let Z=0;Z<P;Z++)O=M.params[Z],O>=30&&O<=37?(U.fg&=-50331904,U.fg|=16777216|O-30):O>=40&&O<=47?(U.bg&=-50331904,U.bg|=16777216|O-40):O>=90&&O<=97?(U.fg&=-50331904,U.fg|=16777224|O-90):O>=100&&O<=107?(U.bg&=-50331904,U.bg|=16777224|O-100):O===0?this._processSGR0(U):O===1?U.fg|=134217728:O===3?U.bg|=67108864:O===4?(U.fg|=268435456,this._processUnderline(M.hasSubParams(Z)?M.getSubParams(Z)[0]:1,U)):O===5?U.fg|=536870912:O===7?U.fg|=67108864:O===8?U.fg|=1073741824:O===9?U.fg|=2147483648:O===2?U.bg|=134217728:O===21?this._processUnderline(2,U):O===22?(U.fg&=-134217729,U.bg&=-134217729):O===23?U.bg&=-67108865:O===24?(U.fg&=-268435457,this._processUnderline(0,U)):O===25?U.fg&=-536870913:O===27?U.fg&=-67108865:O===28?U.fg&=-1073741825:O===29?U.fg&=2147483647:O===39?(U.fg&=-67108864,U.fg|=16777215&v.DEFAULT_ATTR_DATA.fg):O===49?(U.bg&=-67108864,U.bg|=16777215&v.DEFAULT_ATTR_DATA.bg):O===38||O===48||O===58?Z+=this._extractColor(M,Z,U):O===53?U.bg|=1073741824:O===55?U.bg&=-1073741825:O===59?(U.extended=U.extended.clone(),U.extended.underlineColor=-1,U.updateExtended()):O===100?(U.fg&=-67108864,U.fg|=16777215&v.DEFAULT_ATTR_DATA.fg,U.bg&=-67108864,U.bg|=16777215&v.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",O);return!0}deviceStatus(M){switch(M.params[0]){case 5:this._coreService.triggerDataEvent(`${p.C0.ESC}[0n`);break;case 6:const P=this._activeBuffer.y+1,O=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${p.C0.ESC}[${P};${O}R`)}return!0}deviceStatusPrivate(M){if(M.params[0]===6){const P=this._activeBuffer.y+1,O=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${p.C0.ESC}[?${P};${O}R`)}return!0}softReset(M){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(M){const P=M.params[0]||1;switch(P){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const O=P%2==1;return this._optionsService.options.cursorBlink=O,!0}setScrollRegion(M){const P=M.params[0]||1;let O;return(M.length<2||(O=M.params[1])>this._bufferService.rows||O===0)&&(O=this._bufferService.rows),O>P&&(this._activeBuffer.scrollTop=P-1,this._activeBuffer.scrollBottom=O-1,this._setCursor(0,0)),!0}windowOptions(M){if(!X(M.params[0],this._optionsService.rawOptions.windowOptions))return!0;const P=M.length>1?M.params[1]:0;switch(M.params[0]){case 14:P!==2&&this._onRequestWindowsOptionsReport.fire(D.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(D.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${p.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:P!==0&&P!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),P!==0&&P!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:P!==0&&P!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),P!==0&&P!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(M){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(M){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(M){return this._windowTitle=M,this._onTitleChange.fire(M),!0}setIconName(M){return this._iconName=M,!0}setOrReportIndexedColor(M){const P=[],O=M.split(";");for(;O.length>1;){const U=O.shift(),Z=O.shift();if(/^\d+$/.exec(U)){const re=parseInt(U);if(Q(re))if(Z==="?")P.push({type:0,index:re});else{const le=(0,I.parseColor)(Z);le&&P.push({type:1,index:re,color:le})}}}return P.length&&this._onColor.fire(P),!0}setHyperlink(M){const P=M.split(";");return!(P.length<2)&&(P[1]?this._createHyperlink(P[0],P[1]):!P[0]&&this._finishHyperlink())}_createHyperlink(M,P){this._getCurrentLinkId()&&this._finishHyperlink();const O=M.split(":");let U;const Z=O.findIndex(re=>re.startsWith("id="));return Z!==-1&&(U=O[Z].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:U,uri:P}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(M,P){const O=M.split(";");for(let U=0;U<O.length&&!(P>=this._specialColors.length);++U,++P)if(O[U]==="?")this._onColor.fire([{type:0,index:this._specialColors[P]}]);else{const Z=(0,I.parseColor)(O[U]);Z&&this._onColor.fire([{type:1,index:this._specialColors[P],color:Z}])}return!0}setOrReportFgColor(M){return this._setOrReportSpecialColor(M,0)}setOrReportBgColor(M){return this._setOrReportSpecialColor(M,1)}setOrReportCursorColor(M){return this._setOrReportSpecialColor(M,2)}restoreIndexedColor(M){if(!M)return this._onColor.fire([{type:2}]),!0;const P=[],O=M.split(";");for(let U=0;U<O.length;++U)if(/^\d+$/.exec(O[U])){const Z=parseInt(O[U]);Q(Z)&&P.push({type:2,index:Z})}return P.length&&this._onColor.fire(P),!0}restoreFgColor(M){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(M){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(M){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,m.DEFAULT_CHARSET),!0}selectCharset(M){return M.length!==2?(this.selectDefaultCharset(),!0):(M[0]==="/"||this._charsetService.setgCharset(j[M[0]],m.CHARSETS[M[1]]||m.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const M=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,M,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=v.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(M){return this._charsetService.setgLevel(M),!0}screenAlignmentPattern(){const M=new f.CellData;M.content=4194373,M.fg=this._curAttrData.fg,M.bg=this._curAttrData.bg,this._setCursor(0,0);for(let P=0;P<this._bufferService.rows;++P){const O=this._activeBuffer.ybase+this._activeBuffer.y+P,U=this._activeBuffer.lines.get(O);U&&(U.fill(M),U.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(M,P){const O=this._bufferService.buffer,U=this._optionsService.rawOptions;return(Z=>(this._coreService.triggerDataEvent(`${p.C0.ESC}${Z}${p.C0.ESC}\\`),!0))(M==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:M==='"p'?'P1$r61;1"p':M==="r"?`P1$r${O.scrollTop+1};${O.scrollBottom+1}r`:M==="m"?"P1$r0m":M===" q"?`P1$r${{block:2,underline:4,bar:6}[U.cursorStyle]-(U.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(M,P){this._dirtyRowTracker.markRangeDirty(M,P)}}o.InputHandler=N;let W=class{constructor(z){this._bufferService=z,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(z){z<this.start?this.start=z:z>this.end&&(this.end=z)}markRangeDirty(z,M){z>M&&($=z,z=M,M=$),z<this.start&&(this.start=z),M>this.end&&(this.end=M)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function Q(z){return 0<=z&&z<256}W=h([g(0,b.IBufferService)],W)},844:(a,o)=>{function l(h){for(const g of h)g.dispose();h.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const g=this._disposables.indexOf(h);g!==-1&&this._disposables.splice(g,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){this._isDisposed||h===this._value||(this._value?.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},o.toDisposable=function(h){return{dispose:h}},o.disposeArray=l,o.getDisposeArrayDisposable=function(h){return{dispose:()=>l(h)}}},1505:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(g,p,m){this._data[g]||(this._data[g]={}),this._data[g][p]=m}get(g,p){return this._data[g]?this._data[g][p]:void 0}clear(){this._data={}}}o.TwoKeyMap=l,o.FourKeyMap=class{constructor(){this._data=new l}set(h,g,p,m,w){this._data.get(h,g)||this._data.set(h,g,new l),this._data.get(h,g).set(p,m,w)}get(h,g,p,m){return this._data.get(h,g)?.get(p,m)}clear(){this._data.clear()}}},6114:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof wl<"u"&&"title"in wl;const l=o.isNode?"node":navigator.userAgent,h=o.isNode?"node":navigator.platform;o.isFirefox=l.includes("Firefox"),o.isLegacyEdge=l.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(l),o.getSafariVersion=function(){if(!o.isSafari)return 0;const g=l.match(/Version\/(\d+)/);return g===null||g.length<2?0:parseInt(g[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),o.isIpad=h==="iPad",o.isIphone=h==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),o.isLinux=h.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(l)},6106:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let l=0;o.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(l=this._search(this._getKey(h)),this._array.splice(l,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;const g=this._getKey(h);if(g===void 0||(l=this._search(g),l===-1)||this._getKey(this._array[l])!==g)return!1;do if(this._array[l]===h)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===g);return!1}*getKeyIterator(h){if(this._array.length!==0&&(l=this._search(h),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===h))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===h)}forEachByKey(h,g){if(this._array.length!==0&&(l=this._search(h),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===h))do g(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===h)}values(){return[...this._array].values()}_search(h){let g=0,p=this._array.length-1;for(;p>=g;){let m=g+p>>1;const w=this._getKey(this._array[m]);if(w>h)p=m-1;else{if(!(w<h)){for(;m>0&&this._getKey(this._array[m-1])===h;)m--;return m}g=m+1}}return g}}},7226:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const h=l(6114);class g{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let C=0,y=0,v=w.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(C=Date.now(),this._tasks[this._i]()||this._i++,C=Math.max(1,Date.now()-C),y=Math.max(C,y),d=w.timeRemaining(),1.5*y>d)return v-C<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(v-C))}ms`),void this._start();v=d}this.clear()}}class p extends g{_requestCallback(w){return setTimeout(()=>w(this._createDeadline(16)))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const C=Date.now()+w;return{timeRemaining:()=>Math.max(0,C-Date.now())}}}o.PriorityTaskQueue=p,o.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends g{_requestCallback(m){return requestIdleCallback(m)}_cancelCallback(m){cancelIdleCallback(m)}}:p,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(m){this._queue.clear(),this._queue.enqueue(m)}flush(){this._queue.flush()}}},9282:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const h=l(643);o.updateWindowsModeWrappedState=function(g){const p=g.buffer.lines.get(g.buffer.ybase+g.buffer.y-1),m=p?.get(g.cols-1),w=g.buffer.lines.get(g.buffer.ybase+g.buffer.y);w&&m&&(w.isWrapped=m[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&m[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(p){return[p>>>16&255,p>>>8&255,255&p]}static fromColorRGB(p){return(255&p[0])<<16|(255&p[1])<<8|255&p[2]}clone(){const p=new l;return p.fg=this.fg,p.bg=this.bg,p.extended=this.extended.clone(),p}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}o.AttributeData=l;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(p){this._ext=p}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(p){this._ext&=-469762049,this._ext|=p<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(p){this._ext&=-67108864,this._ext|=67108863&p}get urlId(){return this._urlId}set urlId(p){this._urlId=p}get underlineVariantOffset(){const p=(3758096384&this._ext)>>29;return p<0?4294967288^p:p}set underlineVariantOffset(p){this._ext&=536870911,this._ext|=p<<29&3758096384}constructor(p=0,m=0){this._ext=0,this._urlId=0,this._ext=p,this._urlId=m}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=h},9092:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const h=l(6349),g=l(7226),p=l(3734),m=l(8437),w=l(4634),C=l(511),y=l(643),v=l(4863),d=l(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(c,f,_){this._hasScrollback=c,this._optionsService=f,this._bufferService=_,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=m.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=C.CellData.fromCharData([0,y.NULL_CELL_CHAR,y.NULL_CELL_WIDTH,y.NULL_CELL_CODE]),this._whitespaceCell=C.CellData.fromCharData([0,y.WHITESPACE_CELL_CHAR,y.WHITESPACE_CELL_WIDTH,y.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new g.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(c){return c?(this._nullCell.fg=c.fg,this._nullCell.bg=c.bg,this._nullCell.extended=c.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new p.ExtendedAttrs),this._nullCell}getWhitespaceCell(c){return c?(this._whitespaceCell.fg=c.fg,this._whitespaceCell.bg=c.bg,this._whitespaceCell.extended=c.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new p.ExtendedAttrs),this._whitespaceCell}getBlankLine(c,f){return new m.BufferLine(this._bufferService.cols,this.getNullCell(c),f)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const c=this.ybase+this.y-this.ydisp;return c>=0&&c<this._rows}_getCorrectBufferLength(c){if(!this._hasScrollback)return c;const f=c+this._optionsService.rawOptions.scrollback;return f>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:f}fillViewportRows(c){if(this.lines.length===0){c===void 0&&(c=m.DEFAULT_ATTR_DATA);let f=this._rows;for(;f--;)this.lines.push(this.getBlankLine(c))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(c,f){const _=this.getNullCell(m.DEFAULT_ATTR_DATA);let b=0;const R=this._getCorrectBufferLength(f);if(R>this.lines.maxLength&&(this.lines.maxLength=R),this.lines.length>0){if(this._cols<c)for(let x=0;x<this.lines.length;x++)b+=+this.lines.get(x).resize(c,_);let L=0;if(this._rows<f)for(let x=this._rows;x<f;x++)this.lines.length<f+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new m.BufferLine(c,_)):this.ybase>0&&this.lines.length<=this.ybase+this.y+L+1?(this.ybase--,L++,this.ydisp>0&&this.ydisp--):this.lines.push(new m.BufferLine(c,_)));else for(let x=this._rows;x>f;x--)this.lines.length>f+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(R<this.lines.maxLength){const x=this.lines.length-R;x>0&&(this.lines.trimStart(x),this.ybase=Math.max(this.ybase-x,0),this.ydisp=Math.max(this.ydisp-x,0),this.savedY=Math.max(this.savedY-x,0)),this.lines.maxLength=R}this.x=Math.min(this.x,c-1),this.y=Math.min(this.y,f-1),L&&(this.y+=L),this.savedX=Math.min(this.savedX,c-1),this.scrollTop=0}if(this.scrollBottom=f-1,this._isReflowEnabled&&(this._reflow(c,f),this._cols>c))for(let L=0;L<this.lines.length;L++)b+=+this.lines.get(L).resize(c,_);this._cols=c,this._rows=f,this._memoryCleanupQueue.clear(),b>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let c=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,c=!1);let f=0;for(;this._memoryCleanupPosition<this.lines.length;)if(f+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),f>100)return!0;return c}get _isReflowEnabled(){const c=this._optionsService.rawOptions.windowsPty;return c&&c.buildNumber?this._hasScrollback&&c.backend==="conpty"&&c.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(c,f){this._cols!==c&&(c>this._cols?this._reflowLarger(c,f):this._reflowSmaller(c,f))}_reflowLarger(c,f){const _=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,c,this.ybase+this.y,this.getNullCell(m.DEFAULT_ATTR_DATA));if(_.length>0){const b=(0,w.reflowLargerCreateNewLayout)(this.lines,_);(0,w.reflowLargerApplyNewLayout)(this.lines,b.layout),this._reflowLargerAdjustViewport(c,f,b.countRemoved)}}_reflowLargerAdjustViewport(c,f,_){const b=this.getNullCell(m.DEFAULT_ATTR_DATA);let R=_;for(;R-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<f&&this.lines.push(new m.BufferLine(c,b))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-_,0)}_reflowSmaller(c,f){const _=this.getNullCell(m.DEFAULT_ATTR_DATA),b=[];let R=0;for(let L=this.lines.length-1;L>=0;L--){let x=this.lines.get(L);if(!x||!x.isWrapped&&x.getTrimmedLength()<=c)continue;const I=[x];for(;x.isWrapped&&L>0;)x=this.lines.get(--L),I.unshift(x);const j=this.ybase+this.y;if(j>=L&&j<L+I.length)continue;const G=I[I.length-1].getTrimmedLength(),X=(0,w.reflowSmallerGetNewLineLengths)(I,this._cols,c),D=X.length-I.length;let $;$=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+D):Math.max(0,this.lines.length-this.lines.maxLength+D);const N=[];for(let O=0;O<D;O++){const U=this.getBlankLine(m.DEFAULT_ATTR_DATA,!0);N.push(U)}N.length>0&&(b.push({start:L+I.length+R,newLines:N}),R+=N.length),I.push(...N);let W=X.length-1,Q=X[W];Q===0&&(W--,Q=X[W]);let z=I.length-D-1,M=G;for(;z>=0;){const O=Math.min(M,Q);if(I[W]===void 0)break;if(I[W].copyCellsFrom(I[z],M-O,Q-O,O,!0),Q-=O,Q===0&&(W--,Q=X[W]),M-=O,M===0){z--;const U=Math.max(z,0);M=(0,w.getWrappedLineTrimmedLength)(I,U,this._cols)}}for(let O=0;O<I.length;O++)X[O]<c&&I[O].setCell(X[O],_);let P=D-$;for(;P-- >0;)this.ybase===0?this.y<f-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+R)-f&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+D,this.ybase+f-1)}if(b.length>0){const L=[],x=[];for(let W=0;W<this.lines.length;W++)x.push(this.lines.get(W));const I=this.lines.length;let j=I-1,G=0,X=b[G];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+R);let D=0;for(let W=Math.min(this.lines.maxLength-1,I+R-1);W>=0;W--)if(X&&X.start>j+D){for(let Q=X.newLines.length-1;Q>=0;Q--)this.lines.set(W--,X.newLines[Q]);W++,L.push({index:j+1,amount:X.newLines.length}),D+=X.newLines.length,X=b[++G]}else this.lines.set(W,x[j--]);let $=0;for(let W=L.length-1;W>=0;W--)L[W].index+=$,this.lines.onInsertEmitter.fire(L[W]),$+=L[W].amount;const N=Math.max(0,I+R-this.lines.maxLength);N>0&&this.lines.onTrimEmitter.fire(N)}}translateBufferLineToString(c,f,_=0,b){const R=this.lines.get(c);return R?R.translateToString(f,_,b):""}getWrappedRangeForLine(c){let f=c,_=c;for(;f>0&&this.lines.get(f).isWrapped;)f--;for(;_+1<this.lines.length&&this.lines.get(_+1).isWrapped;)_++;return{first:f,last:_}}setupTabStops(c){for(c!=null?this.tabs[c]||(c=this.prevStop(c)):(this.tabs={},c=0);c<this._cols;c+=this._optionsService.rawOptions.tabStopWidth)this.tabs[c]=!0}prevStop(c){for(c==null&&(c=this.x);!this.tabs[--c]&&c>0;);return c>=this._cols?this._cols-1:c<0?0:c}nextStop(c){for(c==null&&(c=this.x);!this.tabs[++c]&&c<this._cols;);return c>=this._cols?this._cols-1:c<0?0:c}clearMarkers(c){this._isClearing=!0;for(let f=0;f<this.markers.length;f++)this.markers[f].line===c&&(this.markers[f].dispose(),this.markers.splice(f--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let c=0;c<this.markers.length;c++)this.markers[c].dispose(),this.markers.splice(c--,1);this._isClearing=!1}addMarker(c){const f=new v.Marker(c);return this.markers.push(f),f.register(this.lines.onTrim(_=>{f.line-=_,f.line<0&&f.dispose()})),f.register(this.lines.onInsert(_=>{f.line>=_.index&&(f.line+=_.amount)})),f.register(this.lines.onDelete(_=>{f.line>=_.index&&f.line<_.index+_.amount&&f.dispose(),f.line>_.index&&(f.line-=_.amount)})),f.register(f.onDispose(()=>this._removeMarker(f))),f}_removeMarker(c){this._isClearing||this.markers.splice(this.markers.indexOf(c),1)}}},8437:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const h=l(3734),g=l(511),p=l(643),m=l(482);o.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);let w=0;class C{constructor(v,d,c=!1){this.isWrapped=c,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*v);const f=d||g.CellData.fromCharData([0,p.NULL_CELL_CHAR,p.NULL_CELL_WIDTH,p.NULL_CELL_CODE]);for(let _=0;_<v;++_)this.setCell(_,f);this.length=v}get(v){const d=this._data[3*v+0],c=2097151&d;return[this._data[3*v+1],2097152&d?this._combined[v]:c?(0,m.stringFromCodePoint)(c):"",d>>22,2097152&d?this._combined[v].charCodeAt(this._combined[v].length-1):c]}set(v,d){this._data[3*v+1]=d[p.CHAR_DATA_ATTR_INDEX],d[p.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[v]=d[1],this._data[3*v+0]=2097152|v|d[p.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*v+0]=d[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[p.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(v){return this._data[3*v+0]>>22}hasWidth(v){return 12582912&this._data[3*v+0]}getFg(v){return this._data[3*v+1]}getBg(v){return this._data[3*v+2]}hasContent(v){return 4194303&this._data[3*v+0]}getCodePoint(v){const d=this._data[3*v+0];return 2097152&d?this._combined[v].charCodeAt(this._combined[v].length-1):2097151&d}isCombined(v){return 2097152&this._data[3*v+0]}getString(v){const d=this._data[3*v+0];return 2097152&d?this._combined[v]:2097151&d?(0,m.stringFromCodePoint)(2097151&d):""}isProtected(v){return 536870912&this._data[3*v+2]}loadCell(v,d){return w=3*v,d.content=this._data[w+0],d.fg=this._data[w+1],d.bg=this._data[w+2],2097152&d.content&&(d.combinedData=this._combined[v]),268435456&d.bg&&(d.extended=this._extendedAttrs[v]),d}setCell(v,d){2097152&d.content&&(this._combined[v]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[v]=d.extended),this._data[3*v+0]=d.content,this._data[3*v+1]=d.fg,this._data[3*v+2]=d.bg}setCellFromCodepoint(v,d,c,f){268435456&f.bg&&(this._extendedAttrs[v]=f.extended),this._data[3*v+0]=d|c<<22,this._data[3*v+1]=f.fg,this._data[3*v+2]=f.bg}addCodepointToCell(v,d,c){let f=this._data[3*v+0];2097152&f?this._combined[v]+=(0,m.stringFromCodePoint)(d):2097151&f?(this._combined[v]=(0,m.stringFromCodePoint)(2097151&f)+(0,m.stringFromCodePoint)(d),f&=-2097152,f|=2097152):f=d|4194304,c&&(f&=-12582913,f|=c<<22),this._data[3*v+0]=f}insertCells(v,d,c){if((v%=this.length)&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,c),d<this.length-v){const f=new g.CellData;for(let _=this.length-v-d-1;_>=0;--_)this.setCell(v+d+_,this.loadCell(v+_,f));for(let _=0;_<d;++_)this.setCell(v+_,c)}else for(let f=v;f<this.length;++f)this.setCell(f,c);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,c)}deleteCells(v,d,c){if(v%=this.length,d<this.length-v){const f=new g.CellData;for(let _=0;_<this.length-v-d;++_)this.setCell(v+_,this.loadCell(v+d+_,f));for(let _=this.length-d;_<this.length;++_)this.setCell(_,c)}else for(let f=v;f<this.length;++f)this.setCell(f,c);v&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,c),this.getWidth(v)!==0||this.hasContent(v)||this.setCellFromCodepoint(v,0,1,c)}replaceCells(v,d,c,f=!1){if(f)for(v&&this.getWidth(v-1)===2&&!this.isProtected(v-1)&&this.setCellFromCodepoint(v-1,0,1,c),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodepoint(d,0,1,c);v<d&&v<this.length;)this.isProtected(v)||this.setCell(v,c),v++;else for(v&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,c),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodepoint(d,0,1,c);v<d&&v<this.length;)this.setCell(v++,c)}resize(v,d){if(v===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const c=3*v;if(v>this.length){if(this._data.buffer.byteLength>=4*c)this._data=new Uint32Array(this._data.buffer,0,c);else{const f=new Uint32Array(c);f.set(this._data),this._data=f}for(let f=this.length;f<v;++f)this.setCell(f,d)}else{this._data=this._data.subarray(0,c);const f=Object.keys(this._combined);for(let b=0;b<f.length;b++){const R=parseInt(f[b],10);R>=v&&delete this._combined[R]}const _=Object.keys(this._extendedAttrs);for(let b=0;b<_.length;b++){const R=parseInt(_[b],10);R>=v&&delete this._extendedAttrs[R]}}return this.length=v,4*c*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const v=new Uint32Array(this._data.length);return v.set(this._data),this._data=v,1}return 0}fill(v,d=!1){if(d)for(let c=0;c<this.length;++c)this.isProtected(c)||this.setCell(c,v);else{this._combined={},this._extendedAttrs={};for(let c=0;c<this.length;++c)this.setCell(c,v)}}copyFrom(v){this.length!==v.length?this._data=new Uint32Array(v._data):this._data.set(v._data),this.length=v.length,this._combined={};for(const d in v._combined)this._combined[d]=v._combined[d];this._extendedAttrs={};for(const d in v._extendedAttrs)this._extendedAttrs[d]=v._extendedAttrs[d];this.isWrapped=v.isWrapped}clone(){const v=new C(0);v._data=new Uint32Array(this._data),v.length=this.length;for(const d in this._combined)v._combined[d]=this._combined[d];for(const d in this._extendedAttrs)v._extendedAttrs[d]=this._extendedAttrs[d];return v.isWrapped=this.isWrapped,v}getTrimmedLength(){for(let v=this.length-1;v>=0;--v)if(4194303&this._data[3*v+0])return v+(this._data[3*v+0]>>22);return 0}getNoBgTrimmedLength(){for(let v=this.length-1;v>=0;--v)if(4194303&this._data[3*v+0]||50331648&this._data[3*v+2])return v+(this._data[3*v+0]>>22);return 0}copyCellsFrom(v,d,c,f,_){const b=v._data;if(_)for(let L=f-1;L>=0;L--){for(let x=0;x<3;x++)this._data[3*(c+L)+x]=b[3*(d+L)+x];268435456&b[3*(d+L)+2]&&(this._extendedAttrs[c+L]=v._extendedAttrs[d+L])}else for(let L=0;L<f;L++){for(let x=0;x<3;x++)this._data[3*(c+L)+x]=b[3*(d+L)+x];268435456&b[3*(d+L)+2]&&(this._extendedAttrs[c+L]=v._extendedAttrs[d+L])}const R=Object.keys(v._combined);for(let L=0;L<R.length;L++){const x=parseInt(R[L],10);x>=d&&(this._combined[x-d+c]=v._combined[x])}}translateToString(v,d,c,f){d=d??0,c=c??this.length,v&&(c=Math.min(c,this.getTrimmedLength())),f&&(f.length=0);let _="";for(;d<c;){const b=this._data[3*d+0],R=2097151&b,L=2097152&b?this._combined[d]:R?(0,m.stringFromCodePoint)(R):p.WHITESPACE_CELL_CHAR;if(_+=L,f)for(let x=0;x<L.length;++x)f.push(d);d+=b>>22||1}return f&&f.push(d),_}}o.BufferLine=C},4841:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(l,h){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return h*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(a,o)=>{function l(h,g,p){if(g===h.length-1)return h[g].getTrimmedLength();const m=!h[g].hasContent(p-1)&&h[g].getWidth(p-1)===1,w=h[g+1].getWidth(0)===2;return m&&w?p-1:p}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(h,g,p,m,w){const C=[];for(let y=0;y<h.length-1;y++){let v=y,d=h.get(++v);if(!d.isWrapped)continue;const c=[h.get(y)];for(;v<h.length&&d.isWrapped;)c.push(d),d=h.get(++v);if(m>=y&&m<v){y+=c.length-1;continue}let f=0,_=l(c,f,g),b=1,R=0;for(;b<c.length;){const x=l(c,b,g),I=x-R,j=p-_,G=Math.min(I,j);c[f].copyCellsFrom(c[b],R,_,G,!1),_+=G,_===p&&(f++,_=0),R+=G,R===x&&(b++,R=0),_===0&&f!==0&&c[f-1].getWidth(p-1)===2&&(c[f].copyCellsFrom(c[f-1],p-1,_++,1,!1),c[f-1].setCell(p-1,w))}c[f].replaceCells(_,p,w);let L=0;for(let x=c.length-1;x>0&&(x>f||c[x].getTrimmedLength()===0);x--)L++;L>0&&(C.push(y+c.length-L),C.push(L)),y+=c.length-1}return C},o.reflowLargerCreateNewLayout=function(h,g){const p=[];let m=0,w=g[m],C=0;for(let y=0;y<h.length;y++)if(w===y){const v=g[++m];h.onDeleteEmitter.fire({index:y-C,amount:v}),y+=v-1,C+=v,w=g[++m]}else p.push(y);return{layout:p,countRemoved:C}},o.reflowLargerApplyNewLayout=function(h,g){const p=[];for(let m=0;m<g.length;m++)p.push(h.get(g[m]));for(let m=0;m<p.length;m++)h.set(m,p[m]);h.length=g.length},o.reflowSmallerGetNewLineLengths=function(h,g,p){const m=[],w=h.map((d,c)=>l(h,c,g)).reduce((d,c)=>d+c);let C=0,y=0,v=0;for(;v<w;){if(w-v<p){m.push(w-v);break}C+=p;const d=l(h,y,g);C>d&&(C-=d,y++);const c=h[y].getWidth(C-1)===2;c&&C--;const f=c?p-1:p;m.push(f),v+=f}return m},o.getWrappedLineTrimmedLength=l},5295:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const h=l(8460),g=l(844),p=l(9092);class m extends g.Disposable{constructor(C,y){super(),this._optionsService=C,this._bufferService=y,this._onBufferActivate=this.register(new h.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new p.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new p.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(C){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(C),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(C,y){this._normal.resize(C,y),this._alt.resize(C,y),this.setupTabStops(C)}setupTabStops(C){this._normal.setupTabStops(C),this._alt.setupTabStops(C)}}o.BufferSet=m},511:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const h=l(482),g=l(643),p=l(3734);class m extends p.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new p.ExtendedAttrs,this.combinedData=""}static fromCharData(C){const y=new m;return y.setFromCharData(C),y}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,h.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(C){this.fg=C[g.CHAR_DATA_ATTR_INDEX],this.bg=0;let y=!1;if(C[g.CHAR_DATA_CHAR_INDEX].length>2)y=!0;else if(C[g.CHAR_DATA_CHAR_INDEX].length===2){const v=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=v&&v<=56319){const d=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(v-55296)+d-56320+65536|C[g.CHAR_DATA_WIDTH_INDEX]<<22:y=!0}else y=!0}else this.content=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[g.CHAR_DATA_WIDTH_INDEX]<<22;y&&(this.combinedData=C[g.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[g.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=m},643:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const h=l(8460),g=l(844);class p{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=p._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,g.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}o.Marker=p,p._nextId=1},7116:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},o.CHARSETS.A={"#":""},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},o.CHARSETS.C=o.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.E=o.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},o.CHARSETS.H=o.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(a,o)=>{var l,h,g;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,function(p){p.NUL="\0",p.SOH="",p.STX="",p.ETX="",p.EOT="",p.ENQ="",p.ACK="",p.BEL="\x07",p.BS="\b",p.HT="	",p.LF=`
`,p.VT="\v",p.FF="\f",p.CR="\r",p.SO="",p.SI="",p.DLE="",p.DC1="",p.DC2="",p.DC3="",p.DC4="",p.NAK="",p.SYN="",p.ETB="",p.CAN="",p.EM="",p.SUB="",p.ESC="\x1B",p.FS="",p.GS="",p.RS="",p.US="",p.SP=" ",p.DEL=""}(l||(o.C0=l={})),function(p){p.PAD="",p.HOP="",p.BPH="",p.NBH="",p.IND="",p.NEL="",p.SSA="",p.ESA="",p.HTS="",p.HTJ="",p.VTS="",p.PLD="",p.PLU="",p.RI="",p.SS2="",p.SS3="",p.DCS="",p.PU1="",p.PU2="",p.STS="",p.CCH="",p.MW="",p.SPA="",p.EPA="",p.SOS="",p.SGCI="",p.SCI="",p.CSI="",p.ST="",p.OSC="",p.PM="",p.APC=""}(h||(o.C1=h={})),function(p){p.ST=`${l.ESC}\\`}(g||(o.C1_ESCAPED=g={}))},7399:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const h=l(2584),g={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(p,m,w,C){const y={type:0,cancel:!1,key:void 0},v=(p.shiftKey?1:0)|(p.altKey?2:0)|(p.ctrlKey?4:0)|(p.metaKey?8:0);switch(p.keyCode){case 0:p.key==="UIKeyInputUpArrow"?y.key=m?h.C0.ESC+"OA":h.C0.ESC+"[A":p.key==="UIKeyInputLeftArrow"?y.key=m?h.C0.ESC+"OD":h.C0.ESC+"[D":p.key==="UIKeyInputRightArrow"?y.key=m?h.C0.ESC+"OC":h.C0.ESC+"[C":p.key==="UIKeyInputDownArrow"&&(y.key=m?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:y.key=p.ctrlKey?"\b":h.C0.DEL,p.altKey&&(y.key=h.C0.ESC+y.key);break;case 9:if(p.shiftKey){y.key=h.C0.ESC+"[Z";break}y.key=h.C0.HT,y.cancel=!0;break;case 13:y.key=p.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,y.cancel=!0;break;case 27:y.key=h.C0.ESC,p.altKey&&(y.key=h.C0.ESC+h.C0.ESC),y.cancel=!0;break;case 37:if(p.metaKey)break;v?(y.key=h.C0.ESC+"[1;"+(v+1)+"D",y.key===h.C0.ESC+"[1;3D"&&(y.key=h.C0.ESC+(w?"b":"[1;5D"))):y.key=m?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(p.metaKey)break;v?(y.key=h.C0.ESC+"[1;"+(v+1)+"C",y.key===h.C0.ESC+"[1;3C"&&(y.key=h.C0.ESC+(w?"f":"[1;5C"))):y.key=m?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(p.metaKey)break;v?(y.key=h.C0.ESC+"[1;"+(v+1)+"A",w||y.key!==h.C0.ESC+"[1;3A"||(y.key=h.C0.ESC+"[1;5A")):y.key=m?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(p.metaKey)break;v?(y.key=h.C0.ESC+"[1;"+(v+1)+"B",w||y.key!==h.C0.ESC+"[1;3B"||(y.key=h.C0.ESC+"[1;5B")):y.key=m?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:p.shiftKey||p.ctrlKey||(y.key=h.C0.ESC+"[2~");break;case 46:y.key=v?h.C0.ESC+"[3;"+(v+1)+"~":h.C0.ESC+"[3~";break;case 36:y.key=v?h.C0.ESC+"[1;"+(v+1)+"H":m?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:y.key=v?h.C0.ESC+"[1;"+(v+1)+"F":m?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:p.shiftKey?y.type=2:p.ctrlKey?y.key=h.C0.ESC+"[5;"+(v+1)+"~":y.key=h.C0.ESC+"[5~";break;case 34:p.shiftKey?y.type=3:p.ctrlKey?y.key=h.C0.ESC+"[6;"+(v+1)+"~":y.key=h.C0.ESC+"[6~";break;case 112:y.key=v?h.C0.ESC+"[1;"+(v+1)+"P":h.C0.ESC+"OP";break;case 113:y.key=v?h.C0.ESC+"[1;"+(v+1)+"Q":h.C0.ESC+"OQ";break;case 114:y.key=v?h.C0.ESC+"[1;"+(v+1)+"R":h.C0.ESC+"OR";break;case 115:y.key=v?h.C0.ESC+"[1;"+(v+1)+"S":h.C0.ESC+"OS";break;case 116:y.key=v?h.C0.ESC+"[15;"+(v+1)+"~":h.C0.ESC+"[15~";break;case 117:y.key=v?h.C0.ESC+"[17;"+(v+1)+"~":h.C0.ESC+"[17~";break;case 118:y.key=v?h.C0.ESC+"[18;"+(v+1)+"~":h.C0.ESC+"[18~";break;case 119:y.key=v?h.C0.ESC+"[19;"+(v+1)+"~":h.C0.ESC+"[19~";break;case 120:y.key=v?h.C0.ESC+"[20;"+(v+1)+"~":h.C0.ESC+"[20~";break;case 121:y.key=v?h.C0.ESC+"[21;"+(v+1)+"~":h.C0.ESC+"[21~";break;case 122:y.key=v?h.C0.ESC+"[23;"+(v+1)+"~":h.C0.ESC+"[23~";break;case 123:y.key=v?h.C0.ESC+"[24;"+(v+1)+"~":h.C0.ESC+"[24~";break;default:if(!p.ctrlKey||p.shiftKey||p.altKey||p.metaKey)if(w&&!C||!p.altKey||p.metaKey)!w||p.altKey||p.ctrlKey||p.shiftKey||!p.metaKey?p.key&&!p.ctrlKey&&!p.altKey&&!p.metaKey&&p.keyCode>=48&&p.key.length===1?y.key=p.key:p.key&&p.ctrlKey&&(p.key==="_"&&(y.key=h.C0.US),p.key==="@"&&(y.key=h.C0.NUL)):p.keyCode===65&&(y.type=1);else{const d=g[p.keyCode],c=d?.[p.shiftKey?1:0];if(c)y.key=h.C0.ESC+c;else if(p.keyCode>=65&&p.keyCode<=90){const f=p.ctrlKey?p.keyCode-64:p.keyCode+32;let _=String.fromCharCode(f);p.shiftKey&&(_=_.toUpperCase()),y.key=h.C0.ESC+_}else if(p.keyCode===32)y.key=h.C0.ESC+(p.ctrlKey?h.C0.NUL:" ");else if(p.key==="Dead"&&p.code.startsWith("Key")){let f=p.code.slice(3,4);p.shiftKey||(f=f.toLowerCase()),y.key=h.C0.ESC+f,y.cancel=!0}}else p.keyCode>=65&&p.keyCode<=90?y.key=String.fromCharCode(p.keyCode-64):p.keyCode===32?y.key=h.C0.NUL:p.keyCode>=51&&p.keyCode<=55?y.key=String.fromCharCode(p.keyCode-51+27):p.keyCode===56?y.key=h.C0.DEL:p.keyCode===219?y.key=h.C0.ESC:p.keyCode===220?y.key=h.C0.FS:p.keyCode===221&&(y.key=h.C0.GS)}return y}},482:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},o.utf32ToString=function(l,h=0,g=l.length){let p="";for(let m=h;m<g;++m){let w=l[m];w>65535?(w-=65536,p+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):p+=String.fromCharCode(w)}return p},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,h){const g=l.length;if(!g)return 0;let p=0,m=0;if(this._interim){const w=l.charCodeAt(m++);56320<=w&&w<=57343?h[p++]=1024*(this._interim-55296)+w-56320+65536:(h[p++]=this._interim,h[p++]=w),this._interim=0}for(let w=m;w<g;++w){const C=l.charCodeAt(w);if(55296<=C&&C<=56319){if(++w>=g)return this._interim=C,p;const y=l.charCodeAt(w);56320<=y&&y<=57343?h[p++]=1024*(C-55296)+y-56320+65536:(h[p++]=C,h[p++]=y)}else C!==65279&&(h[p++]=C)}return p}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,h){const g=l.length;if(!g)return 0;let p,m,w,C,y=0,v=0,d=0;if(this.interim[0]){let _=!1,b=this.interim[0];b&=(224&b)==192?31:(240&b)==224?15:7;let R,L=0;for(;(R=63&this.interim[++L])&&L<4;)b<<=6,b|=R;const x=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,I=x-L;for(;d<I;){if(d>=g)return 0;if(R=l[d++],(192&R)!=128){d--,_=!0;break}this.interim[L++]=R,b<<=6,b|=63&R}_||(x===2?b<128?d--:h[y++]=b:x===3?b<2048||b>=55296&&b<=57343||b===65279||(h[y++]=b):b<65536||b>1114111||(h[y++]=b)),this.interim.fill(0)}const c=g-4;let f=d;for(;f<g;){for(;!(!(f<c)||128&(p=l[f])||128&(m=l[f+1])||128&(w=l[f+2])||128&(C=l[f+3]));)h[y++]=p,h[y++]=m,h[y++]=w,h[y++]=C,f+=4;if(p=l[f++],p<128)h[y++]=p;else if((224&p)==192){if(f>=g)return this.interim[0]=p,y;if(m=l[f++],(192&m)!=128){f--;continue}if(v=(31&p)<<6|63&m,v<128){f--;continue}h[y++]=v}else if((240&p)==224){if(f>=g)return this.interim[0]=p,y;if(m=l[f++],(192&m)!=128){f--;continue}if(f>=g)return this.interim[0]=p,this.interim[1]=m,y;if(w=l[f++],(192&w)!=128){f--;continue}if(v=(15&p)<<12|(63&m)<<6|63&w,v<2048||v>=55296&&v<=57343||v===65279)continue;h[y++]=v}else if((248&p)==240){if(f>=g)return this.interim[0]=p,y;if(m=l[f++],(192&m)!=128){f--;continue}if(f>=g)return this.interim[0]=p,this.interim[1]=m,y;if(w=l[f++],(192&w)!=128){f--;continue}if(f>=g)return this.interim[0]=p,this.interim[1]=m,this.interim[2]=w,y;if(C=l[f++],(192&C)!=128){f--;continue}if(v=(7&p)<<18|(63&m)<<12|(63&w)<<6|63&C,v<65536||v>1114111)continue;h[y++]=v}}return y}}},225:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const h=l(1480),g=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],p=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let m;o.UnicodeV6=class{constructor(){if(this.version="6",!m){m=new Uint8Array(65536),m.fill(1),m[0]=0,m.fill(0,1,32),m.fill(0,127,160),m.fill(2,4352,4448),m[9001]=2,m[9002]=2,m.fill(2,11904,42192),m[12351]=1,m.fill(2,44032,55204),m.fill(2,63744,64256),m.fill(2,65040,65050),m.fill(2,65072,65136),m.fill(2,65280,65377),m.fill(2,65504,65511);for(let w=0;w<g.length;++w)m.fill(0,g[w][0],g[w][1]+1)}}wcwidth(w){return w<32?0:w<127?1:w<65536?m[w]:function(C,y){let v,d=0,c=y.length-1;if(C<y[0][0]||C>y[c][1])return!1;for(;c>=d;)if(v=d+c>>1,C>y[v][1])d=v+1;else{if(!(C<y[v][0]))return!0;c=v-1}return!1}(w,p)?0:w>=131072&&w<=196605||w>=196608&&w<=262141?2:1}charProperties(w,C){let y=this.wcwidth(w),v=y===0&&C!==0;if(v){const d=h.UnicodeService.extractWidth(C);d===0?v=!1:d>y&&(y=d)}return h.UnicodeService.createPropertyValue(0,y,v)}}},5981:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const h=l(8460),g=l(844);class p extends g.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,C){if(C!==void 0&&this._syncCalls>C)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let y;for(this._isSyncWriting=!0;y=this._writeBuffer.shift();){this._action(y);const v=this._callbacks.shift();v&&v()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,C){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(C),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(C)}_innerWrite(w=0,C=!0){const y=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const v=this._writeBuffer[this._bufferOffset],d=this._action(v,C);if(d){const f=_=>Date.now()-y>=12?setTimeout(()=>this._innerWrite(0,_)):this._innerWrite(y,_);return void d.catch(_=>(queueMicrotask(()=>{throw _}),Promise.resolve(!1))).then(f)}const c=this._callbacks[this._bufferOffset];if(c&&c(),this._bufferOffset++,this._pendingData-=v.length,Date.now()-y>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=p},5941:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function g(p,m){const w=p.toString(16),C=w.length<2?"0"+w:w;switch(m){case 4:return w[0];case 8:return C;case 12:return(C+C).slice(0,3);default:return C+C}}o.parseColor=function(p){if(!p)return;let m=p.toLowerCase();if(m.indexOf("rgb:")===0){m=m.slice(4);const w=l.exec(m);if(w){const C=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/C*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/C*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/C*255)]}}else if(m.indexOf("#")===0&&(m=m.slice(1),h.exec(m)&&[3,6,9,12].includes(m.length))){const w=m.length/3,C=[0,0,0];for(let y=0;y<3;++y){const v=parseInt(m.slice(w*y,w*y+w),16);C[y]=w===1?v<<4:w===2?v:w===3?v>>4:v>>8}return C}},o.toRgbString=function(p,m=16){const[w,C,y]=p;return`rgb:${g(w,m)}/${g(C,m)}/${g(y,m)}`}},5770:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const h=l(482),g=l(8742),p=l(5770),m=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=m,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=m}registerHandler(C,y){this._handlers[C]===void 0&&(this._handlers[C]=[]);const v=this._handlers[C];return v.push(y),{dispose:()=>{const d=v.indexOf(y);d!==-1&&v.splice(d,1)}}}clearHandler(C){this._handlers[C]&&delete this._handlers[C]}setHandlerFallback(C){this._handlerFb=C}reset(){if(this._active.length)for(let C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=m,this._ident=0}hook(C,y){if(this.reset(),this._ident=C,this._active=this._handlers[C]||m,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].hook(y);else this._handlerFb(this._ident,"HOOK",y)}put(C,y,v){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(C,y,v);else this._handlerFb(this._ident,"PUT",(0,h.utf32ToString)(C,y,v))}unhook(C,y=!0){if(this._active.length){let v=!1,d=this._active.length-1,c=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,v=y,c=this._stack.fallThrough,this._stack.paused=!1),!c&&v===!1){for(;d>=0&&(v=this._active[d].unhook(C),v!==!0);d--)if(v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,v;d--}for(;d>=0;d--)if(v=this._active[d].unhook(!1),v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,v}else this._handlerFb(this._ident,"UNHOOK",C);this._active=m,this._ident=0}};const w=new g.Params;w.addParam(0),o.DcsHandler=class{constructor(C){this._handler=C,this._data="",this._params=w,this._hitLimit=!1}hook(C){this._params=C.length>1||C.params[0]?C.clone():w,this._data="",this._hitLimit=!1}put(C,y,v){this._hitLimit||(this._data+=(0,h.utf32ToString)(C,y,v),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(C){let y=!1;if(this._hitLimit)y=!1;else if(C&&(y=this._handler(this._data,this._params),y instanceof Promise))return y.then(v=>(this._params=w,this._data="",this._hitLimit=!1,v));return this._params=w,this._data="",this._hitLimit=!1,y}}},2015:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const h=l(844),g=l(8742),p=l(6242),m=l(6351);class w{constructor(d){this.table=new Uint8Array(d)}setDefault(d,c){this.table.fill(d<<4|c)}add(d,c,f,_){this.table[c<<8|d]=f<<4|_}addMany(d,c,f,_){for(let b=0;b<d.length;b++)this.table[c<<8|d[b]]=f<<4|_}}o.TransitionTable=w;const C=160;o.VT500_TRANSITION_TABLE=function(){const v=new w(4095),d=Array.apply(null,Array(256)).map((L,x)=>x),c=(L,x)=>d.slice(L,x),f=c(32,127),_=c(0,24);_.push(25),_.push.apply(_,c(28,32));const b=c(0,14);let R;for(R in v.setDefault(1,0),v.addMany(f,0,2,0),b)v.addMany([24,26,153,154],R,3,0),v.addMany(c(128,144),R,3,0),v.addMany(c(144,152),R,3,0),v.add(156,R,0,0),v.add(27,R,11,1),v.add(157,R,4,8),v.addMany([152,158,159],R,0,7),v.add(155,R,11,3),v.add(144,R,11,9);return v.addMany(_,0,3,0),v.addMany(_,1,3,1),v.add(127,1,0,1),v.addMany(_,8,0,8),v.addMany(_,3,3,3),v.add(127,3,0,3),v.addMany(_,4,3,4),v.add(127,4,0,4),v.addMany(_,6,3,6),v.addMany(_,5,3,5),v.add(127,5,0,5),v.addMany(_,2,3,2),v.add(127,2,0,2),v.add(93,1,4,8),v.addMany(f,8,5,8),v.add(127,8,5,8),v.addMany([156,27,24,26,7],8,6,0),v.addMany(c(28,32),8,0,8),v.addMany([88,94,95],1,0,7),v.addMany(f,7,0,7),v.addMany(_,7,0,7),v.add(156,7,0,0),v.add(127,7,0,7),v.add(91,1,11,3),v.addMany(c(64,127),3,7,0),v.addMany(c(48,60),3,8,4),v.addMany([60,61,62,63],3,9,4),v.addMany(c(48,60),4,8,4),v.addMany(c(64,127),4,7,0),v.addMany([60,61,62,63],4,0,6),v.addMany(c(32,64),6,0,6),v.add(127,6,0,6),v.addMany(c(64,127),6,0,0),v.addMany(c(32,48),3,9,5),v.addMany(c(32,48),5,9,5),v.addMany(c(48,64),5,0,6),v.addMany(c(64,127),5,7,0),v.addMany(c(32,48),4,9,5),v.addMany(c(32,48),1,9,2),v.addMany(c(32,48),2,9,2),v.addMany(c(48,127),2,10,0),v.addMany(c(48,80),1,10,0),v.addMany(c(81,88),1,10,0),v.addMany([89,90,92],1,10,0),v.addMany(c(96,127),1,10,0),v.add(80,1,11,9),v.addMany(_,9,0,9),v.add(127,9,0,9),v.addMany(c(28,32),9,0,9),v.addMany(c(32,48),9,9,12),v.addMany(c(48,60),9,8,10),v.addMany([60,61,62,63],9,9,10),v.addMany(_,11,0,11),v.addMany(c(32,128),11,0,11),v.addMany(c(28,32),11,0,11),v.addMany(_,10,0,10),v.add(127,10,0,10),v.addMany(c(28,32),10,0,10),v.addMany(c(48,60),10,8,10),v.addMany([60,61,62,63],10,0,11),v.addMany(c(32,48),10,9,12),v.addMany(_,12,0,12),v.add(127,12,0,12),v.addMany(c(28,32),12,0,12),v.addMany(c(32,48),12,9,12),v.addMany(c(48,64),12,0,11),v.addMany(c(64,127),12,12,13),v.addMany(c(64,127),10,12,13),v.addMany(c(64,127),9,12,13),v.addMany(_,13,13,13),v.addMany(f,13,13,13),v.add(127,13,0,13),v.addMany([27,156,24,26],13,14,0),v.add(C,0,2,0),v.add(C,8,5,8),v.add(C,6,0,6),v.add(C,11,0,11),v.add(C,13,13,13),v}();class y extends h.Disposable{constructor(d=o.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new g.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(c,f,_)=>{},this._executeHandlerFb=c=>{},this._csiHandlerFb=(c,f)=>{},this._escHandlerFb=c=>{},this._errorHandlerFb=c=>c,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,h.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new p.OscParser),this._dcsParser=this.register(new m.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(d,c=[64,126]){let f=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(f=d.prefix.charCodeAt(0),f&&60>f||f>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let b=0;b<d.intermediates.length;++b){const R=d.intermediates.charCodeAt(b);if(32>R||R>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");f<<=8,f|=R}}if(d.final.length!==1)throw new Error("final must be a single byte");const _=d.final.charCodeAt(0);if(c[0]>_||_>c[1])throw new Error(`final must be in range ${c[0]} .. ${c[1]}`);return f<<=8,f|=_,f}identToString(d){const c=[];for(;d;)c.push(String.fromCharCode(255&d)),d>>=8;return c.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,c){const f=this._identifier(d,[48,126]);this._escHandlers[f]===void 0&&(this._escHandlers[f]=[]);const _=this._escHandlers[f];return _.push(c),{dispose:()=>{const b=_.indexOf(c);b!==-1&&_.splice(b,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,c){this._executeHandlers[d.charCodeAt(0)]=c}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,c){const f=this._identifier(d);this._csiHandlers[f]===void 0&&(this._csiHandlers[f]=[]);const _=this._csiHandlers[f];return _.push(c),{dispose:()=>{const b=_.indexOf(c);b!==-1&&_.splice(b,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,c){return this._dcsParser.registerHandler(this._identifier(d),c)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,c){return this._oscParser.registerHandler(d,c)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,c,f,_,b){this._parseStack.state=d,this._parseStack.handlers=c,this._parseStack.handlerPos=f,this._parseStack.transition=_,this._parseStack.chunkPos=b}parse(d,c,f){let _,b=0,R=0,L=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,L=this._parseStack.chunkPos+1;else{if(f===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const x=this._parseStack.handlers;let I=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(f===!1&&I>-1){for(;I>=0&&(_=x[I](this._params),_!==!0);I--)if(_ instanceof Promise)return this._parseStack.handlerPos=I,_}this._parseStack.handlers=[];break;case 4:if(f===!1&&I>-1){for(;I>=0&&(_=x[I](),_!==!0);I--)if(_ instanceof Promise)return this._parseStack.handlerPos=I,_}this._parseStack.handlers=[];break;case 6:if(b=d[this._parseStack.chunkPos],_=this._dcsParser.unhook(b!==24&&b!==26,f),_)return _;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(b=d[this._parseStack.chunkPos],_=this._oscParser.end(b!==24&&b!==26,f),_)return _;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,L=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let x=L;x<c;++x){switch(b=d[x],R=this._transitions.table[this.currentState<<8|(b<160?b:C)],R>>4){case 2:for(let D=x+1;;++D){if(D>=c||(b=d[D])<32||b>126&&b<C){this._printHandler(d,x,D),x=D-1;break}if(++D>=c||(b=d[D])<32||b>126&&b<C){this._printHandler(d,x,D),x=D-1;break}if(++D>=c||(b=d[D])<32||b>126&&b<C){this._printHandler(d,x,D),x=D-1;break}if(++D>=c||(b=d[D])<32||b>126&&b<C){this._printHandler(d,x,D),x=D-1;break}}break;case 3:this._executeHandlers[b]?this._executeHandlers[b]():this._executeHandlerFb(b),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:x,code:b,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const I=this._csiHandlers[this._collect<<8|b];let j=I?I.length-1:-1;for(;j>=0&&(_=I[j](this._params),_!==!0);j--)if(_ instanceof Promise)return this._preserveStack(3,I,j,R,x),_;j<0&&this._csiHandlerFb(this._collect<<8|b,this._params),this.precedingJoinState=0;break;case 8:do switch(b){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(b-48)}while(++x<c&&(b=d[x])>47&&b<60);x--;break;case 9:this._collect<<=8,this._collect|=b;break;case 10:const G=this._escHandlers[this._collect<<8|b];let X=G?G.length-1:-1;for(;X>=0&&(_=G[X](),_!==!0);X--)if(_ instanceof Promise)return this._preserveStack(4,G,X,R,x),_;X<0&&this._escHandlerFb(this._collect<<8|b),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|b,this._params);break;case 13:for(let D=x+1;;++D)if(D>=c||(b=d[D])===24||b===26||b===27||b>127&&b<C){this._dcsParser.put(d,x,D),x=D-1;break}break;case 14:if(_=this._dcsParser.unhook(b!==24&&b!==26),_)return this._preserveStack(6,[],0,R,x),_;b===27&&(R|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let D=x+1;;D++)if(D>=c||(b=d[D])<32||b>127&&b<C){this._oscParser.put(d,x,D),x=D-1;break}break;case 6:if(_=this._oscParser.end(b!==24&&b!==26),_)return this._preserveStack(5,[],0,R,x),_;b===27&&(R|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&R}}}o.EscapeSequenceParser=y},6242:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const h=l(5770),g=l(482),p=[];o.OscParser=class{constructor(){this._state=0,this._active=p,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(m,w){this._handlers[m]===void 0&&(this._handlers[m]=[]);const C=this._handlers[m];return C.push(w),{dispose:()=>{const y=C.indexOf(w);y!==-1&&C.splice(y,1)}}}clearHandler(m){this._handlers[m]&&delete this._handlers[m]}setHandlerFallback(m){this._handlerFb=m}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}reset(){if(this._state===2)for(let m=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;m>=0;--m)this._active[m].end(!1);this._stack.paused=!1,this._active=p,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||p,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].start();else this._handlerFb(this._id,"START")}_put(m,w,C){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(m,w,C);else this._handlerFb(this._id,"PUT",(0,g.utf32ToString)(m,w,C))}start(){this.reset(),this._state=1}put(m,w,C){if(this._state!==3){if(this._state===1)for(;w<C;){const y=m[w++];if(y===59){this._state=2,this._start();break}if(y<48||57<y)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+y-48}this._state===2&&C-w>0&&this._put(m,w,C)}}end(m,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let C=!1,y=this._active.length-1,v=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,C=w,v=this._stack.fallThrough,this._stack.paused=!1),!v&&C===!1){for(;y>=0&&(C=this._active[y].end(m),C!==!0);y--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,C;y--}for(;y>=0;y--)if(C=this._active[y].end(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",m);this._active=p,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(m){this._handler=m,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(m,w,C){this._hitLimit||(this._data+=(0,g.utf32ToString)(m,w,C),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(m){let w=!1;if(this._hitLimit)w=!1;else if(m&&(w=this._handler(this._data),w instanceof Promise))return w.then(C=>(this._data="",this._hitLimit=!1,C));return this._data="",this._hitLimit=!1,w}}},8742:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const l=2147483647;class h{static fromArray(p){const m=new h;if(!p.length)return m;for(let w=Array.isArray(p[0])?1:0;w<p.length;++w){const C=p[w];if(Array.isArray(C))for(let y=0;y<C.length;++y)m.addSubParam(C[y]);else m.addParam(C)}return m}constructor(p=32,m=32){if(this.maxLength=p,this.maxSubParamsLength=m,m>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(p),this.length=0,this._subParams=new Int32Array(m),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(p),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const p=new h(this.maxLength,this.maxSubParamsLength);return p.params.set(this.params),p.length=this.length,p._subParams.set(this._subParams),p._subParamsLength=this._subParamsLength,p._subParamsIdx.set(this._subParamsIdx),p._rejectDigits=this._rejectDigits,p._rejectSubDigits=this._rejectSubDigits,p._digitIsSub=this._digitIsSub,p}toArray(){const p=[];for(let m=0;m<this.length;++m){p.push(this.params[m]);const w=this._subParamsIdx[m]>>8,C=255&this._subParamsIdx[m];C-w>0&&p.push(Array.prototype.slice.call(this._subParams,w,C))}return p}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(p){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=p>l?l:p}}addSubParam(p){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=p>l?l:p,this._subParamsIdx[this.length-1]++}}hasSubParams(p){return(255&this._subParamsIdx[p])-(this._subParamsIdx[p]>>8)>0}getSubParams(p){const m=this._subParamsIdx[p]>>8,w=255&this._subParamsIdx[p];return w-m>0?this._subParams.subarray(m,w):null}getSubParamsAll(){const p={};for(let m=0;m<this.length;++m){const w=this._subParamsIdx[m]>>8,C=255&this._subParamsIdx[m];C-w>0&&(p[m]=this._subParams.slice(w,C))}return p}addDigit(p){let m;if(this._rejectDigits||!(m=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,C=w[m-1];w[m-1]=~C?Math.min(10*C+p,l):p}}o.Params=h},5741:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,h){const g={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(g),h.dispose=()=>this._wrappedAddonDispose(g),h.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let h=-1;for(let g=0;g<this._addons.length;g++)if(this._addons[g]===l){h=g;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(h,1)}}},8771:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const h=l(3785),g=l(511);o.BufferApiView=class{constructor(p,m){this._buffer=p,this.type=m}init(p){return this._buffer=p,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(p){const m=this._buffer.lines.get(p);if(m)return new h.BufferLineApiView(m)}getNullCell(){return new g.CellData}}},3785:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const h=l(511);o.BufferLineApiView=class{constructor(g){this._line=g}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(g,p){if(!(g<0||g>=this._line.length))return p?(this._line.loadCell(g,p),p):this._line.loadCell(g,new h.CellData)}translateToString(g,p,m){return this._line.translateToString(g,p,m)}}},8285:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const h=l(8771),g=l(8460),p=l(844);class m extends p.Disposable{constructor(C){super(),this._core=C,this._onBufferChange=this.register(new g.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=m},7975:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,h){return this._core.registerCsiHandler(l,g=>h(g.toArray()))}addCsiHandler(l,h){return this.registerCsiHandler(l,h)}registerDcsHandler(l,h){return this._core.registerDcsHandler(l,(g,p)=>h(g,p.toArray()))}addDcsHandler(l,h){return this.registerDcsHandler(l,h)}registerEscHandler(l,h){return this._core.registerEscHandler(l,h)}addEscHandler(l,h){return this.registerEscHandler(l,h)}registerOscHandler(l,h){return this._core.registerOscHandler(l,h)}addOscHandler(l,h){return this.registerOscHandler(l,h)}}},7090:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(a,o,l){var h=this&&this.__decorate||function(v,d,c,f){var _,b=arguments.length,R=b<3?d:f===null?f=Object.getOwnPropertyDescriptor(d,c):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(v,d,c,f);else for(var L=v.length-1;L>=0;L--)(_=v[L])&&(R=(b<3?_(R):b>3?_(d,c,R):_(d,c))||R);return b>3&&R&&Object.defineProperty(d,c,R),R},g=this&&this.__param||function(v,d){return function(c,f){d(c,f,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const p=l(8460),m=l(844),w=l(5295),C=l(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let y=o.BufferService=class extends m.Disposable{get buffer(){return this.buffers.active}constructor(v){super(),this.isUserScrolling=!1,this._onResize=this.register(new p.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new p.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(v.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(v.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(v,this))}resize(v,d){this.cols=v,this.rows=d,this.buffers.resize(v,d),this._onResize.fire({cols:v,rows:d})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(v,d=!1){const c=this.buffer;let f;f=this._cachedBlankLine,f&&f.length===this.cols&&f.getFg(0)===v.fg&&f.getBg(0)===v.bg||(f=c.getBlankLine(v,d),this._cachedBlankLine=f),f.isWrapped=d;const _=c.ybase+c.scrollTop,b=c.ybase+c.scrollBottom;if(c.scrollTop===0){const R=c.lines.isFull;b===c.lines.length-1?R?c.lines.recycle().copyFrom(f):c.lines.push(f.clone()):c.lines.splice(b+1,0,f.clone()),R?this.isUserScrolling&&(c.ydisp=Math.max(c.ydisp-1,0)):(c.ybase++,this.isUserScrolling||c.ydisp++)}else{const R=b-_+1;c.lines.shiftElements(_+1,R-1,-1),c.lines.set(b,f.clone())}this.isUserScrolling||(c.ydisp=c.ybase),this._onScroll.fire(c.ydisp)}scrollLines(v,d,c){const f=this.buffer;if(v<0){if(f.ydisp===0)return;this.isUserScrolling=!0}else v+f.ydisp>=f.ybase&&(this.isUserScrolling=!1);const _=f.ydisp;f.ydisp=Math.max(Math.min(f.ydisp+v,f.ybase),0),_!==f.ydisp&&(d||this._onScroll.fire(f.ydisp))}};o.BufferService=y=h([g(0,C.IOptionsService)],y)},7994:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,h){this._charsets[l]=h,this.glevel===l&&(this.charset=h)}}},1753:function(a,o,l){var h=this&&this.__decorate||function(f,_,b,R){var L,x=arguments.length,I=x<3?_:R===null?R=Object.getOwnPropertyDescriptor(_,b):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(f,_,b,R);else for(var j=f.length-1;j>=0;j--)(L=f[j])&&(I=(x<3?L(I):x>3?L(_,b,I):L(_,b))||I);return x>3&&I&&Object.defineProperty(_,b,I),I},g=this&&this.__param||function(f,_){return function(b,R){_(b,R,f)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const p=l(2585),m=l(8460),w=l(844),C={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:f=>f.button!==4&&f.action===1&&(f.ctrl=!1,f.alt=!1,f.shift=!1,!0)},VT200:{events:19,restrict:f=>f.action!==32},DRAG:{events:23,restrict:f=>f.action!==32||f.button!==3},ANY:{events:31,restrict:f=>!0}};function y(f,_){let b=(f.ctrl?16:0)|(f.shift?4:0)|(f.alt?8:0);return f.button===4?(b|=64,b|=f.action):(b|=3&f.button,4&f.button&&(b|=64),8&f.button&&(b|=128),f.action===32?b|=32:f.action!==0||_||(b|=3)),b}const v=String.fromCharCode,d={DEFAULT:f=>{const _=[y(f,!1)+32,f.col+32,f.row+32];return _[0]>255||_[1]>255||_[2]>255?"":`\x1B[M${v(_[0])}${v(_[1])}${v(_[2])}`},SGR:f=>{const _=f.action===0&&f.button!==4?"m":"M";return`\x1B[<${y(f,!0)};${f.col};${f.row}${_}`},SGR_PIXELS:f=>{const _=f.action===0&&f.button!==4?"m":"M";return`\x1B[<${y(f,!0)};${f.x};${f.y}${_}`}};let c=o.CoreMouseService=class extends w.Disposable{constructor(f,_){super(),this._bufferService=f,this._coreService=_,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new m.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const b of Object.keys(C))this.addProtocol(b,C[b]);for(const b of Object.keys(d))this.addEncoding(b,d[b]);this.reset()}addProtocol(f,_){this._protocols[f]=_}addEncoding(f,_){this._encodings[f]=_}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(f){if(!this._protocols[f])throw new Error(`unknown protocol "${f}"`);this._activeProtocol=f,this._onProtocolChange.fire(this._protocols[f].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(f){if(!this._encodings[f])throw new Error(`unknown encoding "${f}"`);this._activeEncoding=f}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(f){if(f.col<0||f.col>=this._bufferService.cols||f.row<0||f.row>=this._bufferService.rows||f.button===4&&f.action===32||f.button===3&&f.action!==32||f.button!==4&&(f.action===2||f.action===3)||(f.col++,f.row++,f.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,f,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(f))return!1;const _=this._encodings[this._activeEncoding](f);return _&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(_):this._coreService.triggerDataEvent(_,!0)),this._lastEvent=f,!0}explainEvents(f){return{down:!!(1&f),up:!!(2&f),drag:!!(4&f),move:!!(8&f),wheel:!!(16&f)}}_equalEvents(f,_,b){if(b){if(f.x!==_.x||f.y!==_.y)return!1}else if(f.col!==_.col||f.row!==_.row)return!1;return f.button===_.button&&f.action===_.action&&f.ctrl===_.ctrl&&f.alt===_.alt&&f.shift===_.shift}};o.CoreMouseService=c=h([g(0,p.IBufferService),g(1,p.ICoreService)],c)},6975:function(a,o,l){var h=this&&this.__decorate||function(c,f,_,b){var R,L=arguments.length,x=L<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(c,f,_,b);else for(var I=c.length-1;I>=0;I--)(R=c[I])&&(x=(L<3?R(x):L>3?R(f,_,x):R(f,_))||x);return L>3&&x&&Object.defineProperty(f,_,x),x},g=this&&this.__param||function(c,f){return function(_,b){f(_,b,c)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const p=l(1439),m=l(8460),w=l(844),C=l(2585),y=Object.freeze({insertMode:!1}),v=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let d=o.CoreService=class extends w.Disposable{constructor(c,f,_){super(),this._bufferService=c,this._logService=f,this._optionsService=_,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new m.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new m.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,p.clone)(y),this.decPrivateModes=(0,p.clone)(v)}reset(){this.modes=(0,p.clone)(y),this.decPrivateModes=(0,p.clone)(v)}triggerDataEvent(c,f=!1){if(this._optionsService.rawOptions.disableStdin)return;const _=this._bufferService.buffer;f&&this._optionsService.rawOptions.scrollOnUserInput&&_.ybase!==_.ydisp&&this._onRequestScrollToBottom.fire(),f&&this._onUserInput.fire(),this._logService.debug(`sending data "${c}"`,()=>c.split("").map(b=>b.charCodeAt(0))),this._onData.fire(c)}triggerBinaryEvent(c){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${c}"`,()=>c.split("").map(f=>f.charCodeAt(0))),this._onBinary.fire(c))}};o.CoreService=d=h([g(0,C.IBufferService),g(1,C.ILogService),g(2,C.IOptionsService)],d)},9074:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const h=l(8055),g=l(8460),p=l(844),m=l(6106);let w=0,C=0;class y extends p.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new m.SortedList(c=>c?.marker.line),this._onDecorationRegistered=this.register(new g.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new g.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,p.toDisposable)(()=>this.reset()))}registerDecoration(c){if(c.marker.isDisposed)return;const f=new v(c);if(f){const _=f.marker.onDispose(()=>f.dispose());f.onDispose(()=>{f&&(this._decorations.delete(f)&&this._onDecorationRemoved.fire(f),_.dispose())}),this._decorations.insert(f),this._onDecorationRegistered.fire(f)}return f}reset(){for(const c of this._decorations.values())c.dispose();this._decorations.clear()}*getDecorationsAtCell(c,f,_){let b=0,R=0;for(const L of this._decorations.getKeyIterator(f))b=L.options.x??0,R=b+(L.options.width??1),c>=b&&c<R&&(!_||(L.options.layer??"bottom")===_)&&(yield L)}forEachDecorationAtCell(c,f,_,b){this._decorations.forEachByKey(f,R=>{w=R.options.x??0,C=w+(R.options.width??1),c>=w&&c<C&&(!_||(R.options.layer??"bottom")===_)&&b(R)})}}o.DecorationService=y;class v extends p.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(c){super(),this.options=c,this.onRenderEmitter=this.register(new g.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new g.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=c.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const h=l(2585),g=l(8343);class p{constructor(...w){this._entries=new Map;for(const[C,y]of w)this.set(C,y)}set(w,C){const y=this._entries.get(w);return this._entries.set(w,C),y}forEach(w){for(const[C,y]of this._entries.entries())w(C,y)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}o.ServiceCollection=p,o.InstantiationService=class{constructor(){this._services=new p,this._services.set(h.IInstantiationService,this)}setService(m,w){this._services.set(m,w)}getService(m){return this._services.get(m)}createInstance(m,...w){const C=(0,g.getServiceDependencies)(m).sort((d,c)=>d.index-c.index),y=[];for(const d of C){const c=this._services.get(d.id);if(!c)throw new Error(`[createInstance] ${m.name} depends on UNKNOWN service ${d.id}.`);y.push(c)}const v=C.length>0?C[0].index:w.length;if(w.length!==v)throw new Error(`[createInstance] First service dependency of ${m.name} at position ${v+1} conflicts with ${w.length} static arguments`);return new m(...w,...y)}}},7866:function(a,o,l){var h=this&&this.__decorate||function(v,d,c,f){var _,b=arguments.length,R=b<3?d:f===null?f=Object.getOwnPropertyDescriptor(d,c):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(v,d,c,f);else for(var L=v.length-1;L>=0;L--)(_=v[L])&&(R=(b<3?_(R):b>3?_(d,c,R):_(d,c))||R);return b>3&&R&&Object.defineProperty(d,c,R),R},g=this&&this.__param||function(v,d){return function(c,f){d(c,f,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const p=l(844),m=l(2585),w={trace:m.LogLevelEnum.TRACE,debug:m.LogLevelEnum.DEBUG,info:m.LogLevelEnum.INFO,warn:m.LogLevelEnum.WARN,error:m.LogLevelEnum.ERROR,off:m.LogLevelEnum.OFF};let C,y=o.LogService=class extends p.Disposable{get logLevel(){return this._logLevel}constructor(v){super(),this._optionsService=v,this._logLevel=m.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),C=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(v){for(let d=0;d<v.length;d++)typeof v[d]=="function"&&(v[d]=v[d]())}_log(v,d,c){this._evalLazyOptionalParams(c),v.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+d,...c)}trace(v,...d){this._logLevel<=m.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,v,d)}debug(v,...d){this._logLevel<=m.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,v,d)}info(v,...d){this._logLevel<=m.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,v,d)}warn(v,...d){this._logLevel<=m.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,v,d)}error(v,...d){this._logLevel<=m.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,v,d)}};o.LogService=y=h([g(0,m.IOptionsService)],y),o.setTraceLogger=function(v){C=v},o.traceCall=function(v,d,c){if(typeof c.value!="function")throw new Error("not supported");const f=c.value;c.value=function(..._){if(C.logLevel!==m.LogLevelEnum.TRACE)return f.apply(this,_);C.trace(`GlyphRenderer#${f.name}(${_.map(R=>JSON.stringify(R)).join(", ")})`);const b=f.apply(this,_);return C.trace(`GlyphRenderer#${f.name} return`,b),b}}},7302:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const h=l(8460),g=l(844),p=l(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:p.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const m=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends g.Disposable{constructor(y){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;const v={...o.DEFAULT_OPTIONS};for(const d in y)if(d in v)try{const c=y[d];v[d]=this._sanitizeAndValidateOption(d,c)}catch(c){console.error(c)}this.rawOptions=v,this.options={...v},this._setupOptions(),this.register((0,g.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(y,v){return this.onOptionChange(d=>{d===y&&v(this.rawOptions[y])})}onMultipleOptionChange(y,v){return this.onOptionChange(d=>{y.indexOf(d)!==-1&&v()})}_setupOptions(){const y=d=>{if(!(d in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},v=(d,c)=>{if(!(d in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);c=this._sanitizeAndValidateOption(d,c),this.rawOptions[d]!==c&&(this.rawOptions[d]=c,this._onOptionChange.fire(d))};for(const d in this.rawOptions){const c={get:y.bind(this,d),set:v.bind(this,d)};Object.defineProperty(this.options,d,c)}}_sanitizeAndValidateOption(y,v){switch(y){case"cursorStyle":if(v||(v=o.DEFAULT_OPTIONS[y]),!function(d){return d==="block"||d==="underline"||d==="bar"}(v))throw new Error(`"${v}" is not a valid value for ${y}`);break;case"wordSeparator":v||(v=o.DEFAULT_OPTIONS[y]);break;case"fontWeight":case"fontWeightBold":if(typeof v=="number"&&1<=v&&v<=1e3)break;v=m.includes(v)?v:o.DEFAULT_OPTIONS[y];break;case"cursorWidth":v=Math.floor(v);case"lineHeight":case"tabStopWidth":if(v<1)throw new Error(`${y} cannot be less than 1, value: ${v}`);break;case"minimumContrastRatio":v=Math.max(1,Math.min(21,Math.round(10*v)/10));break;case"scrollback":if((v=Math.min(v,4294967295))<0)throw new Error(`${y} cannot be less than 0, value: ${v}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(v<=0)throw new Error(`${y} cannot be less than or equal to 0, value: ${v}`);break;case"rows":case"cols":if(!v&&v!==0)throw new Error(`${y} must be numeric, value: ${v}`);break;case"windowsPty":v=v??{}}return v}}o.OptionsService=w},2660:function(a,o,l){var h=this&&this.__decorate||function(w,C,y,v){var d,c=arguments.length,f=c<3?C:v===null?v=Object.getOwnPropertyDescriptor(C,y):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(w,C,y,v);else for(var _=w.length-1;_>=0;_--)(d=w[_])&&(f=(c<3?d(f):c>3?d(C,y,f):d(C,y))||f);return c>3&&f&&Object.defineProperty(C,y,f),f},g=this&&this.__param||function(w,C){return function(y,v){C(y,v,w)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const p=l(2585);let m=o.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const C=this._bufferService.buffer;if(w.id===void 0){const _=C.addMarker(C.ybase+C.y),b={data:w,id:this._nextId++,lines:[_]};return _.onDispose(()=>this._removeMarkerFromLink(b,_)),this._dataByLinkId.set(b.id,b),b.id}const y=w,v=this._getEntryIdKey(y),d=this._entriesWithId.get(v);if(d)return this.addLineToLink(d.id,C.ybase+C.y),d.id;const c=C.addMarker(C.ybase+C.y),f={id:this._nextId++,key:this._getEntryIdKey(y),data:y,lines:[c]};return c.onDispose(()=>this._removeMarkerFromLink(f,c)),this._entriesWithId.set(f.key,f),this._dataByLinkId.set(f.id,f),f.id}addLineToLink(w,C){const y=this._dataByLinkId.get(w);if(y&&y.lines.every(v=>v.line!==C)){const v=this._bufferService.buffer.addMarker(C);y.lines.push(v),v.onDispose(()=>this._removeMarkerFromLink(y,v))}}getLinkData(w){return this._dataByLinkId.get(w)?.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,C){const y=w.lines.indexOf(C);y!==-1&&(w.lines.splice(y,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};o.OscLinkService=m=h([g(0,p.IBufferService)],m)},8343:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const l="di$target",h="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(g){return g[h]||[]},o.createDecorator=function(g){if(o.serviceRegistry.has(g))return o.serviceRegistry.get(g);const p=function(m,w,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(y,v,d){v[l]===v?v[h].push({id:y,index:d}):(v[h]=[{id:y,index:d}],v[l]=v)})(p,m,C)};return p.toString=()=>g,o.serviceRegistry.set(g,p),p}},2585:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const h=l(8343);var g;o.IBufferService=(0,h.createDecorator)("BufferService"),o.ICoreMouseService=(0,h.createDecorator)("CoreMouseService"),o.ICoreService=(0,h.createDecorator)("CoreService"),o.ICharsetService=(0,h.createDecorator)("CharsetService"),o.IInstantiationService=(0,h.createDecorator)("InstantiationService"),function(p){p[p.TRACE=0]="TRACE",p[p.DEBUG=1]="DEBUG",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.OFF=5]="OFF"}(g||(o.LogLevelEnum=g={})),o.ILogService=(0,h.createDecorator)("LogService"),o.IOptionsService=(0,h.createDecorator)("OptionsService"),o.IOscLinkService=(0,h.createDecorator)("OscLinkService"),o.IUnicodeService=(0,h.createDecorator)("UnicodeService"),o.IDecorationService=(0,h.createDecorator)("DecorationService")},1480:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const h=l(8460),g=l(225);class p{static extractShouldJoin(w){return(1&w)!=0}static extractWidth(w){return w>>1&3}static extractCharKind(w){return w>>3}static createPropertyValue(w,C,y=!1){return(16777215&w)<<3|(3&C)<<1|(y?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;const w=new g.UnicodeV6;this.register(w),this._active=w.version,this._activeProvider=w}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(w){if(!this._providers[w])throw new Error(`unknown Unicode version "${w}"`);this._active=w,this._activeProvider=this._providers[w],this._onChange.fire(w)}register(w){this._providers[w.version]=w}wcwidth(w){return this._activeProvider.wcwidth(w)}getStringCellWidth(w){let C=0,y=0;const v=w.length;for(let d=0;d<v;++d){let c=w.charCodeAt(d);if(55296<=c&&c<=56319){if(++d>=v)return C+this.wcwidth(c);const b=w.charCodeAt(d);56320<=b&&b<=57343?c=1024*(c-55296)+b-56320+65536:C+=this.wcwidth(b)}const f=this.charProperties(c,y);let _=p.extractWidth(f);p.extractShouldJoin(f)&&(_-=p.extractWidth(y)),C+=_,y=f}return C}charProperties(w,C){return this._activeProvider.charProperties(w,C)}}o.UnicodeService=p}},n={};function i(a){var o=n[a];if(o!==void 0)return o.exports;var l=n[a]={exports:{}};return r[a].call(l.exports,l,l.exports,i),l.exports}var s={};return(()=>{var a=s;Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const o=i(9042),l=i(3236),h=i(844),g=i(5741),p=i(8285),m=i(7975),w=i(7090),C=["cols","rows"];class y extends h.Disposable{constructor(d){super(),this._core=this.register(new l.Terminal(d)),this._addonManager=this.register(new g.AddonManager),this._publicOptions={...this._core.options};const c=_=>this._core.options[_],f=(_,b)=>{this._checkReadonlyOptions(_),this._core.options[_]=b};for(const _ in this._core.options){const b={get:c.bind(this,_),set:f.bind(this,_)};Object.defineProperty(this._publicOptions,_,b)}}_checkReadonlyOptions(d){if(C.includes(d))throw new Error(`Option "${d}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new m.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new p.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const d=this._core.coreService.decPrivateModes;let c="none";switch(this._core.coreMouseService.activeProtocol){case"X10":c="x10";break;case"VT200":c="vt200";break;case"DRAG":c="drag";break;case"ANY":c="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:c,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}}get options(){return this._publicOptions}set options(d){for(const c in d)this._publicOptions[c]=d[c]}blur(){this._core.blur()}focus(){this._core.focus()}input(d,c=!0){this._core.input(d,c)}resize(d,c){this._verifyIntegers(d,c),this._core.resize(d,c)}open(d){this._core.open(d)}attachCustomKeyEventHandler(d){this._core.attachCustomKeyEventHandler(d)}attachCustomWheelEventHandler(d){this._core.attachCustomWheelEventHandler(d)}registerLinkProvider(d){return this._core.registerLinkProvider(d)}registerCharacterJoiner(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)}deregisterCharacterJoiner(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)}registerMarker(d=0){return this._verifyIntegers(d),this._core.registerMarker(d)}registerDecoration(d){return this._checkProposedApi(),this._verifyPositiveIntegers(d.x??0,d.width??0,d.height??0),this._core.registerDecoration(d)}hasSelection(){return this._core.hasSelection()}select(d,c,f){this._verifyIntegers(d,c,f),this._core.select(d,c,f)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(d,c){this._verifyIntegers(d,c),this._core.selectLines(d,c)}dispose(){super.dispose()}scrollLines(d){this._verifyIntegers(d),this._core.scrollLines(d)}scrollPages(d){this._verifyIntegers(d),this._core.scrollPages(d)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(d){this._verifyIntegers(d),this._core.scrollToLine(d)}clear(){this._core.clear()}write(d,c){this._core.write(d,c)}writeln(d,c){this._core.write(d),this._core.write(`\r
`,c)}paste(d){this._core.paste(d)}refresh(d,c){this._verifyIntegers(d,c),this._core.refresh(d,c)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(d){this._addonManager.loadAddon(this,d)}static get strings(){return o}_verifyIntegers(...d){for(const c of d)if(c===1/0||isNaN(c)||c%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...d){for(const c of d)if(c&&(c===1/0||isNaN(c)||c%1!=0||c<0))throw new Error("This API only accepts positive integers")}}a.Terminal=y})(),s})())})(gS);var MA=gS.exports,PA=MA,oh=K;document.head.innerHTML+=`<style>/**
 * Copyright (c) 2014 The xterm.js authors. All rights reserved.
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * https://github.com/chjj/term.js
 * @license MIT
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 *   The original design remains. The terminal itself
 *   has been extended to include xterm CSI codes, among
 *   other features.
 */

/**
 *  Default styles for xterm.js
 */

.xterm {
    cursor: text;
    position: relative;
    user-select: none;
    -ms-user-select: none;
    -webkit-user-select: none;
}

.xterm.focus,
.xterm:focus {
    outline: none;
}

.xterm .xterm-helpers {
    position: absolute;
    top: 0;
    /**
     * The z-index of the helpers must be higher than the canvases in order for
     * IMEs to appear on top.
     */
    z-index: 5;
}

.xterm .xterm-helper-textarea {
    padding: 0;
    border: 0;
    margin: 0;
    /* Move textarea out of the screen to the far left, so that the cursor is not visible */
    position: absolute;
    opacity: 0;
    left: -9999em;
    top: 0;
    width: 0;
    height: 0;
    z-index: -5;
    /** Prevent wrapping so the IME appears against the textarea at the correct position */
    white-space: nowrap;
    overflow: hidden;
    resize: none;
}

.xterm .composition-view {
    /* TODO: Composition position got messed up somewhere */
    background: #000;
    color: #FFF;
    display: none;
    position: absolute;
    white-space: nowrap;
    z-index: 1;
}

.xterm .composition-view.active {
    display: block;
}

.xterm .xterm-viewport {
    /* On OS X this is required in order for the scroll bar to appear fully opaque */
    background-color: #000;
    overflow-y: scroll;
    cursor: default;
    position: absolute;
    right: 0;
    left: 0;
    top: 0;
    bottom: 0;
}

.xterm .xterm-screen {
    position: relative;
}

.xterm .xterm-screen canvas {
    position: absolute;
    left: 0;
    top: 0;
}

.xterm .xterm-scroll-area {
    visibility: hidden;
}

.xterm-char-measure-element {
    display: inline-block;
    visibility: hidden;
    position: absolute;
    top: 0;
    left: -9999em;
    line-height: normal;
}

.xterm.enable-mouse-events {
    /* When mouse events are enabled (eg. tmux), revert to the standard pointer cursor */
    cursor: default;
}

.xterm.xterm-cursor-pointer,
.xterm .xterm-cursor-pointer {
    cursor: pointer;
}

.xterm.column-select.focus {
    /* Column selection mode */
    cursor: crosshair;
}

.xterm .xterm-accessibility:not(.debug),
.xterm .xterm-message {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    right: 0;
    z-index: 10;
    color: transparent;
    pointer-events: none;
}

.xterm .xterm-accessibility-tree:not(.debug) *::selection {
  color: transparent;
}

.xterm .xterm-accessibility-tree {
  user-select: text;
  white-space: pre;
}

.xterm .live-region {
    position: absolute;
    left: -9999px;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

.xterm-dim {
    /* Dim should not apply to background, so the opacity of the foreground color is applied
     * explicitly in the generated class and reset to 1 here */
    opacity: 1 !important;
}

.xterm-underline-1 { text-decoration: underline; }
.xterm-underline-2 { text-decoration: double underline; }
.xterm-underline-3 { text-decoration: wavy underline; }
.xterm-underline-4 { text-decoration: dotted underline; }
.xterm-underline-5 { text-decoration: dashed underline; }

.xterm-overline {
    text-decoration: overline;
}

.xterm-overline.xterm-underline-1 { text-decoration: overline underline; }
.xterm-overline.xterm-underline-2 { text-decoration: overline double underline; }
.xterm-overline.xterm-underline-3 { text-decoration: overline wavy underline; }
.xterm-overline.xterm-underline-4 { text-decoration: overline dotted underline; }
.xterm-overline.xterm-underline-5 { text-decoration: overline dashed underline; }

.xterm-strikethrough {
    text-decoration: line-through;
}

.xterm-screen .xterm-decoration-container .xterm-decoration {
	z-index: 6;
	position: absolute;
}

.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer {
	z-index: 7;
}

.xterm-decoration-overview-ruler {
    z-index: 8;
    position: absolute;
    top: 0;
    right: 0;
    pointer-events: none;
}

.xterm-decoration-top {
    z-index: 2;
    position: relative;
}
</style>`;function OA({options:e,addons:t,listeners:r}={}){const n=oh.useRef(null),[i,s]=oh.useState(null);return oh.useEffect(()=>{const a=new PA.Terminal({fontFamily:"operator mono,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace",fontSize:14,theme:{background:"#101420"},cursorStyle:"underline",cursorBlink:!1,...e});return t&&t.forEach(o=>{a.loadAddon(o)}),r&&(r.onBinary&&a.onBinary(r.onBinary),r.onCursorMove&&a.onCursorMove(r.onCursorMove),r.onLineFeed&&a.onLineFeed(r.onLineFeed),r.onScroll&&a.onScroll(r.onScroll),r.onSelectionChange&&a.onSelectionChange(r.onSelectionChange),r.onRender&&a.onRender(r.onRender),r.onResize&&a.onResize(r.onResize),r.onTitleChange&&a.onTitleChange(r.onTitleChange),r.onKey&&a.onKey(r.onKey),r.onData&&a.onData(r.onData),r.customKeyEventHandler&&a.attachCustomKeyEventHandler(r.customKeyEventHandler)),n.current&&(a.open(n.current),a.focus()),s(a),()=>{a.dispose(),s(null)}},[n,e,t,r,r?.onBinary,r?.onCursorMove,r?.onData,r?.onKey,r?.onLineFeed,r?.onScroll,r?.onSelectionChange,r?.onRender,r?.onResize,r?.onTitleChange,r?.customKeyEventHandler]),{ref:n,instance:i}}var IA=OA;const Yi={PROMPT:"> ",PROMPT_LENGTH:2},DA={fontFamily:'"Fira Code", Menlo, "DejaVu Sans Mono", "Lucida Console", monospace',cursorBlink:!0,cursorStyle:"block",cursorInactiveStyle:"outline",rows:50,theme:{foreground:"white",background:"#0007",cursor:"white",cursorAccent:"yellow",selectionForeground:"gray",selectionBackground:"black",black:"#0007",red:"#ff0000",green:"#00ff00",yellow:"#ffff00",blue:"#4444ff",magenta:"#ff00ff",cyan:"#00ffff",white:"#ffffff",brightBlack:"#808080",brightRed:"#ff0000",brightGreen:"#00ff00",brightYellow:"#ffff00",brightBlue:"#66aaff",brightMagenta:"#ff00ff",brightCyan:"#00ffff",brightWhite:"#ffffff"}},BA=({setLastTypedCharacter:e,isInSvgMode:t,writeOutputInternal:r})=>({handleCharacter:K.useCallback(i=>{localStorage.setItem("currentCharacter",i),e(t?i:null),(ys.value||ms.value)&&r("*")},[e,t,r])}),yS=K.createContext(null),hp=()=>{const e=Gr(()=>fc.value),t=K.useCallback(()=>{if(e.value.length<2)return{wpmAverage:0,charWpms:[]};const r=[];let n=0;for(let s=1;s<e.value.length;s++){const a=e.value[s],o=e.value[s-1];if(!a||!o)continue;const l=a.timestamp-o.timestamp,p=1/(l/6e4)/5;r.push({character:a.char,wpm:p,durationMilliseconds:l}),n+=p}return{wpmAverage:n/(e.value.length-1),charWpms:Object.freeze(r)}},[e]);return{addKeystroke:oS,getWPMs:t,clearKeystrokes:uA,keystrokeCount:e.value.length}},Xt=Gt({prefix:"useCommand"}),_S=()=>{const[e,t]=K.useState([]),[r,n]=K.useState([]),[i,s]=K.useState(-1),[a,o]=K.useState(null),l=Gr(()=>Fe.value),{handleCommandExecuted:h,checkTutorialProgress:g}=pS(),p=hp(),m=K.useContext(yS);if(m===void 0)throw new Error("useCommand must be used within a CommandProvider");K.useEffect(()=>{const _=eR();_&&_.length>0&&(Xt.debug("Loaded command history:",_),n(_))},[]);const w=K.useCallback(()=>{Xt.debug("Resetting output"),t([])},[]),C=K.useCallback(_=>{const b=typeof _=="string"?_:yf(_);Xt.debug("Adding to command history:",b),n(R=>{if(R.length>0&&R[R.length-1]===b)return R;const L=[...R,b].slice(-120);return q_(L),L})},[]),y=K.useCallback(()=>{const _=[],b=[];for(let R=0;R<localStorage.length;R++){const L=localStorage.key(R);L?.startsWith(yr.command+"_")&&_.push(L)}_.sort();for(const R of _){const L=localStorage.getItem(R);L&&b.push(L)}return Xt.debug("Retrieved command response history:",b),b},[]),v=K.useCallback((_,b,R,L,x)=>{const I=p.getWPMs();return Xt.debug("Creating command record:",{command:_,response:b,status:R}),{command:_,response:b,status:R,wpmAverage:I.wpmAverage,characterAverages:I.charWpms,commandTime:L,sensitive:x??!1}},[p]),d=K.useCallback((_,b)=>{Xt.debug("Processing command output:",{command:_,response:b});const R=new Date,L=v(_,b.message,b.status,R,b.sensitive??!1);tv(L),C(_)},[v,C]),c=K.useCallback(async _=>{Xt.debug("Executing command:",_);const b=Hl.getCommand(_.command);if(b!=null&&m!=null)try{const R=await b.execute(m,_);Xt.debug("Command executed successfully:",R),d(_,R),h(_)}catch(R){const L=R instanceof Error?R.message:"Unknown error occurred";Xt.error("Command execution failed:",R),d(_,{status:500,message:L}),h(_)}else{const R=l.value===Ce.TUTORIAL?`Tutorial attempt: ${_.command}`:`Command not found: ${_.command}`;Xt.debug("Command not found:",{command:_.command,activity:l.value}),d(_,{status:404,message:R}),h(_)}},[m,d,h,l]),f=K.useCallback(async _=>{const b=l.value;if(Xt.debug("Handling command:",{parsedCommand:_,activity:b,timestamp:new Date().toISOString()}),hA(new Date),b===Ce.TUTORIAL){if(Xt.debug("Processing tutorial command:",{command:_.command,activity:b}),g(_.command),l.value!==b){Xt.debug("Activity changed during tutorial progress - skipping command execution");return}}else Xt.debug("Processing non-tutorial command:",{command:_.command,activity:b});await c(_),Xt.debug("Command handling complete:",{parsedCommand:_,activity:l.value,timestamp:new Date().toISOString()})},[l.value,c,g]);return{output:e,resetOutput:w,commandHistory:r,addToCommandHistory:C,getCommandResponseHistory:y,handleCommand:f,commandHistoryIndex:i,setCommandHistoryIndex:s,commandHistoryFilter:a,setCommandHistoryFilter:o,appendToOutput:tv,executeCommand:c}},mn=Gt({prefix:"useTerminal"}),FA=()=>{const{instance:e,ref:t}=IA({options:DA}),{handleCommand:r,commandHistory:n,commandHistoryIndex:i,setCommandHistoryIndex:s}=_S(),a=hp(),o=Gr(()=>ma.value),[l,h]=K.useState(""),g=K.useRef(new AA.FitAddon),p=K.useCallback(f=>{mn.debug("Writing to terminal:",f),e?.write(f)},[e]),m=K.useCallback(()=>{e!=null&&(mn.debug("Resetting prompt"),e.reset(),Vn(""),h(""),e.write(Yi.PROMPT),e.scrollToBottom())},[e]),w=K.useRef(null),C=f=>{w.current=f},{handleCharacter:y}=BA({setLastTypedCharacter:C,isInSvgMode:!1,writeOutputInternal:p}),v=K.useCallback(()=>{if(e==null)return"";const f=e.buffer.active;let _="";for(let L=0;L<=f.cursorY;L++){const x=f.getLine(L);x!=null&&(_+=x.translateToString(!0))}const b=_.indexOf(Yi.PROMPT)+Yi.PROMPT_LENGTH,R=_.substring(b).trimStart();return mn.debug("Getting current command:",R),R},[e]),d=K.useCallback(()=>{e!=null&&(mn.debug("Clearing current line"),e.write("\x1B[2K\r"),e.write(Yi.PROMPT))},[e]),c=K.useCallback(f=>{if(e==null||n.length===0)return;let _=i;if(f==="up"){if(_===-1){const R=v();R!=null&&(Vn(R),h(R))}_=_===-1?n.length-1:Math.max(0,_-1)}else if(_=_===-1?-1:Math.min(n.length-1,_+1),_===-1){d();const R=o.value;R!=null&&(e.write(R),Vn(R),h(R)),s(_);return}d();const b=n[_]??"";e.write(b),Vn(b),h(b),s(_)},[e,n,i,v,d,s,o,h]);return K.useEffect(()=>{e!=null&&(e.loadAddon(g.current),g.current.fit(),m())},[e,m]),K.useEffect(()=>{if(e==null)return;const f=(I,j)=>{switch(mn.debug("Handling control character:",{data:I,cursorX:j}),I){case"":return Vn(""),h(""),Ey(Ce.NORMAL),e?.write("^C"),m(),!0;case"\r":return _(),!0;case"":return b(j),!0;case"\x1B[D":return j>Yi.PROMPT_LENGTH&&e?.write(I),!0;case"\x1B[A":return c("up"),!0;case"\x1B[B":return c("down"),!0;default:return!1}},_=()=>{if(mn.debug("Handling Enter key"),ms.value){const I=ul(["login",Fo.value,Xn.value].join(" "));r(I).catch(console.error),Zr(!1),ev(""),xl("")}else if(ys.value){const I=ul(["signup",Fo.value,Gd.value,Xn.value].join(" "));r(I).catch(console.error),Xa(!1),ev(""),xl(""),xy("")}else{const I=v();mn.debug("Processing command:",I);const j=ul(I===""?"\r":I);mn.debug("Parsed command:",j),e?.write(`\r
`),Vn(""),h(""),r(j).catch(console.error),a.clearKeystrokes()}s(-1),m()},b=I=>{if(mn.debug("Handling backspace:",{cursorX:I}),ms.value||ys.value)Xn.value.length>0&&(Xn.value=Xn.value.slice(0,-1),e?.write("\b \b"));else if(I>Yi.PROMPT_LENGTH){e?.write("\b \b");const j=l.slice(0,-1);Vn(j),h(j)}},R=I=>{if(e==null)return;mn.debug("Handling terminal data:",I);const j=e.buffer.active.cursorX;if(!f(I,j))if(ms.value||ys.value)Xn.value+=I,y(I);else{const G=l+I;e.write(I),Vn(G),h(G),oS(I)}},L=()=>{g.current.fit(),e.scrollToBottom()};window.addEventListener("resize",L);const x=e.onData(R);return()=>{window.removeEventListener("resize",L),x.dispose()}},[e,v,m,a,o,c,y,l,r,s]),{xtermRef:t,writeToTerminal:p,resetPrompt:m}},NA=({setOn:e})=>{const t=K.useRef(null);return K.useEffect(()=>{const r=t.current;if(r)return r.autoplay=!0,r.muted=!0,r.id="terminal-video",r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline",""),r.setAttribute("x5-playsinline",""),e?navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(n=>{r&&(r.srcObject=n)}).catch(n=>{console.error("Error accessing media devices:",n)}):r.srcObject&&(r.srcObject.getTracks().forEach(i=>i.stop()),r.srcObject=null),r.hidden=!e,()=>{r&&r.srcObject&&(r.srcObject.getTracks().forEach(i=>{i.stop(),i.enabled=!1}),r.srcObject=null)}},[e]),fe("video",{ref:t,style:{width:"100%",height:"auto"},children:fe("track",{kind:"captions",src:"",label:"No captions available"})})};var SS={},CS={},wS={};const $A=Hm(kC),HA=Hm(bC);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=$A,r=HA;function n(D,$){return l(D)||o(D,$)||s(D,$)||i()}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(D,$){if(D){if(typeof D=="string")return a(D,$);var N={}.toString.call(D).slice(8,-1);return N==="Object"&&D.constructor&&(N=D.constructor.name),N==="Map"||N==="Set"?Array.from(D):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?a(D,$):void 0}}function a(D,$){($==null||$>D.length)&&($=D.length);for(var N=0,W=Array($);N<$;N++)W[N]=D[N];return W}function o(D,$){var N=D==null?null:typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(N!=null){var W,Q,z,M,P=[],O=!0,U=!1;try{if(z=(N=N.call(D)).next,$!==0)for(;!(O=(W=z.call(N)).done)&&(P.push(W.value),P.length!==$);O=!0);}catch(Z){U=!0,Q=Z}finally{try{if(!O&&N.return!=null&&(M=N.return(),Object(M)!==M))return}finally{if(U)throw Q}}return P}}function l(D){if(Array.isArray(D))return D}function h(D){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},h(D)}function g(D,$){if(!(D instanceof $))throw new TypeError("Cannot call a class as a function")}function p(D,$){for(var N=0;N<$.length;N++){var W=$[N];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(D,w(W.key),W)}}function m(D,$,N){return $&&p(D.prototype,$),Object.defineProperty(D,"prototype",{writable:!1}),D}function w(D){var $=C(D,"string");return h($)=="symbol"?$:$+""}function C(D,$){if(h(D)!="object"||!D)return D;var N=D[Symbol.toPrimitive];if(N!==void 0){var W=N.call(D,$);if(h(W)!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}var y={Bottom:4},v={readOnly:65,cursorWidth:20,fontInfo:32},d=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function c(D){return/\w/.test(D)||D>""&&(D.toUpperCase()!=D.toLowerCase()||d.test(D))}function f(D,$){if(!(this instanceof f))return new f(D,$);this.line=D,this.ch=$}function _(D,$,N){D.dispatch($,N)}function b(D){return function(){}}var R=function($,N){this.pos=this.start=0,this.string=$,this.tabSize=N||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};R.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function($){var N=this.string.charAt(this.pos);if(typeof $=="string")var W=N==$;else var W=N&&($.test?$.test(N):$(N));if(W)return++this.pos,N},eatWhile:function($){for(var N=this.pos;this.eat($););return this.pos>N},eatSpace:function(){for(var $=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>$},skipToEnd:function(){this.pos=this.string.length},skipTo:function($){var N=this.string.indexOf($,this.pos);if(N>-1)return this.pos=N,!0},backUp:function($){this.pos-=$},column:function(){throw"not implemented"},indentation:function(){throw"not implemented"},match:function($,N,W){if(typeof $=="string"){var Q=function(O){return W?O.toLowerCase():O},z=this.string.substr(this.pos,$.length);if(Q(z)==Q($))return N!==!1&&(this.pos+=$.length),!0}else{var M=this.string.slice(this.pos).match($);return M&&M.index>0?null:(M&&N!==!1&&(this.pos+=M[0].length),M)}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function($,N){this.lineStart+=$;try{return N()}finally{this.lineStart-=$}}};function L(D){return new f(D.lineNumber-1,D.column-1)}function x(D){return new t.Position(D.line+1,D.ch+1)}var I=function(){function D($,N,W,Q){g(this,D),this.cm=$,this.id=N,this.lineNumber=W+1,this.column=Q+1,$.marks[this.id]=this}return m(D,[{key:"clear",value:function(){delete this.cm.marks[this.id]}},{key:"find",value:function(){return L(this)}}])}();function j(D){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=!0,W=t.KeyCode[D.keyCode];D.key&&(W=D.key,N=!1);var Q=W,z=$;switch(D.keyCode){case t.KeyCode.Shift:case t.KeyCode.Meta:case t.KeyCode.Alt:case t.KeyCode.Ctrl:return Q;case t.KeyCode.Escape:z=!0,Q="Esc";break;case t.KeyCode.Space:z=!0;break}return W.startsWith("Key")||W.startsWith("KEY_")?Q=W[W.length-1].toLowerCase():W.startsWith("Digit")?Q=W.slice(5,6):W.startsWith("Numpad")?Q=W.slice(6,7):W.endsWith("Arrow")?(z=!0,Q=W.substring(0,W.length-5)):(W.startsWith("US_")||W.startsWith("Bracket")||!Q)&&(Q=D.browserEvent.key),!z&&!D.altKey&&!D.ctrlKey&&!D.metaKey?Q=D.key||D.browserEvent.key:(D.altKey&&(Q="Alt-".concat(Q)),D.ctrlKey&&(Q="Ctrl-".concat(Q)),D.metaKey&&(Q="Meta-".concat(Q)),D.shiftKey&&(Q="Shift-".concat(Q))),Q.length===1&&N&&(Q="'".concat(Q,"'")),Q}var G=function(){function D($){g(this,D),X.call(this),this.editor=$,this.state={keyMap:"vim"},this.marks={},this.$uid=0,this.disposables=[],this.listeners={},this.curOp={},this.attached=!1,this.statusBar=null,this.options={},this.addLocalListeners(),this.ctxInsert=this.editor.createContextKey("insertMode",!0)}return m(D,[{key:"attach",value:function(){D.keyMap.vim.attach(this)}},{key:"addLocalListeners",value:function(){this.disposables.push(this.editor.onDidChangeCursorPosition(this.handleCursorChange),this.editor.onDidChangeModelContent(this.handleChange),this.editor.onKeyDown(this.handleKeyDown))}},{key:"handleReplaceMode",value:function(N,W){var Q=!1,z=N,M=this.editor.getPosition(),P=new t.Range(M.lineNumber,M.column,M.lineNumber,M.column+1),O=!0;if(N.startsWith("'"))z=N[1];else if(z==="Enter")z=`
`;else if(z==="Backspace"){var U=this.replaceStack.pop();if(!U)return;Q=!0,z=U,P=new t.Range(M.lineNumber,M.column,M.lineNumber,M.column-1)}else return;W.preventDefault(),W.stopPropagation(),this.replaceStack||(this.replaceStack=[]),Q||this.replaceStack.push(this.editor.getModel().getValueInRange(P)),this.editor.executeEdits("vim",[{text:z,range:P,forceMoveMarkers:O}]),Q&&this.editor.setPosition(P.getStartPosition())}},{key:"setOption",value:function(N,W){this.state[N]=W,N==="theme"&&t.editor.setTheme(W)}},{key:"getConfiguration",value:function(){var N=this.editor,W=v;return typeof N.getConfiguration=="function"?N.getConfiguration():("EditorOption"in t.editor&&(W=t.editor.EditorOption),{readOnly:N.getOption(W.readOnly),viewInfo:{cursorWidth:N.getOption(W.cursorWidth)},fontInfo:N.getOption(W.fontInfo)})}},{key:"getOption",value:function(N){return N==="readOnly"?this.getConfiguration().readOnly:N==="firstLineNumber"?this.firstLine()+1:N==="indentWithTabs"?!this.editor.getModel().getOptions().insertSpaces:typeof this.editor.getConfiguration=="function"?this.editor.getRawConfiguration()[N]:this.editor.getRawOptions()[N]}},{key:"dispatch",value:function(N){for(var W=arguments.length,Q=new Array(W>1?W-1:0),z=1;z<W;z++)Q[z-1]=arguments[z];var M=this.listeners[N];M&&M.forEach(function(P){return P.apply(void 0,Q)})}},{key:"on",value:function(N,W){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push(W)}},{key:"off",value:function(N,W){var Q=this.listeners[N];Q&&(this.listeners[N]=Q.filter(function(z){return z!==W}))}},{key:"firstLine",value:function(){return 0}},{key:"lastLine",value:function(){return this.lineCount()-1}},{key:"lineCount",value:function(){return this.editor.getModel().getLineCount()}},{key:"defaultTextHeight",value:function(){return 1}},{key:"getLine",value:function(N){if(N<0)return"";var W=this.editor.getModel(),Q=W.getLineCount();return N+1>Q&&(N=Q-1),this.editor.getModel().getLineContent(N+1)}},{key:"getAnchorForSelection",value:function(N){if(N.isEmpty())return N.getPosition();var W=N.getDirection();return W===t.SelectionDirection.LTR?N.getStartPosition():N.getEndPosition()}},{key:"getHeadForSelection",value:function(N){if(N.isEmpty())return N.getPosition();var W=N.getDirection();return W===t.SelectionDirection.LTR?N.getEndPosition():N.getStartPosition()}},{key:"getCursor",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!N)return L(this.editor.getPosition());var W=this.editor.getSelection(),Q;return W.isEmpty()?Q=W.getPosition():N==="anchor"?Q=this.getAnchorForSelection(W):Q=this.getHeadForSelection(W),L(Q)}},{key:"getRange",value:function(N,W){var Q=x(N),z=x(W);return this.editor.getModel().getValueInRange(t.Range.fromPositions(Q,z))}},{key:"getSelection",value:function(){var N=[],W=this.editor;return W.getSelections().map(function(Q){N.push(W.getModel().getValueInRange(Q))}),N.join(`
`)}},{key:"replaceRange",value:function(N,W,Q){var z=x(W),M=Q?x(Q):z;this.editor.executeEdits("vim",[{text:N,range:t.Range.fromPositions(z,M)}]),this.pushUndoStop()}},{key:"pushUndoStop",value:function(){this.editor.pushUndoStop()}},{key:"setCursor",value:function(N,W){var Q=N;h(N)!=="object"&&(Q={},Q.line=N,Q.ch=W);var z=this.editor.getModel().validatePosition(x(Q));this.editor.setPosition(x(Q)),this.editor.revealPosition(z)}},{key:"somethingSelected",value:function(){return!this.editor.getSelection().isEmpty()}},{key:"operation",value:function(N,W){return N()}},{key:"listSelections",value:function(){var N=this,W=this.editor.getSelections();return!W.length||this.inVirtualSelectionMode?[{anchor:this.getCursor("anchor"),head:this.getCursor("head")}]:W.map(function(Q){return Q.getPosition(),Q.getStartPosition(),Q.getEndPosition(),{anchor:N.clipPos(L(N.getAnchorForSelection(Q))),head:N.clipPos(L(N.getHeadForSelection(Q)))}})}},{key:"focus",value:function(){this.editor.focus()}},{key:"setSelections",value:function(N,W){var Q=!!this.editor.getSelections().length,z=N.map(function(O,U){var Z=O.anchor,re=O.head;return Q?t.Selection.fromPositions(x(Z),x(re)):t.Selection.fromPositions(x(re),x(Z))});if(W&&z[W]&&z.push(z.splice(W,1)[0]),!!z.length){var M=z[0],P;M.getDirection()===t.SelectionDirection.LTR?P=M.getEndPosition():P=M.getStartPosition(),this.editor.setSelections(z),this.editor.revealPosition(P)}}},{key:"setSelection",value:function(N,W){var Q=t.Range.fromPositions(x(N),x(W));this.editor.setSelection(Q)}},{key:"getSelections",value:function(){var N=this.editor;return N.getSelections().map(function(W){return N.getModel().getValueInRange(W)})}},{key:"replaceSelections",value:function(N){var W=this.editor;W.getSelections().forEach(function(Q,z){W.executeEdits("vim",[{range:Q,text:N[z],forceMoveMarkers:!1}])})}},{key:"toggleOverwrite",value:function(N){N?(this.enterVimMode(),this.replaceMode=!0):(this.leaveVimMode(),this.replaceMode=!1,this.replaceStack=[])}},{key:"charCoords",value:function(N,W){return{top:N.line,left:N.ch}}},{key:"coordsChar",value:function(N,W){}},{key:"clipPos",value:function(N){var W=this.editor.getModel().validatePosition(x(N));return L(W)}},{key:"setBookmark",value:function(N,W){var Q=new I(this,this.$uid++,N.line,N.ch);return(!W||!W.insertLeft)&&(Q.$insertRight=!0),this.marks[Q.id]=Q,Q}},{key:"getScrollInfo",value:function(){var N=this.editor,W=N.getVisibleRanges(),Q=n(W,1),z=Q[0];return{left:0,top:z.startLineNumber-1,height:N.getModel().getLineCount(),clientHeight:z.endLineNumber-z.startLineNumber+1}}},{key:"triggerEditorAction",value:function(N){this.editor.trigger("vim",N)}},{key:"dispose",value:function(){this.dispatch("dispose"),this.removeOverlay(),D.keyMap.vim&&D.keyMap.vim.detach(this),this.disposables.forEach(function(N){return N.dispose()})}},{key:"getInputField",value:function(){}},{key:"getWrapperElement",value:function(){}},{key:"enterVimMode",value:function(){this.ctxInsert.set(!1);var N=this.getConfiguration();this.initialCursorWidth=N.viewInfo.cursorWidth||0,this.editor.updateOptions({cursorWidth:N.fontInfo.typicalFullwidthCharacterWidth,cursorBlinking:"solid",cursorStyle:"block"})}},{key:"leaveVimMode",value:function(){this.ctxInsert.set(!0),this.editor.updateOptions({cursorWidth:this.initialCursorWidth||0,cursorBlinking:"blink",cursorStyle:"line"})}},{key:"virtualSelectionMode",value:function(){return this.inVirtualSelectionMode}},{key:"markText",value:function(){return{clear:function(){},find:function(){}}}},{key:"getUserVisibleLines",value:function(){var N=this.editor.getVisibleRanges();if(!N.length)return{top:0,bottom:0};var W={top:1/0,bottom:0};return N.reduce(function(Q,z){return z.startLineNumber<Q.top&&(Q.top=z.startLineNumber),z.endLineNumber>Q.bottom&&(Q.bottom=z.endLineNumber),Q},W),W.top-=1,W.bottom-=1,W}},{key:"findPosV",value:function(N,W,Q){var z=this.editor,M=W,P=Q,O=x(N);if(Q==="page"){var U=z.getLayoutInfo().height,Z=this.getConfiguration().fontInfo.lineHeight;M=M*Math.floor(U/Z),P="line"}return P==="line"&&(O.lineNumber+=M),L(O)}},{key:"findMatchingBracket",value:function(N){var W=x(N),Q=this.editor.getModel(),z;if(Q.bracketPairs)z=Q.bracketPairs.matchBracket(W);else{var M;z=(M=Q.matchBracket)===null||M===void 0?void 0:M.call(Q,W)}return!z||z.length!==2?{to:null}:{to:L(z[1].getStartPosition())}}},{key:"findFirstNonWhiteSpaceCharacter",value:function(N){return this.editor.getModel().getLineFirstNonWhitespaceColumn(N+1)-1}},{key:"scrollTo",value:function(N,W){!N&&!W||N||(W<0&&(W=this.editor.getPosition().lineNumber-W),this.editor.setScrollTop(this.editor.getTopForLineNumber(W+1)))}},{key:"moveCurrentLineTo",value:function(N){var W,Q=this.editor,z=Q.getPosition(),M=t.Range.fromPositions(z,z);switch(N){case"top":Q.revealRangeAtTop(M);return;case"center":Q.revealRangeInCenter(M);return;case"bottom":(W=Q._revealRange)===null||W===void 0||W.call(Q,M,y.Bottom);return}}},{key:"getSearchCursor",value:function(N,W){var Q=!1,z=!1;N instanceof RegExp&&!N.global&&(Q=!N.ignoreCase,N=N.source,z=!0),W.ch==null&&(W.ch=Number.MAX_VALUE);var M=x(W),P=this,O=this.editor,U=null,Z=O.getModel(),re=Z.findMatches(N,!1,z,Q)||[];return{getMatches:function(){return re},findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},jumpTo:function(ce){if(!re||!re.length)return!1;var J=re[ce];return U=J.range,P.highlightRanges([U],"currentFindMatch"),P.highlightRanges(re.map(function(B){return B.range}).filter(function(B){return!B.equalsRange(U)})),U},find:function(ce){if(!re||!re.length)return!1;var J;if(ce){var B=U?U.getStartPosition():M;if(J=Z.findPreviousMatch(N,B,z,Q),!J||!J.range.getStartPosition().isBeforeOrEqual(B))return!1}else{var te=U?Z.getPositionAt(Z.getOffsetAt(U.getEndPosition())+1):M;if(J=Z.findNextMatch(N,te,z,Q),!J||!te.isBeforeOrEqual(J.range.getStartPosition()))return!1}return U=J.range,P.highlightRanges([U],"currentFindMatch"),P.highlightRanges(re.map(function(ie){return ie.range}).filter(function(ie){return!ie.equalsRange(U)})),U},from:function(){return U&&L(U.getStartPosition())},to:function(){return U&&L(U.getEndPosition())},replace:function(ce){U&&(O.executeEdits("vim",[{range:U,text:ce,forceMoveMarkers:!0}],function(J){var B=J[0].range,te=B.endLineNumber,ie=B.endColumn;U=U.setEndPosition(te,ie)}),O.setPosition(U.getStartPosition()))}}}},{key:"highlightRanges",value:function(N){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"findMatch",Q="decoration".concat(W);return this[Q]=this.editor.deltaDecorations(this[Q]||[],N.map(function(z){return{range:z,options:{stickiness:t.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,zIndex:13,className:W,showIfCollapsed:!0}}})),this[Q]}},{key:"addOverlay",value:function(N,W,Q){var z=N.query,M=!1,P=!1;z&&z instanceof RegExp&&!z.global&&(P=!0,M=!z.ignoreCase,z=z.source);var O=this.editor.getModel().findNextMatch(z,this.editor.getPosition(),P,M);!O||!O.range||this.highlightRanges([O.range])}},{key:"removeOverlay",value:function(){var N=this;["currentFindMatch","findMatch"].forEach(function(W){N.editor.deltaDecorations(N["decoration".concat(W)]||[],[])})}},{key:"scrollIntoView",value:function(N){N&&this.editor.revealPosition(x(N))}},{key:"moveH",value:function(N,W){if(W==="char"){var Q=this.editor.getPosition();this.editor.setPosition(new t.Position(Q.lineNumber,Q.column+N))}}},{key:"scanForBracket",value:function(N,W,Q,z){for(var M=z.bracketRegex,P=x(N),O=this.editor.getModel(),U=(W===-1?O.findPreviousMatch:O.findNextMatch).bind(O),Z=[],re=0;;){if(re>10)return;var le=U(M.source,P,!0,!0,null,!0),ce=le.matches[0];if(le===void 0)return;var J=D.matchingBrackets[ce];if(J&&J.charAt(1)===">"==W>0)Z.push(ce);else if(Z.length===0){var B=le.range.getStartPosition();return{pos:L(B)}}else Z.pop();P=O.getPositionAt(O.getOffsetAt(le.range.getStartPosition())+W),re+=1}}},{key:"indexFromPos",value:function(N){return this.editor.getModel().getOffsetAt(x(N))}},{key:"posFromIndex",value:function(N){return L(this.editor.getModel().getPositionAt(N))}},{key:"indentLine",value:function(N){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Q=this.editor,z;Q._getViewModel?z=Q._getViewModel().cursorConfig:z=Q._getCursors().context.config;var M=new t.Position(N+1,1),P=t.Selection.fromPositions(M,M);Q.executeCommand("vim",new r.ShiftCommand(P,{isUnshift:!W,tabSize:z.tabSize,indentSize:z.indentSize,insertSpaces:z.insertSpaces,useTabStops:z.useTabStops,autoIndent:z.autoIndent}))}},{key:"setStatusBar",value:function(N){this.statusBar=N}},{key:"openDialog",value:function(N,W,Q){if(this.statusBar)return this.statusBar.setSec(N,W,Q)}},{key:"openNotification",value:function(N){this.statusBar&&this.statusBar.showNotification(N)}},{key:"smartIndent",value:function(){this.editor.getAction("editor.action.formatSelection").run()}},{key:"moveCursorTo",value:function(N){var W=this.editor.getPosition();N==="start"?W.column=1:N==="end"&&(W.column=this.editor.getModel().getLineMaxColumn(W.lineNumber)),this.editor.setPosition(W)}},{key:"execCommand",value:function(N){switch(N){case"goLineLeft":this.moveCursorTo("start");break;case"goLineRight":this.moveCursorTo("end");break;case"indentAuto":this.smartIndent();break}}}])}();G.Pos=f,G.signal=_,G.on=b(),G.off=b(),G.addClass=b(),G.rmClass=b(),G.defineOption=b(),G.keyMap={default:function($){return function(N){return!0}}},G.matchingBrackets={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"},G.isWordChar=c,G.keyName=j,G.StringStream=R,G.e_stop=function(D){return D.stopPropagation?D.stopPropagation():D.cancelBubble=!0,G.e_preventDefault(D),!1},G.e_preventDefault=function(D){return D.preventDefault?(D.preventDefault(),D.browserEvent&&D.browserEvent.preventDefault()):D.returnValue=!1,!1},G.commands={redo:function($){$.editor.getModel().redo()},undo:function($){$.editor.getModel().undo()},newlineAndIndent:function($){$.triggerEditorAction("editor.action.insertLineAfter")}},G.lookupKey=function D($,N,W){typeof N=="string"&&(N=G.keyMap[N]);var Q=typeof N=="function"?N($):N[$];if(Q===!1)return"nothing";if(Q==="...")return"multi";if(Q!=null&&W(Q))return"handled";if(N.fallthrough){if(!Array.isArray(N.fallthrough))return D($,N.fallthrough,W);for(var z=0;z<N.fallthrough.length;z++){var M=D($,N.fallthrough[z],W);if(M)return M}}},G.defineExtension=function(D,$){G.prototype[D]=$};var X=function(){var $=this;this.handleKeyDown=function(N){if(!(N.browserEvent.defaultPrevented&N.keyCode!==t.KeyCode.Escape)&&$.attached){var W=j(N);if($.replaceMode&&$.handleReplaceMode(W,N),!!W){var Q=$.state.keyMap;if(G.keyMap[Q]&&G.keyMap[Q].call){var z=G.keyMap[Q].call(W,$);if(z){N.preventDefault(),N.stopPropagation();try{z()}catch(M){console.error(M)}}}}}},this.handleCursorChange=function(N){var W=N.position;N.source;var Q=$.editor,z=Q.getSelection();if(!$.ctxInsert.get()&&N.source==="mouse"&&z.isEmpty()){var M=Q.getModel().getLineMaxColumn(W.lineNumber);if(N.position.column===M){Q.setPosition(new t.Position(N.position.lineNumber,M-1));return}}$.dispatch("cursorActivity",$,N)},this.handleChange=function(N){var W=N.changes,Q={text:W.reduce(function(M,P){return M.push(P.text),M},[]),origin:"+input"},z=$.curOp=$.curOp||{};z.changeHandlers||(z.changeHandlers=$.listeners.change&&$.listeners.change.slice()),!$.virtualSelectionMode()&&(z.lastChange?z.lastChange.next=z.lastChange=Q:z.lastChange=z.change=Q,$.dispatch("change",$,Q))}};e.default=G})(wS);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Vim=void 0;var t=r(wS);function r(g){return g.__esModule?g:{default:g}}function n(g){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(g)}var i=t.default.Pos;function s(g,p){var m=g.state.vim;if(!m||m.insertMode)return p.head;var w=m.sel.head;if(!w)return p.head;if(!(m.visualBlock&&p.head.line!=w.line))return p.from()==p.anchor&&!p.empty()&&p.head.line==w.line&&p.head.ch!=w.ch?new i(p.head.line,p.head.ch-1):p.head}var a=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<Del>",type:"keyToKey",toKeys:"x",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],o=a.length,l=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"global",shortName:"g"}],h=e.Vim=function(){function p(E){E.setOption("disableInput",!0),E.setOption("showCursorWhenSelecting",!1),t.default.signal(E,"vim-mode-change",{mode:"normal"}),E.on("cursorActivity",$p),J(E),E.enterVimMode()}function m(E){E.setOption("disableInput",!1),E.off("cursorActivity",$p),E.state.vim=null,Sa&&clearTimeout(Sa),E.leaveVimMode()}function w(E,u){E.attached=!1,this==t.default.keyMap.vim&&(E.options.$customCursor=null),(!u||u.attach!=C)&&m(E)}function C(E,u){this==t.default.keyMap.vim&&(E.attached=!0,E.curOp&&(E.curOp.selectionChanged=!0),E.options.$customCursor=s),(!u||u.attach!=C)&&p(E)}t.default.defineOption("vimMode",!1,function(E,u,S){u&&E.getOption("keyMap")!="vim"?E.setOption("keyMap","vim"):!u&&S!=t.default.Init&&/^vim/.test(E.getOption("keyMap"))&&E.setOption("keyMap","default")});function y(E,u){if(u){if(this[E])return this[E];var S=c(E);if(!S)return!1;var k=ue.findKey(u,S);return typeof k=="function"&&t.default.signal(u,"vim-keypress",S),k}}var v={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A",CapsLock:""},d={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"};function c(E){if(E.charAt(0)=="'")return E.charAt(1);if(E==="AltGraph")return!1;var u=E.split(/-(?!$)/),S=u[u.length-1];if(u.length==1&&u[0].length==1)return!1;if(u.length==2&&u[0]=="Shift"&&S.length==1)return!1;for(var k=!1,T=0;T<u.length;T++){var A=u[T];A in v?u[T]=v[A]:k=!0,A in d&&(u[T]=d[A])}return k?(W(S)&&(u[u.length-1]=S.toLowerCase()),"<"+u.join("-")+">"):!1}var f=/[\d]/,_=[t.default.isWordChar,function(E){return E&&!t.default.isWordChar(E)&&!/\s/.test(E)}],b=[function(E){return/\S/.test(E)}];function R(E,u){for(var S=[],k=E;k<E+u;k++)S.push(String.fromCharCode(k));return S}var L=R(65,26),x=R(97,26),I=R(48,10),j=[].concat(L,x,I,["<",">"]),G=[].concat(L,x,I,["-",'"',".",":","_","/"]),X;try{X=new RegExp("^[\\p{Lu}]$","u")}catch{X=/^[A-Z]$/}function D(E,u){return u>=E.firstLine()&&u<=E.lastLine()}function $(E){return/^[a-z]$/.test(E)}function N(E){return f.test(E)}function W(E){return X.test(E)}function Q(E){return/^\s*$/.test(E)}function z(E){return".?!".indexOf(E)!=-1}function M(E,u){for(var S=0;S<u.length;S++)if(u[S]==E)return!0;return!1}var P={};function O(E,u,S,k,T){if(u===void 0&&!T)throw Error("defaultValue is required unless callback is provided");if(S||(S="string"),P[E]={type:S,defaultValue:u,callback:T},k)for(var A=0;A<k.length;A++)P[k[A]]=P[E];u&&U(E,u)}function U(E,u,S,k){var T=P[E];k=k||{};var A=k.scope;if(!T)return new Error("Unknown option: "+E);if(T.type=="boolean"){if(u&&u!==!0)return new Error("Invalid argument: "+E+"="+u);u!==!1&&(u=!0)}T.callback?(A!=="local"&&T.callback(u,void 0),A!=="global"&&S&&T.callback(u,S)):(A!=="local"&&(T.value=T.type=="boolean"?!!u:u),A!=="global"&&S&&(S.state.vim.options[E]={value:u}))}function Z(E,u,S){var k=P[E];S=S||{};var T=S.scope;if(!k)return new Error("Unknown option: "+E);if(k.callback){var A=u&&k.callback(void 0,u);return T!=="global"&&A!==void 0?A:T!=="local"?k.callback():void 0}else{var A=T!=="global"&&u&&u.state.vim.options[E];return(A||T!=="local"&&k||{}).value}}O("filetype",void 0,"string",["ft"],function(E,u){if(u!==void 0)if(E===void 0){var S=u.getOption("mode");return S=="null"?"":S}else{var S=E==""?"null":E;u.setOption("mode",S)}});var re=function(){var u=100,S=-1,k=0,T=0,A=new Array(u);function F(q,Y,ee){var ae=S%u,oe=A[ae];function se(me){var ve=++S%u,Te=A[ve];Te&&Te.clear(),A[ve]=q.setBookmark(me)}if(oe){var ge=oe.find();ge&&!Nr(ge,Y)&&se(Y)}else se(Y);se(ee),k=S,T=S-u+1,T<0&&(T=0)}function H(q,Y){S+=Y,S>k?S=k:S<T&&(S=T);var ee=A[(u+S)%u];if(ee&&!ee.find()){var ae=Y>0?1:-1,oe,se=q.getCursor();do if(S+=ae,ee=A[(u+S)%u],ee&&(oe=ee.find())&&!Nr(se,oe))break;while(S<k&&S>T)}return ee}function V(q,Y){var ee=S,ae=H(q,Y);return S=ee,ae&&ae.find()}return{cachedCursor:void 0,add:F,find:V,move:H}},le=function(u){return u?{changes:u.changes,expectCursorActivityForChange:u.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function ce(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=le()}ce.prototype={exitMacroRecordMode:function(){var u=B.macroModeState;u.onRecordingDone&&u.onRecordingDone(),u.onRecordingDone=void 0,u.isRecording=!1},enterMacroRecordMode:function(u,S){var k=B.registerController.getRegister(S);k&&(k.clear(),this.latestRegister=S,u.openDialog&&(this.onRecordingDone=u.openDialog(document.createTextNode("(recording)["+S+"]"),null,{bottom:!0})),this.isRecording=!0)}};function J(E){return E.state.vim||(E.state.vim={inputState:new he,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),E.state.vim}var B;function te(){B={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:re(),macroModeState:new ce,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new we({}),searchHistoryController:new pe,exCommandHistoryController:new pe};for(var E in P){var u=P[E];u.value=u.defaultValue}}var ie,ue={buildKeyMap:function(){},getRegisterController:function(){return B.registerController},resetVimGlobalState_:te,getVimGlobalState_:function(){return B},maybeInitVimState_:J,suppressErrorLogging:!1,InsertModeKey:mu,map:function(u,S,k){fn.map(u,S,k)},unmap:function(u,S){return fn.unmap(u,S)},noremap:function(u,S,k){function T(oe){return oe?[oe]:["normal","insert","visual"]}for(var A=T(k),F=a.length,H=o,V=F-H;V<F&&A.length;V++){var q=a[V];if(q.keys==S&&(!k||!q.context||q.context===k)&&q.type.substr(0,2)!=="ex"&&q.type.substr(0,3)!=="key"){var Y={};for(var ee in q)Y[ee]=q[ee];Y.keys=u,k&&!Y.context&&(Y.context=k),this._mapCommand(Y);var ae=T(q.context);A=A.filter(function(oe){return ae.indexOf(oe)===-1})}}},mapclear:function(u){var S=a.length,k=o,T=a.slice(0,S-k);if(a=a.slice(S-k),u)for(var A=T.length-1;A>=0;A--){var F=T[A];if(u!==F.context)if(F.context)this._mapCommand(F);else{var H=["normal","insert","visual"];for(var V in H)if(H[V]!==u){var q={};for(var Y in F)q[Y]=F[Y];q.context=H[V],this._mapCommand(q)}}}},setOption:U,getOption:Z,defineOption:O,defineEx:function(u,S,k){if(!S)S=u;else if(u.indexOf(S)!==0)throw new Error('(Vim.defineEx) "'+S+'" is not a prefix of "'+u+'", command not registered');Bp[u]=k,fn.commandMap_[S]={name:u,shortName:S,type:"api"}},handleKey:function(u,S,k){var T=this.findKey(u,S,k);if(typeof T=="function")return T()},findKey:function(u,S,k){var T=J(u);function A(){var ee=B.macroModeState;if(ee.isRecording){if(S=="q")return ee.exitMacroRecordMode(),Se(u),!0;k!="mapping"&&_C(ee,S)}}function F(){if(S=="<Esc>"){if(T.visualMode)un(u);else if(T.insertMode)Xs(u);else return;return Se(u),!0}}function H(ee){for(var ae;ee;)ae=/<\w+-.+?>|<\w+>|./.exec(ee),S=ae[0],ee=ee.substring(ae.index+S.length),ue.handleKey(u,S,"mapping")}function V(){if(F())return!0;for(var ee=T.inputState.keyBuffer=T.inputState.keyBuffer+S,ae=S.length==1,oe=Oe.matchCommand(ee,a,T.inputState,"insert");ee.length>1&&oe.type!="full";){var ee=T.inputState.keyBuffer=ee.slice(1),se=Oe.matchCommand(ee,a,T.inputState,"insert");se.type!="none"&&(oe=se)}if(oe.type=="none")return Se(u),!1;if(oe.type=="partial")return ie&&window.clearTimeout(ie),ie=window.setTimeout(function(){T.insertMode&&T.inputState.keyBuffer&&Se(u)},Z("insertModeEscKeysTimeout")),!ae;if(ie&&window.clearTimeout(ie),ae){for(var ge=u.listSelections(),me=0;me<ge.length;me++){var ve=ge[me].head;u.replaceRange("",tt(ve,0,-(ee.length-1)),ve,"+input")}B.macroModeState.lastInsertModeChanges.changes.pop()}return Se(u),oe.command}function q(){if(A()||F())return!0;var ee=T.inputState.keyBuffer=T.inputState.keyBuffer+S;if(/^[1-9]\d*$/.test(ee))return!0;var ge=/^(\d*)(.*)$/.exec(ee);if(!ge)return Se(u),!1;var ae=T.visualMode?"visual":"normal",oe=ge[2]||ge[1];T.inputState.operatorShortcut&&T.inputState.operatorShortcut.slice(-1)==oe&&(oe=T.inputState.operatorShortcut);var se=Oe.matchCommand(oe,a,T.inputState,ae);if(se.type=="none")return Se(u),!1;if(se.type=="partial")return!0;T.inputState.keyBuffer="";var ge=/^(\d*)(.*)$/.exec(ee);return ge[1]&&ge[1]!="0"&&T.inputState.pushRepeatDigit(ge[1]),se.command}var Y;return T.insertMode?Y=V():Y=q(),Y===!1?!T.insertMode&&S.length===1?function(){return!0}:void 0:Y===!0?function(){return!0}:function(){return u.operation(function(){u.curOp.isVimOp=!0;try{Y.type=="keyToKey"?H(Y.toKeys):Oe.processCommand(u,T,Y)}catch(ee){throw u.state.vim=void 0,J(u),ue.suppressErrorLogging||console.log(ee),ee}return!0})}},handleEx:function(u,S){fn.processCommand(u,S)},defineMotion:ht,defineAction:or,defineOperator:yt,mapCommand:mC,_mapCommand:Fp,defineRegister:Le,exitVisualMode:un,exitInsertMode:Xs};function he(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}he.prototype.pushRepeatDigit=function(E){this.operator?this.motionRepeat=this.motionRepeat.concat(E):this.prefixRepeat=this.prefixRepeat.concat(E)},he.prototype.getRepeat=function(){var E=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(E=1,this.prefixRepeat.length>0&&(E*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(E*=parseInt(this.motionRepeat.join(""),10))),E};function Se(E,u){E.state.vim.inputState=new he,t.default.signal(E,"vim-command-done",u)}function _e(E,u,S){this.clear(),this.keyBuffer=[E||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!u,this.blockwise=!!S}_e.prototype={setText:function(u,S,k){this.keyBuffer=[u||""],this.linewise=!!S,this.blockwise=!!k},pushText:function(u,S){S&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(u)},pushInsertModeChanges:function(u){this.insertModeChanges.push(le(u))},pushSearchQuery:function(u){this.searchQueries.push(u)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}};function Le(E,u){var S=B.registerController.registers;if(!E||E.length!=1)throw Error("Register name must be 1 character");if(S[E])throw Error("Register already defined "+E);S[E]=u,G.push(E)}function we(E){this.registers=E,this.unnamedRegister=E['"']=new _e,E["."]=new _e,E[":"]=new _e,E["/"]=new _e}we.prototype={pushText:function(u,S,k,T,A){if(u!=="_"){T&&k.charAt(k.length-1)!==`
`&&(k+=`
`);var F=this.isValidRegister(u)?this.getRegister(u):null;if(!F){switch(S){case"yank":this.registers[0]=new _e(k,T,A);break;case"delete":case"change":k.indexOf(`
`)==-1?this.registers["-"]=new _e(k,T):(this.shiftNumericRegisters_(),this.registers[1]=new _e(k,T));break}this.unnamedRegister.setText(k,T,A);return}var H=W(u);H?F.pushText(k,T):F.setText(k,T,A),this.unnamedRegister.setText(F.toString(),T)}},getRegister:function(u){return this.isValidRegister(u)?(u=u.toLowerCase(),this.registers[u]||(this.registers[u]=new _e),this.registers[u]):this.unnamedRegister},isValidRegister:function(u){return u&&M(u,G)},shiftNumericRegisters_:function(){for(var u=9;u>=2;u--)this.registers[u]=this.getRegister(""+(u-1))}};function pe(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}pe.prototype={nextMatch:function(u,S){var k=this.historyBuffer,T=S?-1:1;this.initialPrefix===null&&(this.initialPrefix=u);for(var A=this.iterator+T;S?A>=0:A<k.length;A+=T)for(var F=k[A],H=0;H<=F.length;H++)if(this.initialPrefix==F.substring(0,H))return this.iterator=A,F;if(A>=k.length)return this.iterator=k.length,this.initialPrefix;if(A<0)return u},pushInput:function(u){var S=this.historyBuffer.indexOf(u);S>-1&&this.historyBuffer.splice(S,1),u.length&&this.historyBuffer.push(u)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var Oe={matchCommand:function(u,S,k,T){var A=Tn(u,S,T,k);if(!A.full&&!A.partial)return{type:"none"};if(!A.full&&A.partial)return{type:"partial"};for(var F,H=0;H<A.full.length;H++){var V=A.full[H];F||(F=V)}if(F.keys.slice(-11)=="<character>"){var q=Xr(u);if(!q)return{type:"none"};k.selectedCharacter=q}return{type:"full",command:F}},processCommand:function(u,S,k){switch(S.inputState.repeatOverride=k.repeatOverride,k.type){case"motion":this.processMotion(u,S,k);break;case"operator":this.processOperator(u,S,k);break;case"operatorMotion":this.processOperatorMotion(u,S,k);break;case"action":this.processAction(u,S,k);break;case"search":this.processSearch(u,S,k);break;case"ex":case"keyToEx":this.processEx(u,S,k);break}},processMotion:function(u,S,k){S.inputState.motion=k.motion,S.inputState.motionArgs=cn(k.motionArgs),this.evalInput(u,S)},processOperator:function(u,S,k){var T=S.inputState;if(T.operator)if(T.operator==k.operator){T.motion="expandToLine",T.motionArgs={linewise:!0},this.evalInput(u,S);return}else Se(u);T.operator=k.operator,T.operatorArgs=cn(k.operatorArgs),k.keys.length>1&&(T.operatorShortcut=k.keys),k.exitVisualBlock&&(S.visualBlock=!1,Xi(u)),S.visualMode&&this.evalInput(u,S)},processOperatorMotion:function(u,S,k){var T=S.visualMode,A=cn(k.operatorMotionArgs);A&&T&&A.visualLine&&(S.visualLine=!0),this.processOperator(u,S,k),T||this.processMotion(u,S,k)},processAction:function(u,S,k){var T=S.inputState,A=T.getRepeat(),F=!!A,H=cn(k.actionArgs)||{};T.selectedCharacter&&(H.selectedCharacter=T.selectedCharacter),k.operator&&this.processOperator(u,S,k),k.motion&&this.processMotion(u,S,k),(k.motion||k.operator)&&this.evalInput(u,S),H.repeat=A||1,H.repeatIsExplicit=F,H.registerName=T.registerName,Se(u),S.lastMotion=null,k.isEdit&&this.recordLastEdit(S,T,k),Fr[k.action](u,H,S)},processSearch:function(u,S,k){if(!u.getSearchCursor)return;var T=k.searchArgs.forward,A=k.searchArgs.wholeWordOnly;dn(u).setReversed(!T);var F=T?"/":"?",H=dn(u).getQuery(),V=u.getScrollInfo();function q(ve,Te,xe){B.searchHistoryController.pushInput(ve),B.searchHistoryController.reset();try{Qs(u,ve,Te,xe)}catch{Xe(u,"Invalid regex: "+ve),Se(u);return}Oe.processMotion(u,S,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:k.searchArgs.toJumplist}})}function Y(ve){u.scrollTo(V.left,V.top),q(ve,!0,!0);var Te=B.macroModeState;Te.isRecording&&CC(Te,ve)}function ee(ve,Te,xe){var Ee=t.default.keyName(ve),Je,ar;Ee=="Up"||Ee=="Down"?(Je=Ee=="Up",ar=ve.target?ve.target.selectionEnd:0,Te=B.searchHistoryController.nextMatch(Te,Je)||"",xe(Te),ar&&ve.target&&(ve.target.selectionEnd=ve.target.selectionStart=Math.min(ar,ve.target.value.length))):Ee!="Left"&&Ee!="Right"&&Ee!="Ctrl"&&Ee!="Alt"&&Ee!="Shift"&&B.searchHistoryController.reset();var ft;try{ft=Qs(u,Te,!0,!0)}catch{}ft?u.scrollIntoView(Pp(u,!T,ft),30):(vu(u),u.scrollTo(V.left,V.top))}function ae(ve,Te,xe){var Ee=t.default.keyName(ve);Ee=="Esc"||Ee=="Ctrl-C"||Ee=="Ctrl-["||Ee=="Backspace"&&Te==""?(B.searchHistoryController.pushInput(Te),B.searchHistoryController.reset(),Qs(u,H),vu(u),u.scrollTo(V.left,V.top),t.default.e_stop(ve),Se(u),xe(),u.focus()):Ee=="Up"||Ee=="Down"?t.default.e_stop(ve):Ee=="Ctrl-U"&&(t.default.e_stop(ve),xe(""))}switch(k.searchArgs.querySrc){case"prompt":var oe=B.macroModeState;if(oe.isPlaying){var me=oe.replaySearchQueries.shift();q(me,!0,!1)}else _a(u,{onClose:Y,prefix:F,desc:"(JavaScript regexp)",onKeyUp:ee,onKeyDown:ae});break;case"wordUnderCursor":var se=ya(u,!1,!0,!1,!0),ge=!0;if(se||(se=ya(u,!1,!0,!1,!1),ge=!1),!se)return;var me=u.getLine(se.start.line).substring(se.start.ch,se.end.ch);ge&&A?me="\\b"+me+"\\b":me=US(me),B.jumpList.cachedCursor=u.getCursor(),u.setCursor(se.start),q(me,!0,!1);break}},processEx:function(u,S,k){function T(F){B.exCommandHistoryController.pushInput(F),B.exCommandHistoryController.reset(),fn.processCommand(u,F)}function A(F,H,V){var q=t.default.keyName(F),Y,ee;(q=="Esc"||q=="Ctrl-C"||q=="Ctrl-["||q=="Backspace"&&H=="")&&(B.exCommandHistoryController.pushInput(H),B.exCommandHistoryController.reset(),t.default.e_stop(F),Se(u),V(),u.focus()),q=="Up"||q=="Down"?(t.default.e_stop(F),Y=q=="Up",ee=F.target?F.target.selectionEnd:0,H=B.exCommandHistoryController.nextMatch(H,Y)||"",V(H),ee&&F.target&&(F.target.selectionEnd=F.target.selectionStart=Math.min(ee,F.target.value.length))):q=="Ctrl-U"?(t.default.e_stop(F),V("")):q!="Left"&&q!="Right"&&q!="Ctrl"&&q!="Alt"&&q!="Shift"&&B.exCommandHistoryController.reset()}k.type=="keyToEx"?fn.processCommand(u,k.exArgs.input):S.visualMode?_a(u,{onClose:T,prefix:":",value:"'<,'>",onKeyDown:A,selectValueOnOpen:!1}):_a(u,{onClose:T,prefix:":",onKeyDown:A})},evalInput:function(u,S){var k=S.inputState,T=k.motion,A=k.motionArgs||{},F=k.operator,H=k.operatorArgs||{},V=k.registerName,q=S.sel,Y=Ge(S.visualMode?dt(u,q.head):u.getCursor("head")),ee=Ge(S.visualMode?dt(u,q.anchor):u.getCursor("anchor")),ae=Ge(Y),oe=Ge(ee),se,ge,me;if(F&&this.recordLastEdit(S,k),k.repeatOverride!==void 0?me=k.repeatOverride:me=k.getRepeat(),me>0&&A.explicitRepeat?A.repeatIsExplicit=!0:(A.noRepeat||!A.explicitRepeat&&me===0)&&(me=1,A.repeatIsExplicit=!1),k.selectedCharacter&&(A.selectedCharacter=H.selectedCharacter=k.selectedCharacter),A.repeat=me,Se(u),T){var ve=$e[T](u,Y,A,S,k);if(S.lastMotion=$e[T],!ve)return;if(A.toJumplist){var Te=B.jumpList,xe=Te.cachedCursor;xe?(Cp(u,xe,ve),delete Te.cachedCursor):Cp(u,Y,ve)}ve instanceof Array?(ge=ve[0],se=ve[1]):se=ve,se||(se=Ge(Y)),S.visualMode?(S.visualBlock&&se.ch===1/0||(se=dt(u,se)),ge&&(ge=dt(u,ge)),ge=ge||oe,q.anchor=ge,q.head=se,Xi(u),Ln(u,S,"<",_t(ge,se)?ge:se),Ln(u,S,">",_t(ge,se)?se:ge)):F||(se=dt(u,se),u.setCursor(se.line,se.ch))}if(F){if(H.lastSel){ge=oe;var Ee=H.lastSel,Je=Math.abs(Ee.head.line-Ee.anchor.line),ar=Math.abs(Ee.head.ch-Ee.anchor.ch);Ee.visualLine?se=new i(oe.line+Je,oe.ch):Ee.visualBlock?se=new i(oe.line+Je,oe.ch+ar):Ee.head.line==Ee.anchor.line?se=new i(oe.line,oe.ch+ar):se=new i(oe.line+Je,oe.ch),S.visualMode=!0,S.visualLine=Ee.visualLine,S.visualBlock=Ee.visualBlock,q=S.sel={anchor:ge,head:se},Xi(u)}else S.visualMode&&(H.lastSel={anchor:Ge(q.anchor),head:Ge(q.head),visualBlock:S.visualBlock,visualLine:S.visualLine});var ft,qt,We,Be,At;if(S.visualMode){if(ft=$r(q.head,q.anchor),qt=wi(q.head,q.anchor),We=S.visualLine||H.linewise,Be=S.visualBlock?"block":We?"line":"char",At=fu(u,{anchor:ft,head:qt},Be),We){var lr=At.ranges;if(Be=="block")for(var Qt=0;Qt<lr.length;Qt++)lr[Qt].head.ch=wt(u,lr[Qt].head.line);else Be=="line"&&(lr[0].head=new i(lr[0].head.line+1,0))}}else{if(ft=Ge(ge||oe),qt=Ge(se||ae),_t(qt,ft)){var zn=ft;ft=qt,qt=zn}We=A.linewise||H.linewise,We?qS(u,ft,qt):A.forward&&GS(u,ft,qt),Be="char";var Js=!A.inclusive||We;At=fu(u,{anchor:ft,head:qt},Be,Js)}u.setSelections(At.ranges,At.primary),S.lastMotion=null,H.repeat=me,H.registerName=V,H.linewise=We;var Ys=Sr[F](u,H,At.ranges,oe,se);S.visualMode&&un(u,Ys!=null),Ys&&u.setCursor(Ys)}},recordLastEdit:function(u,S,k){var T=B.macroModeState;T.isPlaying||(u.lastEditInputState=S,u.lastEditActionCommand=k,T.lastInsertModeChanges.changes=[],T.lastInsertModeChanges.expectCursorActivityForChange=!1,T.lastInsertModeChanges.visualBlock=u.visualBlock?u.sel.head.line-u.sel.anchor.line:0)}},$e={moveToTopLine:function(u,S,k){var T=gu(u).top+k.repeat-1;return new i(T,hn(u.getLine(T)))},moveToMiddleLine:function(u){var S=gu(u),k=Math.floor((S.top+S.bottom)*.5);return new i(k,hn(u.getLine(k)))},moveToBottomLine:function(u,S,k){var T=gu(u).bottom-k.repeat+1;return new i(T,hn(u.getLine(T)))},expandToLine:function(u,S,k){var T=S;return new i(T.line+k.repeat-1,1/0)},findNext:function(u,S,k){var T=dn(u),A=T.getQuery();if(A){var F=!k.forward;return F=T.isReversed()?!F:F,Mp(u,A),Pp(u,F,A,k.repeat)}},findAndSelectNextInclusive:function(u,S,k,T,A){var F=dn(u),H=F.getQuery();if(H){var V=!k.forward;V=F.isReversed()?!V:V;var q=pC(u,V,H,k.repeat,T);if(q){if(A.operator)return q;var Y=q[0],ee=new i(q[1].line,q[1].ch-1);if(T.visualMode){(T.visualLine||T.visualBlock)&&(T.visualLine=!1,T.visualBlock=!1,t.default.signal(u,"vim-mode-change",{mode:"visual",subMode:""}));var ae=T.sel.anchor;if(ae)return F.isReversed()?k.forward?[ae,Y]:[ae,ee]:k.forward?[ae,ee]:[ae,Y]}else T.visualMode=!0,T.visualLine=!1,T.visualBlock=!1,t.default.signal(u,"vim-mode-change",{mode:"visual",subMode:""});return V?[ee,Y]:[Y,ee]}}},goToMark:function(u,S,k,T){var A=Op(u,T,k.selectedCharacter);return A?k.linewise?{line:A.line,ch:hn(u.getLine(A.line))}:A:null},moveToOtherHighlightedEnd:function(u,S,k,T){if(T.visualBlock&&k.sameLine){var A=T.sel;return[dt(u,new i(A.anchor.line,A.head.ch)),dt(u,new i(A.head.line,A.anchor.ch))]}else return[T.sel.head,T.sel.anchor]},jumpToMark:function(u,S,k,T){for(var A=S,F=0;F<k.repeat;F++){var H=A;for(var V in T.marks)if($(V)){var q=T.marks[V].find(),Y=k.forward?_t(q,H):_t(H,q);if(!Y&&!(k.linewise&&q.line==H.line)){var ee=Nr(H,A),ae=k.forward?mp(H,q,A):mp(A,q,H);(ee||ae)&&(A=q)}}}return k.linewise&&(A=new i(A.line,hn(u.getLine(A.line)))),A},moveByCharacters:function(u,S,k){var T=S,A=k.repeat,F=k.forward?T.ch+A:T.ch-A;return new i(T.line,F)},moveByLines:function(u,S,k,T){var A=S,F=A.ch;switch(T.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:F=T.lastHPos;break;default:T.lastHPos=F}var H=k.repeat+(k.repeatOffset||0),V=k.forward?A.line+H:A.line-H,q=u.firstLine(),Y=u.lastLine(),ee=u.findPosV(A,k.forward?H:-H,"line",T.lastHSPos),ae=k.forward?ee.line>V:ee.line<V;return ae&&(V=ee.line,F=ee.ch),V<q&&A.line==q?this.moveToStartOfLine(u,S,k,T):V>Y&&A.line==Y?bp(u,S,k,T,!0):(k.toFirstChar&&(F=hn(u.getLine(V)),T.lastHPos=F),T.lastHSPos=u.charCoords(new i(V,F),"div").left,new i(V,F))},moveByDisplayLines:function(u,S,k,T){var A=S;switch(T.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:T.lastHSPos=u.charCoords(A,"div").left}var F=k.repeat,H=u.findPosV(A,k.forward?F:-F,"line",T.lastHSPos);if(H.hitSide)if(k.forward)var V=u.charCoords(H,"div"),q={top:V.top+8,left:T.lastHSPos},H=u.coordsChar(q,"div");else{var Y=u.charCoords(new i(u.firstLine(),0),"div");Y.left=T.lastHSPos,H=u.coordsChar(Y,"div")}return T.lastHPos=H.ch,H},moveByPage:function(u,S,k){var T=S,A=k.repeat;return u.findPosV(T,k.forward?A:-A,"page")},moveByParagraph:function(u,S,k){var T=k.forward?1:-1;return xp(u,S,k.repeat,T)},moveBySentence:function(u,S,k){var T=k.forward?1:-1;return rC(u,S,k.repeat,T)},moveByScroll:function(u,S,k,T){var A=u.getScrollInfo(),V=null,F=k.repeat;F||(F=A.clientHeight/(2*u.defaultTextHeight()));var H=u.charCoords(S,"local");k.repeat=F;var V=$e.moveByDisplayLines(u,S,k,T);if(!V)return null;var q=u.charCoords(V,"local");return u.scrollTo(null,A.top+q.top-H.top),V},moveByWords:function(u,S,k){return ZS(u,S,k.repeat,!!k.forward,!!k.wordEnd,!!k.bigWord)},moveTillCharacter:function(u,S,k){var T=k.repeat,A=pu(u,T,k.forward,k.selectedCharacter),F=k.forward?-1:1;return wp(F,k),A?(A.ch+=F,A):null},moveToCharacter:function(u,S,k){var T=k.repeat;return wp(0,k),pu(u,T,k.forward,k.selectedCharacter)||S},moveToSymbol:function(u,S,k){var T=k.repeat;return JS(u,T,k.forward,k.selectedCharacter)||S},moveToColumn:function(u,S,k,T){var A=k.repeat;return T.lastHPos=A-1,T.lastHSPos=u.charCoords(S,"div").left,eC(u,A)},moveToEol:function(u,S,k,T){return bp(u,S,k,T,!1)},moveToFirstNonWhiteSpaceCharacter:function(u,S){var k=S;return new i(k.line,hn(u.getLine(k.line)))},moveToMatchedSymbol:function(u,S){var k=S,T=k.line,A=k.ch,F=u.getLine(T);if(A<F.length){var H=A==="<"||A===">"?/[(){}[\]<>]/:/[(){}[\]]/,V=u.findMatchingBracket(new i(T,A),{bracketRegex:H});return V.to}else return k},moveToStartOfLine:function(u,S){return new i(S.line,0)},moveToLineOrEdgeOfDocument:function(u,S,k){var T=k.forward?u.lastLine():u.firstLine();return k.repeatIsExplicit&&(T=k.repeat-u.getOption("firstLineNumber")),new i(T,hn(u.getLine(T)))},moveToStartOfDisplayLine:function(u){return u.execCommand("goLineLeft"),u.getCursor()},moveToEndOfDisplayLine:function(u){u.execCommand("goLineRight");var S=u.getCursor();return S.sticky=="before"&&S.ch--,S},textObjectManipulation:function(u,S,k,T){var A={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},F={"'":!0,'"':!0,"`":!0},H=k.selectedCharacter;H=="b"?H="(":H=="B"&&(H="{");var V=!k.textObjectInner,q;if(A[H])q=nC(u,S,H,V);else if(F[H])q=iC(u,S,H,V);else if(H==="W")q=ya(u,V,!0,!0);else if(H==="w")q=ya(u,V,!0,!1);else if(H==="p")if(q=xp(u,S,k.repeat,0,V),k.linewise=!0,T.visualMode)T.visualLine||(T.visualLine=!0);else{var Y=T.inputState.operatorArgs;Y&&(Y.linewise=!0),q.end.line--}else if(H==="t")q=QS(u,S,V);else return null;return u.state.vim.visualMode?KS(u,q.start,q.end):[q.start,q.end]},repeatLastCharacterSearch:function(u,S,k){var T=B.lastCharacterSearch,A=k.repeat,F=k.forward===T.forward,H=(T.increment?1:0)*(F?-1:1);u.moveH(-H,"char"),k.inclusive=!!F;var V=pu(u,A,F,T.selectedCharacter);return V?(V.ch+=H,V):(u.moveH(H,"char"),S)}};function ht(E,u){$e[E]=u}function $t(E,u){for(var S=[],k=0;k<u;k++)S.push(E);return S}var Sr={change:function(u,S,k){var T,A,F=u.state.vim,H=k[0].anchor,V=k[0].head;if(F.visualMode)if(S.fullLine)V.ch=Number.MAX_VALUE,V.line--,u.setSelection(H,V),A=u.getSelection(),u.replaceSelections(""),T=H;else{A=u.getSelection();var oe=$t("",k.length);u.replaceSelections(oe),T=$r(k[0].head,k[0].anchor)}else{A=u.getRange(H,V);var q=F.lastEditInputState||{};if(q.motion=="moveByWords"&&!Q(A)){var Y=/\s+$/.exec(A);Y&&q.motionArgs&&q.motionArgs.forward&&(V=tt(V,0,-Y[0].length),A=A.slice(0,-Y[0].length))}var ee=new i(H.line-1,Number.MAX_VALUE),ae=u.firstLine()==u.lastLine();V.line>u.lastLine()&&S.linewise&&!ae?u.replaceRange("",ee,V):u.replaceRange("",H,V),S.linewise&&(ae||(u.setCursor(ee),t.default.commands.newlineAndIndent(u)),H.ch=Number.MAX_VALUE),T=H}B.registerController.pushText(S.registerName,"change",A,S.linewise,k.length>1),Fr.enterInsertMode(u,{head:T},u.state.vim)},delete:function(u,S,k){u.pushUndoStop();var T,A,F=u.state.vim;if(F.visualBlock){A=u.getSelection();var q=$t("",k.length);u.replaceSelections(q),T=$r(k[0].head,k[0].anchor)}else{var H=k[0].anchor,V=k[0].head;S.linewise&&V.line!=u.firstLine()&&H.line==u.lastLine()&&H.line==V.line-1&&(H.line==u.firstLine()?H.ch=0:H=new i(H.line-1,wt(u,H.line-1))),A=u.getRange(H,V),u.replaceRange("",H,V),T=H,S.linewise&&(T=$e.moveToFirstNonWhiteSpaceCharacter(u,H))}return B.registerController.pushText(S.registerName,"delete",A,S.linewise,F.visualBlock),dt(u,T)},indent:function(u,S,k){var T=u.state.vim,A=k[0].anchor.line,F=T.visualBlock?k[k.length-1].anchor.line:k[0].head.line,H=T.visualMode?S.repeat:1;S.linewise&&F--,u.pushUndoStop();for(var V=A;V<=F;V++)for(var q=0;q<H;q++)u.indentLine(V,S.indentRight);return u.pushUndoStop(),$e.moveToFirstNonWhiteSpaceCharacter(u,k[0].anchor)},indentAuto:function(u,S,k){return u.execCommand("indentAuto"),$e.moveToFirstNonWhiteSpaceCharacter(u,k[0].anchor)},changeCase:function(u,S,k,T,A){for(var F=u.getSelections(),H=[],V=S.toLower,q=0;q<F.length;q++){var Y=F[q],ee="";if(V===!0)ee=Y.toLowerCase();else if(V===!1)ee=Y.toUpperCase();else for(var ae=0;ae<Y.length;ae++){var oe=Y.charAt(ae);ee+=W(oe)?oe.toLowerCase():oe.toUpperCase()}H.push(ee)}return u.replaceSelections(H),S.shouldMoveCursor?A:!u.state.vim.visualMode&&S.linewise&&k[0].anchor.line+1==k[0].head.line?$e.moveToFirstNonWhiteSpaceCharacter(u,T):S.linewise?T:$r(k[0].anchor,k[0].head)},yank:function(u,S,k,T){var A=u.state.vim,F=u.getSelection(),H=A.visualMode?$r(A.sel.anchor,A.sel.head,k[0].head,k[0].anchor):T;return B.registerController.pushText(S.registerName,"yank",F,S.linewise,A.visualBlock),H}};function yt(E,u){Sr[E]=u}var Fr={jumpListWalk:function(u,S,k){if(!k.visualMode){var T=S.repeat,A=S.forward,F=B.jumpList,H=F.move(u,A?T:-T),V=H?H.find():void 0;V=V||u.getCursor(),u.setCursor(V)}},scroll:function(u,S,k){if(!k.visualMode){var T=S.repeat||1,A=u.defaultTextHeight(),F=u.getScrollInfo().top,H=A*T,V=S.forward?F+H:F-H,q=Ge(u.getCursor()),Y=u.charCoords(q,"local");if(S.forward)V>Y.top?(q.line+=(V-Y.top)/A,q.line=Math.ceil(q.line),u.setCursor(q),Y=u.charCoords(q,"local"),u.scrollTo(null,Y.top)):u.scrollTo(null,V);else{var ee=V+u.getScrollInfo().clientHeight;ee<Y.bottom?(q.line-=(Y.bottom-ee)/A,q.line=Math.floor(q.line),u.setCursor(q),Y=u.charCoords(q,"local"),u.scrollTo(null,Y.bottom-u.getScrollInfo().clientHeight)):u.scrollTo(null,V)}}},scrollToCursor:function(u,S){var k=u.getCursor().line,T=u.charCoords(new i(k,0),"local"),A=u.getScrollInfo().clientHeight,F=T.top,H=T.bottom-F;switch(S.position){case"center":F=F-A/2+H;break;case"bottom":F=F-A+H;break}u.moveCurrentLineTo(F)},replayMacro:function(u,S,k){var T=S.selectedCharacter,A=S.repeat,F=B.macroModeState;for(T=="@"?T=F.latestRegister:F.latestRegister=T;A--;)yC(u,k,F,T)},enterMacroRecordMode:function(u,S){var k=B.macroModeState,T=S.selectedCharacter;B.registerController.isValidRegister(T)&&k.enterMacroRecordMode(u,T)},toggleOverwrite:function(u){u.state.overwrite?(u.toggleOverwrite(!1),u.setOption("keyMap","vim-insert"),t.default.signal(u,"vim-mode-change",{mode:"insert"})):(u.toggleOverwrite(!0),u.setOption("keyMap","vim-replace"),t.default.signal(u,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(u,S,k){if(!u.getOption("readOnly")){k.insertMode=!0,k.insertModeRepeat=S&&S.repeat||1;var T=S?S.insertAt:null,A=k.sel,F=S.head||u.getCursor("head"),H=u.listSelections().length;if(T=="eol")F=new i(F.line,wt(u,F.line));else if(T=="bol")F=new i(F.line,0);else if(T=="charAfter")F=tt(F,0,1);else if(T=="firstNonBlank")F=$e.moveToFirstNonWhiteSpaceCharacter(u,F);else if(T=="startOfSelectedArea"){if(!k.visualMode)return;k.visualBlock?(F=new i(Math.min(A.head.line,A.anchor.line),Math.min(A.head.ch,A.anchor.ch)),H=Math.abs(A.head.line-A.anchor.line)+1):A.head.line<A.anchor.line?F=A.head:F=new i(A.anchor.line,0)}else if(T=="endOfSelectedArea"){if(!k.visualMode)return;k.visualBlock?(F=new i(Math.min(A.head.line,A.anchor.line),Math.max(A.head.ch,A.anchor.ch)+1),H=Math.abs(A.head.line-A.anchor.line)+1):A.head.line>=A.anchor.line?F=tt(A.head,0,1):F=new i(A.anchor.line,0)}else if(T=="inplace"){if(k.visualMode)return}else T=="lastEdit"&&(F=Ip(u)||F);u.setOption("disableInput",!1),S&&S.replace?(u.toggleOverwrite(!0),u.setOption("keyMap","vim-replace"),t.default.signal(u,"vim-mode-change",{mode:"replace"})):(u.toggleOverwrite(!1),u.setOption("keyMap","vim-insert"),t.default.signal(u,"vim-mode-change",{mode:"insert"})),B.macroModeState.isPlaying||(u.on("change",Np),t.default.on(u.getInputField(),"keydown",Hp)),k.visualMode&&un(u),_p(u,F,H)}},toggleVisualMode:function(u,S,k){var T=S.repeat,A=u.getCursor(),F;k.visualMode?k.visualLine^S.linewise||k.visualBlock^S.blockwise?(k.visualLine=!!S.linewise,k.visualBlock=!!S.blockwise,t.default.signal(u,"vim-mode-change",{mode:"visual",subMode:k.visualLine?"linewise":k.visualBlock?"blockwise":""}),Xi(u)):un(u):(k.visualMode=!0,k.visualLine=!!S.linewise,k.visualBlock=!!S.blockwise,F=dt(u,new i(A.line,A.ch+T-1)),k.sel={anchor:A,head:F},t.default.signal(u,"vim-mode-change",{mode:"visual",subMode:k.visualLine?"linewise":k.visualBlock?"blockwise":""}),Xi(u),Ln(u,k,"<",$r(A,F)),Ln(u,k,">",wi(A,F)))},reselectLastSelection:function(u,S,k){var T=k.lastSelection;if(k.visualMode&&Sp(u,k),T){var A=T.anchorMark.find(),F=T.headMark.find();if(!A||!F)return;k.sel={anchor:A,head:F},k.visualMode=!0,k.visualLine=T.visualLine,k.visualBlock=T.visualBlock,Xi(u),Ln(u,k,"<",$r(A,F)),Ln(u,k,">",wi(A,F)),t.default.signal(u,"vim-mode-change",{mode:"visual",subMode:k.visualLine?"linewise":k.visualBlock?"blockwise":""})}},joinLines:function(u,S,k){var T,A;if(k.visualMode){if(T=u.getCursor("anchor"),A=u.getCursor("head"),_t(A,T)){var F=A;A=T,T=F}A.ch=wt(u,A.line)-1}else{var H=Math.max(S.repeat,2);T=u.getCursor(),A=dt(u,new i(T.line+H-1,1/0))}for(var V=0,q=T.line;q<A.line;q++){V=wt(u,T.line);var F=new i(T.line+1,wt(u,T.line+1)),Y=u.getRange(T,F);Y=S.keepSpaces?Y.replace(/\n\r?/g,""):Y.replace(/\n\s*/g," "),u.replaceRange(Y,T,F)}var ee=new i(T.line,V);k.visualMode&&un(u,!1),u.setCursor(ee)},newLineAndEnterInsertMode:function(u,S,k){if(!u.getOption("readOnly")){k.insertMode=!0;var T=Ge(u.getCursor());if(T.line===u.firstLine()&&!S.after)u.replaceRange(`
`,new i(u.firstLine(),0)),u.setCursor(u.firstLine(),0);else{T.line=S.after?T.line:T.line-1,T.ch=wt(u,T.line),u.setCursor(T);var A=t.default.commands.newlineAndIndentContinueComment||t.default.commands.newlineAndIndent;A(u)}this.enterInsertMode(u,{repeat:S.repeat},k)}},paste:function(u,S,k){var T=Ge(u.getCursor()),A=B.registerController.getRegister(S.registerName),F=A.toString();if(F){if(S.matchIndent){var H=u.getOption("tabSize"),V=function(zn){var Js=zn.split("	").length-1,Ys=zn.split(" ").length-1;return Js*H+Ys*1},q=u.getLine(u.getCursor().line),Y=V(q.match(/^\s*/)[0]),ee=F.replace(/\n$/,""),ae=F!==ee,oe=V(F.match(/^\s*/)[0]),F=ee.replace(/^\s*/gm,function(Qt){var zn=Y+(V(Qt)-oe);if(zn<0)return"";if(u.getOption("indentWithTabs")){var Js=Math.floor(zn/H);return Array(Js+1).join("	")}else return Array(zn+1).join(" ")});F+=ae?`
`:""}if(S.repeat>1)var F=Array(S.repeat+1).join(F);var se=A.linewise,ge=A.blockwise;if(ge){F=F.split(`
`),se&&F.pop();for(var me=0;me<F.length;me++)F[me]=F[me]==""?" ":F[me];T.ch+=S.after?1:0,T.ch=Math.min(wt(u,T.line),T.ch)}else se?k.visualMode?F=k.visualLine?F.slice(0,-1):`
`+F.slice(0,F.length-1)+`
`:S.after?(F=`
`+F.slice(0,F.length-1),T.ch=wt(u,T.line)):T.ch=0:T.ch+=S.after?1:0;var ve,Te;if(k.visualMode){k.lastPastedText=F;var xe,Ee=zS(u,k),Je=Ee[0],ar=Ee[1],ft=u.getSelection(),qt=u.listSelections(),We=new Array(qt.length).join("1").split("1");k.lastSelection&&(xe=k.lastSelection.headMark.find()),B.registerController.unnamedRegister.setText(ft),ge?(u.replaceSelections(We),ar=new i(Je.line+F.length-1,Je.ch),u.setCursor(Je),yp(u,ar),u.replaceSelections(F),ve=Je):k.visualBlock?(u.replaceSelections(We),u.setCursor(Je),u.replaceRange(F,Je,Je),ve=Je):(u.replaceRange(F,Je,ar),ve=u.posFromIndex(u.indexFromPos(Je)+F.length-1)),xe&&(k.lastSelection.headMark=u.setBookmark(xe)),se&&(ve.ch=0)}else if(ge){u.setCursor(T);for(var me=0;me<F.length;me++){var Be=T.line+me;Be>u.lastLine()&&u.replaceRange(`
`,new i(Be,0));var At=wt(u,Be);At<T.ch&&jS(u,Be,T.ch)}u.setCursor(T),yp(u,new i(T.line+F.length-1,T.ch)),u.replaceSelections(F),ve=T}else u.replaceRange(F,T),se&&S.after?ve=new i(T.line+1,hn(u.getLine(T.line+1))):se&&!S.after?ve=new i(T.line,hn(u.getLine(T.line))):!se&&S.after?(Te=u.indexFromPos(T),ve=u.posFromIndex(Te+F.length-1)):(Te=u.indexFromPos(T),ve=u.posFromIndex(Te+F.length));k.visualMode&&un(u,!1),u.setCursor(ve)}},undo:function(u,S){u.operation(function(){Ve(u,t.default.commands.undo,S.repeat)(),u.setCursor(u.getCursor("anchor"))})},redo:function(u,S){Ve(u,t.default.commands.redo,S.repeat)()},setRegister:function(u,S,k){k.inputState.registerName=S.selectedCharacter},setMark:function(u,S,k){var T=S.selectedCharacter;Ln(u,k,T,u.getCursor())},replace:function(u,S,k){var T=S.selectedCharacter,A=u.getCursor(),F,H,V=u.listSelections();if(k.visualMode)A=u.getCursor("start"),H=u.getCursor("end");else{var q=u.getLine(A.line);F=A.ch+S.repeat,F>q.length&&(F=q.length),H=new i(A.line,F)}if(T==`
`)k.visualMode||u.replaceRange("",A,H),(t.default.commands.newlineAndIndentContinueComment||t.default.commands.newlineAndIndent)(u);else{var Y=u.getRange(A,H);if(Y=Y.replace(/[^\n]/g,T),k.visualBlock){var ee=new Array(u.getOption("tabSize")+1).join(" ");Y=u.getSelection(),Y=Y.replace(/\t/g,ee).replace(/[^\n]/g,T).split(`
`),u.replaceSelections(Y)}else u.replaceRange(Y,A,H);k.visualMode?(A=_t(V[0].anchor,V[0].head)?V[0].anchor:V[0].head,u.setCursor(A),un(u,!1)):u.setCursor(tt(H,0,-1))}},incrementNumberToken:function(u,S){for(var k=u.getCursor(),T=u.getLine(k.line),A=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,F,H,V,q;(F=A.exec(T))!==null&&(H=F.index,V=H+F[0].length,!(k.ch<V)););if(!(!S.backtrack&&V<=k.ch)){if(F){var Y=F[2]||F[4],ee=F[3]||F[5],ae=S.increase?1:-1,oe={"0b":2,0:8,"":10,"0x":16}[Y.toLowerCase()],se=parseInt(F[1]+ee,oe)+ae*S.repeat;q=se.toString(oe);var ge=Y?new Array(ee.length-q.length+1+F[1].length).join("0"):"";q.charAt(0)==="-"?q="-"+Y+ge+q.substr(1):q=Y+ge+q;var me=new i(k.line,H),ve=new i(k.line,V);u.replaceRange(q,me,ve)}else return;u.setCursor(new i(k.line,H+q.length-1))}},repeatLastEdit:function(u,S,k){var T=k.lastEditInputState;if(T){var A=S.repeat;A&&S.repeatIsExplicit?k.lastEditInputState.repeatOverride=A:A=k.lastEditInputState.repeatOverride||A,Up(u,k,A,!1)}},indent:function(u,S){u.indentLine(u.getCursor().line,S.indentRight)},exitInsertMode:Xs};function or(E,u){Fr[E]=u}function dt(E,u){var S=E.state.vim,k=S.insertMode||S.visualMode,T=Math.min(Math.max(E.firstLine(),u.line),E.lastLine()),A=wt(E,T)-1+!!k,F=Math.min(Math.max(0,u.ch),A);return new i(T,F)}function cn(E){var u={};for(var S in E)E.hasOwnProperty(S)&&(u[S]=E[S]);return u}function tt(E,u,S){return n(u)==="object"&&(S=u.ch,u=u.line),new i(E.line+u,E.ch+S)}function Tn(E,u,S,k){for(var T,A=[],F=[],H=0;H<u.length;H++){var V=u[H];S=="insert"&&V.context!="insert"||V.context&&V.context!=S||k.operator&&V.type=="action"||!(T=Cr(E,V.keys))||(T=="partial"&&A.push(V),T=="full"&&F.push(V))}return{partial:A.length&&A,full:F.length&&F}}function Cr(E,u){if(u.slice(-11)=="<character>"){var S=u.length-11,k=E.slice(0,S),T=u.slice(0,S);return k==T&&E.length>S?"full":T.indexOf(k)==0?"partial":!1}else return E==u?"full":u.indexOf(E)==0?"partial":!1}function Xr(E){var u=/^.*(<[^>]+>)$/.exec(E),S=u?u[1]:E.slice(-1);if(S.length>1)switch(S){case"<CR>":S=`
`;break;case"<Space>":S=" ";break;default:S="";break}return S}function Ve(E,u,S){return function(){for(var k=0;k<S;k++)u(E)}}function Ge(E){return new i(E.line,E.ch)}function Nr(E,u){return E.ch==u.ch&&E.line==u.line}function _t(E,u){return E.line<u.line||E.line==u.line&&E.ch<u.ch}function $r(E,u){return arguments.length>2&&(u=$r.apply(void 0,Array.prototype.slice.call(arguments,1))),_t(E,u)?E:u}function wi(E,u){return arguments.length>2&&(u=wi.apply(void 0,Array.prototype.slice.call(arguments,1))),_t(E,u)?u:E}function mp(E,u,S){var k=_t(E,u),T=_t(u,S);return k&&T}function wt(E,u){return E.getLine(u).length}function du(E){return E.trim?E.trim():E.replace(/^\s+|\s+$/g,"")}function US(E){return E.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function jS(E,u,S){var k=wt(E,u),T=new Array(S-k+1).join(" ");E.setCursor(new i(u,k)),E.replaceRange(T,E.getCursor())}function yp(E,u){var S=[],k=E.listSelections(),T=Ge(E.clipPos(u)),A=!Nr(u,T),F=E.getCursor("head"),H=WS(k,F),V=Nr(k[H].head,k[H].anchor),q=k.length-1,Y=q-H>H?q:0,ee=k[Y].anchor,ae=Math.min(ee.line,T.line),oe=Math.max(ee.line,T.line),se=ee.ch,ge=T.ch,me=k[Y].head.ch-se,ve=ge-se;me>0&&ve<=0?(se++,A||ge--):me<0&&ve>=0?(se--,V||ge++):me<0&&ve==-1&&(se--,ge++);for(var Te=ae;Te<=oe;Te++){var xe={anchor:new i(Te,se),head:new i(Te,ge)};S.push(xe)}return E.setSelections(S),u.ch=ge,ee.ch=se,ee}function _p(E,u,S){for(var k=[],T=0;T<S;T++){var A=tt(u,T,0);k.push({anchor:A,head:A})}E.setSelections(k,0)}function WS(E,u,S){for(var k=0;k<E.length;k++){var T=Nr(E[k].anchor,u),A=Nr(E[k].head,u);if(T||A)return k}return-1}function zS(E,u){var S=u.lastSelection,k=function(){var F=E.listSelections(),H=F[0],V=F[F.length-1],q=_t(H.anchor,H.head)?H.anchor:H.head,Y=_t(V.anchor,V.head)?V.head:V.anchor;return[q,Y]},T=function(){var F=E.getCursor(),H=E.getCursor(),V=S.visualBlock;if(V){var q=V.width,Y=V.height;H=new i(F.line+Y,F.ch+q);for(var ee=[],ae=F.line;ae<H.line;ae++){var oe=new i(ae,F.ch),se=new i(ae,H.ch),ge={anchor:oe,head:se};ee.push(ge)}E.setSelections(ee)}else{var me=S.anchorMark.find(),ve=S.headMark.find(),Te=ve.line-me.line,xe=ve.ch-me.ch;H={line:H.line+Te,ch:Te?H.ch:xe+H.ch},S.visualLine&&(F=new i(F.line,0),H=new i(H.line,wt(E,H.line))),E.setSelection(F,H)}return[F,H]};return u.visualMode?k():T()}function Sp(E,u){var S=u.sel.anchor,k=u.sel.head;u.lastPastedText&&(k=E.posFromIndex(E.indexFromPos(S)+u.lastPastedText.length),u.lastPastedText=null),u.lastSelection={anchorMark:E.setBookmark(S),headMark:E.setBookmark(k),anchor:Ge(S),head:Ge(k),visualMode:u.visualMode,visualLine:u.visualLine,visualBlock:u.visualBlock}}function KS(E,u,S){var k=E.state.vim.sel,T=k.head,A=k.anchor,F;return _t(S,u)&&(F=S,S=u,u=F),_t(T,A)?(T=$r(u,T),A=wi(A,S)):(A=$r(u,A),T=wi(T,S),T=tt(T,0,-1),T.ch==-1&&T.line!=E.firstLine()&&(T=new i(T.line-1,wt(E,T.line-1)))),[A,T]}function Xi(E,u,T){var k=E.state.vim;u=u||k.sel;var T=T||k.visualLine?"line":k.visualBlock?"block":"char",A=fu(E,u,T);E.setSelections(A.ranges,A.primary)}function fu(E,u,S,k){var T=Ge(u.head),A=Ge(u.anchor);if(S=="char"){var F=!k&&!_t(u.head,u.anchor)?1:0,H=_t(u.head,u.anchor)?1:0;return T=tt(u.head,0,F),A=tt(u.anchor,0,H),{ranges:[{anchor:A,head:T}],primary:0}}else if(S=="line"){if(_t(u.head,u.anchor))T.ch=0,A.ch=wt(E,A.line);else{A.ch=0;var V=E.lastLine();T.line>V&&(T.line=V),T.ch=wt(E,T.line)}return{ranges:[{anchor:A,head:T}],primary:0}}else if(S=="block"){var q=Math.min(A.line,T.line),Y=A.ch,ee=Math.max(A.line,T.line),ae=T.ch;Y<ae?ae+=1:Y+=1;for(var oe=ee-q+1,se=T.line==q?0:oe-1,ge=[],me=0;me<oe;me++)ge.push({anchor:new i(q+me,Y),head:new i(q+me,ae)});return{ranges:ge,primary:se}}}function VS(E){var u=E.getCursor("head");return E.getSelection().length==1&&(u=$r(u,E.getCursor("anchor"))),u}function un(E,u){var S=E.state.vim;u!==!1&&E.setCursor(dt(E,S.sel.head)),Sp(E,S),S.visualMode=!1,S.visualLine=!1,S.visualBlock=!1,S.insertMode||t.default.signal(E,"vim-mode-change",{mode:"normal"})}function GS(E,u,S){var k=E.getRange(u,S);if(/\n\s*$/.test(k)){var T=k.split(`
`);T.pop();for(var A,A=T.pop();T.length>0&&A&&Q(A);A=T.pop())S.line--,S.ch=0;A?(S.line--,S.ch=wt(E,S.line)):S.ch=0}}function qS(E,u,S){u.ch=0,S.ch=0,S.line++}function hn(E){if(!E)return 0;var u=E.search(/\S/);return u==-1?E.length:u}function ya(E,u,S,k,T){for(var A=VS(E),F=E.getLine(A.line),H=A.ch,V=T?_[0]:b[0];!V(F.charAt(H));)if(H++,H>=F.length)return null;k?V=b[0]:(V=_[0],V(F.charAt(H))||(V=_[1]));for(var q=H,Y=H;V(F.charAt(q))&&q<F.length;)q++;for(;V(F.charAt(Y))&&Y>=0;)Y--;if(Y++,u){for(var ee=q;/\s/.test(F.charAt(q))&&q<F.length;)q++;if(ee==q){for(var ae=Y;/\s/.test(F.charAt(Y-1))&&Y>0;)Y--;Y||(Y=ae)}}return{start:new i(A.line,Y),end:new i(A.line,q)}}function QS(E,u,S){var k=u;if(!t.default.findMatchingTag||!t.default.findEnclosingTag)return{start:k,end:k};var T=t.default.findMatchingTag(E,u)||t.default.findEnclosingTag(E,u);return!T||!T.open||!T.close?{start:k,end:k}:S?{start:T.open.from,end:T.close.to}:{start:T.open.to,end:T.close.from}}function Cp(E,u,S){Nr(u,S)||B.jumpList.add(E,u,S)}function wp(E,u){B.lastCharacterSearch.increment=E,B.lastCharacterSearch.forward=u.forward,B.lastCharacterSearch.selectedCharacter=u.selectedCharacter}var XS={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},kp={bracket:{isComplete:function(u){if(u.nextCh===u.symb){if(u.depth++,u.depth>=1)return!0}else u.nextCh===u.reverseSymb&&u.depth--;return!1}},section:{init:function(u){u.curMoveThrough=!0,u.symb=(u.forward?"]":"[")===u.symb?"{":"}"},isComplete:function(u){return u.index===0&&u.nextCh===u.symb}},comment:{isComplete:function(u){var S=u.lastCh==="*"&&u.nextCh==="/";return u.lastCh=u.nextCh,S}},method:{init:function(u){u.symb=u.symb==="m"?"{":"}",u.reverseSymb=u.symb==="{"?"}":"{"},isComplete:function(u){return u.nextCh===u.symb}},preprocess:{init:function(u){u.index=0},isComplete:function(u){if(u.nextCh==="#"){var S=u.lineText.match(/^#(\w+)/)[1];if(S==="endif"){if(u.forward&&u.depth===0)return!0;u.depth++}else if(S==="if"){if(!u.forward&&u.depth===0)return!0;u.depth--}if(S==="else"&&u.depth===0)return!0}return!1}}};function JS(E,u,S,k){var T=Ge(E.getCursor()),A=S?1:-1,F=S?E.lineCount():-1,H=T.ch,V=T.line,q=E.getLine(V),Y={lineText:q,nextCh:q.charAt(H),lastCh:null,index:H,symb:k,reverseSymb:(S?{")":"(","}":"{"}:{"(":")","{":"}"})[k],forward:S,depth:0,curMoveThrough:!1},ee=XS[k];if(!ee)return T;var ae=kp[ee].init,oe=kp[ee].isComplete;for(ae&&ae(Y);V!==F&&u;){if(Y.index+=A,Y.nextCh=Y.lineText.charAt(Y.index),!Y.nextCh){if(V+=A,Y.lineText=E.getLine(V)||"",A>0)Y.index=0;else{var se=Y.lineText.length;Y.index=se>0?se-1:0}Y.nextCh=Y.lineText.charAt(Y.index)}oe(Y)&&(T.line=V,T.ch=Y.index,u--)}return Y.nextCh||Y.curMoveThrough?new i(V,Y.index):T}function YS(E,u,S,k,T){var A=u.line,F=u.ch,H=E.getLine(A),V=S?1:-1,q=k?b:_;if(T&&H==""){if(A+=V,H=E.getLine(A),!D(E,A))return null;F=S?0:H.length}for(;;){if(T&&H=="")return{from:0,to:0,line:A};for(var Y=V>0?H.length:-1,ee=Y,ae=Y;F!=Y;){for(var oe=!1,se=0;se<q.length&&!oe;++se)if(q[se](H.charAt(F))){for(ee=F;F!=Y&&q[se](H.charAt(F));)F+=V;if(ae=F,oe=ee!=ae,ee==u.ch&&A==u.line&&ae==ee+V)continue;return{from:Math.min(ee,ae+1),to:Math.max(ee,ae),line:A}}oe||(F+=V)}if(A+=V,!D(E,A))return null;H=E.getLine(A),F=V>0?0:H.length}}function ZS(E,u,S,k,T,A){var F=Ge(u),H=[];(k&&!T||!k&&T)&&S++;for(var V=!(k&&T),q=0;q<S;q++){var Y=YS(E,u,k,A,V);if(!Y){var ee=wt(E,E.lastLine());H.push(k?{line:E.lastLine(),from:ee,to:ee}:{line:0,from:0,to:0});break}H.push(Y),u=new i(Y.line,k?Y.to-1:Y.from)}var ae=H.length!=S,oe=H[0],se=H.pop();return k&&!T?(!ae&&(oe.from!=F.ch||oe.line!=F.line)&&(se=H.pop()),new i(se.line,se.from)):k&&T?new i(se.line,se.to-1):!k&&T?(!ae&&(oe.to!=F.ch||oe.line!=F.line)&&(se=H.pop()),new i(se.line,se.to)):new i(se.line,se.from)}function bp(E,u,S,k,T){var A=u,F=new i(A.line+S.repeat-1,1/0),H=E.clipPos(F);return H.ch--,T||(k.lastHPos=1/0,k.lastHSPos=E.charCoords(H,"div").left),F}function pu(E,u,S,k){for(var T=E.getCursor(),A=T.ch,F,H=0;H<u;H++){var V=E.getLine(T.line);if(F=tC(A,V,k,S),F==-1)return null;A=F}return new i(E.getCursor().line,F)}function eC(E,u){var S=E.getCursor().line;return dt(E,new i(S,u-1))}function Ln(E,u,S,k){M(S,j)&&(u.marks[S]&&u.marks[S].clear(),u.marks[S]=E.setBookmark(k))}function tC(E,u,S,k,T){var A;return k?A=u.indexOf(S,E+1):A=u.lastIndexOf(S,E-1),A}function xp(E,u,S,k,T){var A=u.line,F=E.firstLine(),H=E.lastLine(),V,q,Y=A;function ee(me){return!E.getLine(me)}function ae(me,ve,Te){return Te?ee(me)!=ee(me+ve):!ee(me)&&ee(me+ve)}if(k){for(;F<=Y&&Y<=H&&S>0;)ae(Y,k)&&S--,Y+=k;return new i(Y,0)}var oe=E.state.vim;if(oe.visualLine&&ae(A,1,!0)){var se=oe.sel.anchor;ae(se.line,-1,!0)&&(!T||se.line!=A)&&(A+=1)}var ge=ee(A);for(Y=A;Y<=H&&S;Y++)ae(Y,1,!0)&&(!T||ee(Y)!=ge)&&S--;for(q=new i(Y,0),Y>H&&!ge?ge=!0:T=!1,Y=A;Y>F&&!((!T||ee(Y)==ge||Y==A)&&ae(Y,-1,!0));Y--);return V=new i(Y,0),{start:V,end:q}}function rC(E,u,S,k){function T(V,q){if(q.pos+q.dir<0||q.pos+q.dir>=q.line.length){if(q.ln+=q.dir,!D(V,q.ln)){q.line=null,q.ln=null,q.pos=null;return}q.line=V.getLine(q.ln),q.pos=q.dir>0?0:q.line.length-1}else q.pos+=q.dir}function A(V,q,Y,ee){var me=V.getLine(q),ae=me==="",oe={line:me,ln:q,pos:Y,dir:ee},se={ln:oe.ln,pos:oe.pos},ge=oe.line==="";for(T(V,oe);oe.line!==null;){if(se.ln=oe.ln,se.pos=oe.pos,oe.line===""&&!ge)return{ln:oe.ln,pos:oe.pos};if(ae&&oe.line!==""&&!Q(oe.line[oe.pos]))return{ln:oe.ln,pos:oe.pos};z(oe.line[oe.pos])&&!ae&&(oe.pos===oe.line.length-1||Q(oe.line[oe.pos+1]))&&(ae=!0),T(V,oe)}var me=V.getLine(se.ln);se.pos=0;for(var ve=me.length-1;ve>=0;--ve)if(!Q(me[ve])){se.pos=ve;break}return se}function F(V,q,Y,ee){var ge=V.getLine(q),ae={line:ge,ln:q,pos:Y,dir:ee},oe={ln:ae.ln,pos:null},se=ae.line==="";for(T(V,ae);ae.line!==null;){if(ae.line===""&&!se)return oe.pos!==null?oe:{ln:ae.ln,pos:ae.pos};if(z(ae.line[ae.pos])&&oe.pos!==null&&!(ae.ln===oe.ln&&ae.pos+1===oe.pos))return oe;ae.line!==""&&!Q(ae.line[ae.pos])&&(se=!1,oe={ln:ae.ln,pos:ae.pos}),T(V,ae)}var ge=V.getLine(oe.ln);oe.pos=0;for(var me=0;me<ge.length;++me)if(!Q(ge[me])){oe.pos=me;break}return oe}for(var H={ln:u.line,pos:u.ch};S>0;)k<0?H=F(E,H.ln,H.pos,k):H=A(E,H.ln,H.pos,k),S--;return new i(H.ln,H.pos)}function nC(E,u,S,k){var T=u,A,F,H={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[S],V={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[S],q=E.getLine(T.line).charAt(T.ch),Y=q===V?1:0;if(A=E.scanForBracket(new i(T.line,T.ch+Y),-1,void 0,{bracketRegex:H}),F=E.scanForBracket(new i(T.line,T.ch+Y),1,void 0,{bracketRegex:H}),!A||!F)return{start:T,end:T};if(A=A.pos,F=F.pos,A.line==F.line&&A.ch>F.ch||A.line>F.line){var ee=A;A=F,F=ee}return k?F.ch+=1:A.ch+=1,{start:A,end:F}}function iC(E,u,S,k){var T=Ge(u),A=E.getLine(T.line),F=A.split(""),H,V,q,Y,ee=F.indexOf(S);if(T.ch<ee?T.ch=ee:ee<T.ch&&F[T.ch]==S&&(V=T.ch,--T.ch),F[T.ch]==S&&!V)H=T.ch+1;else for(q=T.ch;q>-1&&!H;q--)F[q]==S&&(H=q+1);if(H&&!V)for(q=H,Y=F.length;q<Y&&!V;q++)F[q]==S&&(V=q);return!H||!V?{start:T,end:T}:(k&&(--H,++V),{start:new i(T.line,H),end:new i(T.line,V)})}O("pcre",!0,"boolean");function Ep(){}Ep.prototype={getQuery:function(){return B.query},setQuery:function(u){B.query=u},getOverlay:function(){return this.searchOverlay},setOverlay:function(u){this.searchOverlay=u},isReversed:function(){return B.isReversed},setReversed:function(u){B.isReversed=u},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(u){this.annotate=u}};function dn(E){var u=E.state.vim;return u.searchState_||(u.searchState_=new Ep)}function sC(E){return Rp(E,"/")}function oC(E){return Tp(E,"/")}function Rp(E,u){var S=Tp(E,u);if(!S.length)return[];var k=[];if(S[0]===0){for(var T=0;T<S.length;T++)typeof S[T]=="number"&&k.push(E.substring(S[T]+1,S[T+1]));return k}}function Tp(E,u){u||(u="/");for(var S=!1,k=[],T=0;T<E.length;T++){var A=E.charAt(T);!S&&A==u&&k.push(T),S=!S&&A=="\\"}return k}function aC(E){for(var u="|(){",S="}",k=!1,T=[],A=-1;A<E.length;A++){var F=E.charAt(A)||"",H=E.charAt(A+1)||"",V=H&&u.indexOf(H)!=-1;k?((F!=="\\"||!V)&&T.push(F),k=!1):F==="\\"?(k=!0,H&&S.indexOf(H)!=-1&&(V=!0),(!V||H==="\\")&&T.push(F)):(T.push(F),V&&H!=="\\"&&T.push("\\"))}return T.join("")}var Lp={"\\n":`
`,"\\r":"\r","\\t":"	"};function lC(E){for(var u=!1,S=[],k=-1;k<E.length;k++){var T=E.charAt(k)||"",A=E.charAt(k+1)||"";Lp[T+A]?(S.push(Lp[T+A]),k++):u?(S.push(T),u=!1):T==="\\"?(u=!0,N(A)||A==="$"?S.push("$"):A!=="/"&&A!=="\\"&&S.push("\\")):(T==="$"&&S.push("$"),S.push(T),A==="/"&&S.push("\\"))}return S.join("")}var Ap={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function cC(E){for(var u=new t.default.StringStream(E),S=[];!u.eol();){for(;u.peek()&&u.peek()!="\\";)S.push(u.next());var k=!1;for(var T in Ap)if(u.match(T,!0)){k=!0,S.push(Ap[T]);break}k||S.push(u.next())}return S.join("")}function uC(E,u,S){var k=B.registerController.getRegister("/");if(k.setText(E),E instanceof RegExp)return E;var T=oC(E),A,F;if(!T.length)A=E;else{A=E.substring(0,T[0]);var H=E.substring(T[0]);F=H.indexOf("i")!=-1}if(!A)return null;Z("pcre")||(A=aC(A)),S&&(u=/^[^A-Z]*$/.test(A));var V=new RegExp(A,u||F?"im":"m");return V}function ki(E){typeof E=="string"&&(E=document.createElement(E));for(var u,S=1;S<arguments.length;S++)if(u=arguments[S])if(n(u)!=="object"&&(u=document.createTextNode(u)),u.nodeType)E.appendChild(u);else for(var k in u)Object.prototype.hasOwnProperty.call(u,k)&&(k[0]==="$"?E.style[k.slice(1)]=u[k]:E.setAttribute(k,u[k]));return E}function Xe(E,u){var S=ki("pre",{$color:"red",class:"cm-vim-message"},u);E.openNotification?E.openNotification(S,{bottom:!0,duration:5e3}):alert(S.innerText)}function hC(E,u){return ki(document.createDocumentFragment(),ki("span",{$fontFamily:"monospace",$whiteSpace:"pre"},E,ki("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false"})),u&&ki("span",{$color:"#888"},u))}function _a(E,u){var S=hC(u.prefix,u.desc);if(E.openDialog)E.openDialog(S,u.onClose,{onKeyDown:u.onKeyDown,onKeyUp:u.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:u.value});else{var k="";typeof u.prefix!="string"&&u.prefix&&(k+=u.prefix.textContent),u.desc&&(k+=" "+u.desc),u.onClose(prompt(k,""))}}function dC(E,u){if(E instanceof RegExp&&u instanceof RegExp){for(var S=["global","multiline","ignoreCase","source"],k=0;k<S.length;k++){var T=S[k];if(E[T]!==u[T])return!1}return!0}return!1}function Qs(E,u,S,k){if(u){var T=dn(E),A=uC(u,!!S,!!k);if(A)return Mp(E,A),dC(A,T.getQuery())||T.setQuery(A),A}}function fC(E){if(E.source.charAt(0)=="^")var u=!0;return{token:function(k){if(u&&!k.sol()){k.skipToEnd();return}var T=k.match(E,!1);if(T)return T[0].length==0?(k.next(),"searching"):!k.sol()&&(k.backUp(1),!E.exec(k.next()+T[0]))?(k.next(),null):(k.match(E),"searching");for(;!k.eol()&&(k.next(),!k.match(E,!1)););},query:E}}var Sa=0;function Mp(E,u){clearTimeout(Sa),Sa=setTimeout(function(){if(E.state.vim){var S=dn(E),k=S.getOverlay();(!k||u!=k.query)&&(k&&E.removeOverlay(k),k=fC(u),E.addOverlay(k),E.showMatchesOnScrollbar&&(S.getScrollbarAnnotate()&&S.getScrollbarAnnotate().clear(),S.setScrollbarAnnotate(E.showMatchesOnScrollbar(u))),S.setOverlay(k))}},50)}function Pp(E,u,S,k){return k===void 0&&(k=1),E.operation(function(){for(var T=E.getCursor(),A=E.getSearchCursor(S,T),F=0;F<k;F++){var H=A.find(u);if(F==0&&H&&Nr(A.from(),T)){var V=u?A.from():A.to();H=A.find(u),H&&!H[0]&&Nr(A.from(),V)&&E.getLine(V.line).length==V.ch&&(H=A.find(u))}if(!H&&(A=E.getSearchCursor(S,u?new i(E.lastLine()):new i(E.firstLine(),0)),!A.find(u)))return}return A.from()})}function pC(E,u,S,k,T){return k===void 0&&(k=1),E.operation(function(){var A=E.getCursor(),F=E.getSearchCursor(S,A),H=F.find(!u);!T.visualMode&&H&&Nr(F.from(),A)&&F.find(!u);for(var V=0;V<k;V++)if(H=F.find(u),!H&&(F=E.getSearchCursor(S,u?new i(E.lastLine()):new i(E.firstLine(),0)),!F.find(u)))return;return[F.from(),F.to()]})}function vu(E){var u=dn(E);E.removeOverlay(dn(E).getOverlay()),u.setOverlay(null),u.getScrollbarAnnotate()&&(u.getScrollbarAnnotate().clear(),u.setScrollbarAnnotate(null))}function vC(E,u,S){return typeof E!="number"&&(E=E.line),u instanceof Array?M(E,u):typeof S=="number"?E>=u&&E<=S:E==u}function gu(E){var u=E.getScrollInfo(),S=6,k=10,T=E.coordsChar({left:0,top:S+u.top},"local"),A=u.clientHeight-k+u.top,F=E.coordsChar({left:0,top:A},"local");return{top:T.line,bottom:F.line}}function Op(E,u,S){if(S=="'"||S=="`")return B.jumpList.find(E,-1)||new i(0,0);if(S==".")return Ip(E);var k=u.marks[S];return k&&k.find()}function Ip(E){for(var u=E.doc.history.done,S=u.length;S--;)if(u[S].changes)return Ge(u[S].changes[0].to)}var Dp=function(){this.buildCommandMap_()};Dp.prototype={processCommand:function(u,S,k){var T=this;u.operation(function(){u.curOp.isVimOp=!0,T._processCommand(u,S,k)})},_processCommand:function(u,S,k){var T=u.state.vim,A=B.registerController.getRegister(":"),F=A.toString();T.visualMode&&un(u);var H=new t.default.StringStream(S);A.setText(S);var V=k||{};V.input=S;try{this.parseInput_(u,H,V)}catch(ae){throw Xe(u,ae.toString()),ae}var q,Y;if(!V.commandName)V.line!==void 0&&(Y="move");else if(q=this.matchCommand_(V.commandName),q){if(Y=q.name,q.excludeFromCommandHistory&&A.setText(F),this.parseCommandArgs_(H,V,q),q.type=="exToKey"){for(var ee=0;ee<q.toKeys.length;ee++)ue.handleKey(u,q.toKeys[ee],"mapping");return}else if(q.type=="exToEx"){this.processCommand(u,q.toInput);return}}if(!Y){Xe(u,'Not an editor command ":'+S+'"');return}try{Bp[Y](u,V),(!q||!q.possiblyAsync)&&V.callback&&V.callback()}catch(ae){throw Xe(u,ae.toString()),ae}},parseInput_:function(u,S,k){S.eatWhile(":"),S.eat("%")?(k.line=u.firstLine(),k.lineEnd=u.lastLine()):(k.line=this.parseLineSpec_(u,S),k.line!==void 0&&S.eat(",")&&(k.lineEnd=this.parseLineSpec_(u,S)));var T=S.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return T?k.commandName=T[1]:k.commandName=S.match(/.*/)[0],k},parseLineSpec_:function(u,S){var k=S.match(/^(\d+)/);if(k)return parseInt(k[1],10)-1;switch(S.next()){case".":return this.parseLineSpecOffset_(S,u.getCursor().line);case"$":return this.parseLineSpecOffset_(S,u.lastLine());case"'":var T=S.next(),A=Op(u,u.state.vim,T);if(!A)throw new Error("Mark not set");return this.parseLineSpecOffset_(S,A.line);case"-":case"+":return S.backUp(1),this.parseLineSpecOffset_(S,u.getCursor().line);default:S.backUp(1);return}},parseLineSpecOffset_:function(u,S){var k=u.match(/^([+-])?(\d+)/);if(k){var T=parseInt(k[2],10);k[1]=="-"?S-=T:S+=T}return S},parseCommandArgs_:function(u,S,k){if(!u.eol()){S.argString=u.match(/.*/)[0];var T=k.argDelimiter||/\s+/,A=du(S.argString).split(T);A.length&&A[0]&&(S.args=A)}},matchCommand_:function(u){for(var S=u.length;S>0;S--){var k=u.substring(0,S);if(this.commandMap_[k]){var T=this.commandMap_[k];if(T.name.indexOf(u)===0)return T}}return null},buildCommandMap_:function(){this.commandMap_={};for(var u=0;u<l.length;u++){var S=l[u],k=S.shortName||S.name;this.commandMap_[k]=S}},map:function(u,S,k){if(u!=":"&&u.charAt(0)==":"){if(k)throw Error("Mode not supported for ex mappings");var T=u.substring(1);S!=":"&&S.charAt(0)==":"?this.commandMap_[T]={name:T,type:"exToEx",toInput:S.substring(1),user:!0}:this.commandMap_[T]={name:T,type:"exToKey",toKeys:S,user:!0}}else if(S!=":"&&S.charAt(0)==":"){var A={keys:u,type:"keyToEx",exArgs:{input:S.substring(1)}};k&&(A.context=k),a.unshift(A)}else{var A={keys:u,type:"keyToKey",toKeys:S};k&&(A.context=k),a.unshift(A)}},unmap:function(u,S){if(u!=":"&&u.charAt(0)==":"){if(S)throw Error("Mode not supported for ex mappings");var k=u.substring(1);if(this.commandMap_[k]&&this.commandMap_[k].user)return delete this.commandMap_[k],!0}else for(var T=u,A=0;A<a.length;A++)if(T==a[A].keys&&a[A].context===S)return a.splice(A,1),!0}};var Bp={colorscheme:function(u,S){if(!S.args||S.args.length<1){Xe(u,u.getOption("theme"));return}u.setOption("theme",S.args[0])},map:function(u,S,k){var T=S.args;if(!T||T.length<2){u&&Xe(u,"Invalid mapping: "+S.input);return}fn.map(T[0],T[1],k)},imap:function(u,S){this.map(u,S,"insert")},nmap:function(u,S){this.map(u,S,"normal")},vmap:function(u,S){this.map(u,S,"visual")},unmap:function(u,S,k){var T=S.args;(!T||T.length<1||!fn.unmap(T[0],k))&&u&&Xe(u,"No such mapping: "+S.input)},move:function(u,S){Oe.processCommand(u,u.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:S.line+1})},set:function(u,S){var k=S.args,T=S.setCfg||{};if(!k||k.length<1){u&&Xe(u,"Invalid mapping: "+S.input);return}var A=k[0].split("="),F=A[0],H=A[1],V=!1;if(F.charAt(F.length-1)=="?"){if(H)throw Error("Trailing characters: "+S.argString);F=F.substring(0,F.length-1),V=!0}H===void 0&&F.substring(0,2)=="no"&&(F=F.substring(2),H=!1);var q=P[F]&&P[F].type=="boolean";if(q&&H==null&&(H=!0),!q&&H===void 0||V){var Y=Z(F,u,T);Y instanceof Error?Xe(u,Y.message):Y===!0||Y===!1?Xe(u," "+(Y?"":"no")+F):Xe(u,"  "+F+"="+Y)}else{var ee=U(F,H,u,T);ee instanceof Error&&Xe(u,ee.message)}},setlocal:function(u,S){S.setCfg={scope:"local"},this.set(u,S)},setglobal:function(u,S){S.setCfg={scope:"global"},this.set(u,S)},registers:function(u,S){var k=S.args,T=B.registerController.registers,A=`----------Registers----------

`;if(k){var F;k=k.join("");for(var V=0;V<k.length;V++)if(F=k.charAt(V),!!B.registerController.isValidRegister(F)){var q=T[F]||new _e;A+='"'+F+"    "+q.toString()+`
`}}else for(var F in T){var H=T[F].toString();H.length&&(A+='"'+F+"    "+H+`
`)}Xe(u,A)},sort:function(u,S){var k,T,A,F,H;function V(){if(S.argString){var We=new t.default.StringStream(S.argString);if(We.eat("!")&&(k=!0),We.eol())return;if(!We.eatSpace())return"Invalid arguments";var Be=We.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!Be&&!We.eol())return"Invalid arguments";if(Be[1]){T=Be[1].indexOf("i")!=-1,A=Be[1].indexOf("u")!=-1;var At=Be[1].indexOf("d")!=-1||Be[1].indexOf("n")!=-1&&1,lr=Be[1].indexOf("x")!=-1&&1,Qt=Be[1].indexOf("o")!=-1&&1;if(At+lr+Qt>1)return"Invalid arguments";F=At&&"decimal"||lr&&"hex"||Qt&&"octal"}Be[2]&&(H=new RegExp(Be[2].substr(1,Be[2].length-2),T?"i":""))}}var q=V();if(q){Xe(u,q+": "+S.argString);return}var Y=S.line||u.firstLine(),ee=S.lineEnd||S.line||u.lastLine();if(Y==ee)return;var ae=new i(Y,0),oe=new i(ee,wt(u,ee)),se=u.getRange(ae,oe).split(`
`),ge=H||(F=="decimal"?/(-?)([\d]+)/:F=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:F=="octal"?/([0-7]+)/:null),me=F=="decimal"?10:F=="hex"?16:F=="octal"?8:null,ve=[],Te=[];if(F||H)for(var xe=0;xe<se.length;xe++){var Ee=H?se[xe].match(H):null;Ee&&Ee[0]!=""?ve.push(Ee):!H&&ge.exec(se[xe])?ve.push(se[xe]):Te.push(se[xe])}else Te=se;function Je(We,Be){if(k){var At;At=We,We=Be,Be=At}T&&(We=We.toLowerCase(),Be=Be.toLowerCase());var lr=F&&ge.exec(We),Qt=F&&ge.exec(Be);return lr?(lr=parseInt((lr[1]+lr[2]).toLowerCase(),me),Qt=parseInt((Qt[1]+Qt[2]).toLowerCase(),me),lr-Qt):We<Be?-1:1}function ar(We,Be){if(k){var At;At=We,We=Be,Be=At}return T&&(We[0]=We[0].toLowerCase(),Be[0]=Be[0].toLowerCase()),We[0]<Be[0]?-1:1}if(ve.sort(H?ar:Je),H)for(var xe=0;xe<ve.length;xe++)ve[xe]=ve[xe].input;else F||Te.sort(Je);if(se=k?ve.concat(Te):Te.concat(ve),A){var ft=se,qt;se=[];for(var xe=0;xe<ft.length;xe++)ft[xe]!=qt&&se.push(ft[xe]),qt=ft[xe]}u.replaceRange(se.join(`
`),ae,oe)},vglobal:function(u,S){this.global(u,S)},global:function(u,S){var k=S.argString;if(!k){Xe(u,"Regular Expression missing from global");return}var T=S.commandName[0]==="v",A=S.line!==void 0?S.line:u.firstLine(),F=S.lineEnd||S.line||u.lastLine(),H=sC(k),V=k,q;if(H.length&&(V=H[0],q=H.slice(1,H.length).join("/")),V)try{Qs(u,V,!0,!0)}catch{Xe(u,"Invalid regex: "+V);return}for(var Y=dn(u).getQuery(),ee=[],ae=A;ae<=F;ae++){var oe=u.getLineHandle(ae),se=Y.test(oe.text);se!==T&&ee.push(q?oe:oe.text)}if(!q){Xe(u,ee.join(`
`));return}var ge=0,me=function(){if(ge<ee.length){var Te=ee[ge++],xe=u.getLineNumber(Te);if(xe==null){me();return}var Ee=xe+1+q;fn.processCommand(u,Ee,{callback:me})}};me()},substitute:function(u,S){if(!u.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var k=S.argString,T=k?Rp(k,k[0]):[],A,F="",H,V,q,Y=!1,ee=!1;if(T.length)A=T[0],Z("pcre")&&A!==""&&(A=new RegExp(A).source),F=T[1],F!==void 0&&(Z("pcre")?F=cC(F.replace(/([^\\])&/g,"$1$$&")):F=lC(F),B.lastSubstituteReplacePart=F),H=T[2]?T[2].split(" "):[];else if(k&&k.length){Xe(u,"Substitutions should be of the form :s/pattern/replace/");return}if(H&&(V=H[0],q=parseInt(H[1]),V&&(V.indexOf("c")!=-1&&(Y=!0),V.indexOf("g")!=-1&&(ee=!0),Z("pcre")?A=A+"/"+V:A=A.replace(/\//g,"\\/")+"/"+V)),A)try{Qs(u,A,!0,!0)}catch{Xe(u,"Invalid regex: "+A);return}if(F=F||B.lastSubstituteReplacePart,F===void 0){Xe(u,"No previous substitute regular expression");return}var ae=dn(u),oe=ae.getQuery(),se=S.line!==void 0?S.line:u.getCursor().line,ge=S.lineEnd||se;se==u.firstLine()&&ge==u.lastLine()&&(ge=1/0),q&&(se=ge,ge=se+q-1);var me=dt(u,new i(se,0)),ve=u.getSearchCursor(oe,me);u.pushUndoStop(),gC(u,Y,ee,se,ge,ve,oe,F,S.callback)},redo:t.default.commands.redo,undo:t.default.commands.undo,write:function(u){t.default.commands.save?t.default.commands.save(u):u.save&&u.save()},nohlsearch:function(u){vu(u)},yank:function(u){var S=Ge(u.getCursor()),k=S.line,T=u.getLine(k);B.registerController.pushText("0","yank",T,!0,!0)},delmarks:function(u,S){if(!S.argString||!du(S.argString)){Xe(u,"Argument required");return}for(var k=u.state.vim,T=new t.default.StringStream(du(S.argString));!T.eol();){T.eatSpace();var A=T.pos;if(!T.match(/[a-zA-Z]/,!1)){Xe(u,"Invalid argument: "+S.argString.substring(A));return}var F=T.next();if(T.match("-",!0)){if(!T.match(/[a-zA-Z]/,!1)){Xe(u,"Invalid argument: "+S.argString.substring(A));return}var H=F,V=T.next();if($(H)&&$(V)||W(H)&&W(V)){var q=H.charCodeAt(0),Y=V.charCodeAt(0);if(q>=Y){Xe(u,"Invalid argument: "+S.argString.substring(A));return}for(var ee=0;ee<=Y-q;ee++){var ae=String.fromCharCode(q+ee);delete k.marks[ae]}}else{Xe(u,"Invalid argument: "+H+"-");return}}else delete k.marks[F]}}},fn=new Dp;function gC(E,u,S,k,T,A,F,H,V){E.state.vim.exMode=!0;var q=!1,Y,ee,ae;function oe(){E.operation(function(){for(;!q;)se(),me();ve()})}function se(){var xe=E.getRange(A.from(),A.to()),Ee=xe.replace(F,H),Je=A.to().line;A.replace(Ee),ee=A.to().line,T+=ee-Je,ae=ee<Je}function ge(){var xe=Y&&Ge(A.to()),Ee=A.findNext();return Ee&&!Ee[0]&&xe&&Nr(A.from(),xe)&&(Ee=A.findNext()),Ee}function me(){for(;ge()&&vC(A.from(),k,T);)if(!(!S&&A.from().line==ee&&!ae)){E.scrollIntoView(A.from(),30),E.setSelection(A.from(),A.to()),Y=A.from(),q=!1;return}q=!0}function ve(xe){if(xe&&xe(),E.focus(),Y){E.setCursor(Y);var Ee=E.state.vim;Ee.exMode=!1,Ee.lastHPos=Ee.lastHSPos=Y.ch}V&&V()}function Te(xe,Ee,Je){t.default.e_stop(xe);var ar=t.default.keyName(xe);switch(ar){case"Y":se(),me();break;case"N":me();break;case"A":var ft=V;V=void 0,E.operation(oe),V=ft;break;case"L":se();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":ve(Je);break}return q&&ve(Je),!0}if(me(),q){Xe(E,"No matches for "+F.source);return}if(!u){oe(),V&&V();return}_a(E,{prefix:ki("span","replace with ",ki("strong",H)," (y/n/a/q/l)"),onKeyDown:Te})}t.default.keyMap.vim={attach:C,detach:w,call:y};function Xs(E){var u=E.state.vim,S=B.macroModeState,k=B.registerController.getRegister("."),T=S.isPlaying,A=S.lastInsertModeChanges;T||(E.off("change",Np),t.default.off(E.getInputField(),"keydown",Hp)),!T&&u.insertModeRepeat>1&&(Up(E,u,u.insertModeRepeat-1,!0),u.lastEditInputState.repeatOverride=u.insertModeRepeat),delete u.insertModeRepeat,u.insertMode=!1,E.setCursor(E.getCursor().line,E.getCursor().ch-1),E.setOption("keyMap","vim"),E.setOption("disableInput",!0),E.toggleOverwrite(!1),k.setText(A.changes.join("")),t.default.signal(E,"vim-mode-change",{mode:"normal"}),S.isRecording&&SC(S),E.enterVimMode()}function Fp(E){a.unshift(E)}function mC(E,u,S,k,T){var A={keys:E,type:u};A[u]=S,A[u+"Args"]=k;for(var F in T)A[F]=T[F];Fp(A)}O("insertModeEscKeysTimeout",200,"number"),t.default.keyMap["vim-insert"]={fallthrough:["default"],attach:C,detach:w,call:y},t.default.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:C,detach:w,call:y};function yC(E,u,S,k){var T=B.registerController.getRegister(k);if(k==":"){T.keyBuffer[0]&&fn.processCommand(E,T.keyBuffer[0]),S.isPlaying=!1;return}var A=T.keyBuffer,F=0;S.isPlaying=!0,S.replaySearchQueries=T.searchQueries.slice(0);for(var H=0;H<A.length;H++)for(var V=A[H],q,Y;V;)if(q=/<\w+-.+?>|<\w+>|./.exec(V),Y=q[0],V=V.substring(q.index+Y.length),ue.handleKey(E,Y,"macro"),u.insertMode){var ee=T.insertModeChanges[F++].changes;B.macroModeState.lastInsertModeChanges.changes=ee,jp(E,ee,1),Xs(E)}S.isPlaying=!1}function _C(E,u){if(!E.isPlaying){var S=E.latestRegister,k=B.registerController.getRegister(S);k&&k.pushText(u)}}function SC(E){if(!E.isPlaying){var u=E.latestRegister,S=B.registerController.getRegister(u);S&&S.pushInsertModeChanges&&S.pushInsertModeChanges(E.lastInsertModeChanges)}}function CC(E,u){if(!E.isPlaying){var S=E.latestRegister,k=B.registerController.getRegister(S);k&&k.pushSearchQuery&&k.pushSearchQuery(u)}}function Np(E,u){var S=B.macroModeState,k=S.lastInsertModeChanges;if(!S.isPlaying)for(;u;){if(k.expectCursorActivityForChange=!0,k.ignoreCount>1)k.ignoreCount--;else if(u.origin=="+input"||u.origin=="paste"||u.origin===void 0){var T=E.listSelections().length;T>1&&(k.ignoreCount=T);var A=u.text.join(`
`);k.maybeReset&&(k.changes=[],k.maybeReset=!1),A&&(E.state.overwrite&&!/\n/.test(A)?k.changes.push([A]):k.changes.push(A))}u=u.next}}function $p(E){var u=E.state.vim;if(u.insertMode){var S=B.macroModeState;if(S.isPlaying)return;var k=S.lastInsertModeChanges;k.expectCursorActivityForChange?k.expectCursorActivityForChange=!1:k.maybeReset=!0}else E.curOp.isVimOp||wC(E,u)}function wC(E,u){var S=E.getCursor("anchor"),k=E.getCursor("head");if(u.visualMode&&!E.somethingSelected()?un(E,!1):!u.visualMode&&!u.insertMode&&E.somethingSelected()&&(u.visualMode=!0,u.visualLine=!1,t.default.signal(E,"vim-mode-change",{mode:"visual"})),u.visualMode){var T=_t(k,S)?0:-1,A=_t(k,S)?-1:0;k=tt(k,0,T),S=tt(S,0,A),u.sel={anchor:S,head:k},Ln(E,u,"<",$r(k,S)),Ln(E,u,">",wi(k,S))}else u.insertMode||(u.lastHPos=E.getCursor().ch)}function mu(E){this.keyName=E}function Hp(E){var u=B.macroModeState,S=u.lastInsertModeChanges,k=t.default.keyName(E);if(!k)return;function T(){return S.maybeReset&&(S.changes=[],S.maybeReset=!1),S.changes.push(new mu(k)),!0}(k.indexOf("Delete")!=-1||k.indexOf("Backspace")!=-1)&&t.default.lookupKey(k,"vim-insert",T)}function Up(E,u,S,k){var T=B.macroModeState;T.isPlaying=!0;var A=!!u.lastEditActionCommand,F=u.inputState;function H(){A?Oe.processAction(E,u,u.lastEditActionCommand):Oe.evalInput(E,u)}function V(Y){if(T.lastInsertModeChanges.changes.length>0){Y=u.lastEditActionCommand?Y:1;var ee=T.lastInsertModeChanges;jp(E,ee.changes,Y)}}if(u.inputState=u.lastEditInputState,A&&u.lastEditActionCommand.interlaceInsertRepeat)for(var q=0;q<S;q++)H(),V(1);else k||H(),V(S);u.inputState=F,u.insertMode&&!k&&Xs(E),T.isPlaying=!1}function jp(E,u,S){function k(ee){return typeof ee=="string"?t.default.commands[ee](E):ee(E),!0}var T=E.getCursor("head"),A=B.macroModeState.lastInsertModeChanges.visualBlock;A&&(_p(E,T,A+1),S=E.listSelections().length,E.setCursor(T));for(var F=0;F<S;F++){A&&E.setCursor(tt(T,F,0));for(var H=0;H<u.length;H++){var V=u[H];if(V instanceof mu)t.default.lookupKey(V.keyName,"vim-insert",k);else if(typeof V=="string")window.cm=E,E.replaceSelections(V);else{var q=E.getCursor(),Y=tt(q,0,V[0].length);E.replaceRange(V[0],q,Y),E.setCursor(Y)}}}A&&E.setCursor(tt(T,0,1))}return te(),ue};t.default.Vim=h(),e.default=t.default})(CS);var kS={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function t(o){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t(o)}function r(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function n(o,l){for(var h=0;h<l.length;h++){var g=l[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,s(g.key),g)}}function i(o,l,h){return n(o.prototype,l),Object.defineProperty(o,"prototype",{writable:!1}),o}function s(o){var l=a(o,"string");return t(l)=="symbol"?l:l+""}function a(o,l){if(t(o)!="object"||!o)return o;var h=o[Symbol.toPrimitive];if(h!==void 0){var g=h.call(o,l);if(t(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}e.default=function(){function o(l,h){var g=this,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;r(this,o),this.closeInput=function(){g.removeInputListeners(),g.input=null,g.setSec(""),g.editor&&g.editor.focus()},this.clear=function(){g.setInnerHtml_(g.node,"")},this.inputKeyUp=function(m){var w=g.input.options;w&&w.onKeyUp&&w.onKeyUp(m,m.target.value,g.closeInput)},this.inputKeyInput=function(m){var w=g.input.options;w&&w.onKeyInput&&w.onKeyUp(m,m.target.value,g.closeInput)},this.inputBlur=function(){var m=g.input.options;m.closeOnBlur&&g.closeInput()},this.inputKeyDown=function(m){var w=g.input,C=w.options,y=w.callback;C&&C.onKeyDown&&C.onKeyDown(m,m.target.value,g.closeInput)||((m.keyCode===27||C&&C.closeOnEnter!==!1&&m.keyCode==13)&&(g.input.node.blur(),m.stopPropagation(),g.closeInput()),m.keyCode===13&&y&&(m.stopPropagation(),m.preventDefault(),y(m.target.value)))},this.node=l,this.modeInfoNode=document.createElement("span"),this.secInfoNode=document.createElement("span"),this.notifNode=document.createElement("span"),this.notifNode.className="vim-notification",this.keyInfoNode=document.createElement("span"),this.keyInfoNode.setAttribute("style","float: right"),this.node.appendChild(this.modeInfoNode),this.node.appendChild(this.secInfoNode),this.node.appendChild(this.notifNode),this.node.appendChild(this.keyInfoNode),this.toggleVisibility(!1),this.editor=h,this.sanitizer=p}return i(o,[{key:"setMode",value:function(h){if(h.mode==="visual"){h.subMode==="linewise"?this.setText("--VISUAL LINE--"):h.subMode==="blockwise"?this.setText("--VISUAL BLOCK--"):this.setText("--VISUAL--");return}this.setText("--".concat(h.mode.toUpperCase(),"--"))}},{key:"setKeyBuffer",value:function(h){this.keyInfoNode.textContent=h}},{key:"setSec",value:function(h,g,p){if(this.notifNode.textContent="",h===void 0)return this.closeInput;this.setInnerHtml_(this.secInfoNode,h);var m=this.secInfoNode.querySelector("input");return m&&(m.focus(),this.input={callback:g,options:p,node:m},p&&(p.selectValueOnOpen&&m.select(),p.value&&(m.value=p.value)),this.addInputListeners()),this.closeInput}},{key:"setText",value:function(h){this.modeInfoNode.textContent=h}},{key:"toggleVisibility",value:function(h){h?this.node.style.display="block":this.node.style.display="none",this.input&&this.removeInputListeners(),clearInterval(this.notifTimeout)}},{key:"addInputListeners",value:function(){var h=this.input.node;h.addEventListener("keyup",this.inputKeyUp),h.addEventListener("keydown",this.inputKeyDown),h.addEventListener("input",this.inputKeyInput),h.addEventListener("blur",this.inputBlur)}},{key:"removeInputListeners",value:function(){if(!(!this.input||!this.input.node)){var h=this.input.node;h.removeEventListener("keyup",this.inputKeyUp),h.removeEventListener("keydown",this.inputKeyDown),h.removeEventListener("input",this.inputKeyInput),h.removeEventListener("blur",this.inputBlur)}}},{key:"showNotification",value:function(h){var g=this,p=document.createElement("span");this.setInnerHtml_(p,h),this.notifNode.textContent=p.textContent,this.notifTimeout=setTimeout(function(){g.notifNode.textContent=""},5e3)}},{key:"setInnerHtml_",value:function(h,g){for(;h.childNodes.length;)h.removeChild(h.childNodes[0]);g&&(this.sanitizer?h.appendChild(this.sanitizer(g)):h.appendChild(g))}}])}()})(kS);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"StatusBar",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"VimMode",{enumerable:!0,get:function(){return t.default}}),e.initVimMode=i;var t=n(CS),r=n(kS);function n(s){return s&&s.__esModule?s:{default:s}}function i(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.default,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=new t.default(s);if(!a)return h.attach(),h;var g=new o(a,s,l),p="";return h.on("vim-mode-change",function(m){g.setMode(m)}),h.on("vim-keypress",function(m){m===":"?p="":p+=m,g.setKeyBuffer(p)}),h.on("vim-command-done",function(){p="",g.setKeyBuffer(p)}),h.on("dispose",function(){g.toggleVisibility(!1),g.closeInput(),g.clear()}),g.toggleVisibility(!0),h.setStatusBar(g),h.attach(),h}})(SS);function Rm({value:e,language:t="text"}){const r=K.useRef(null),n=K.useRef(null),i=K.useRef(null),[s,a]=K.useState({flexGrow:1,height:"1000px"});K.useEffect(()=>{if(!n.current||!i.current)return;let l=null,h=null;try{l=xC.create(n.current,{value:e,language:t,minimap:{enabled:!1},automaticLayout:!0,scrollBeyondLastLine:!1,readOnly:!1,theme:"vs-dark",scrollbar:{horizontal:"hidden",vertical:"hidden"},lineNumbersMinChars:2}),a({flexGrow:1,height:"auto"});try{h=SS.initVimMode(l,i.current),console.log("Vim mode initialized")}catch(p){console.error("Failed to initialize Vim mode:",p)}const g=new ResizeObserver(()=>{l?.layout()});return g.observe(n.current),r.current=l,()=>{console.log("Cleaning up editor..."),g.disconnect(),h?.dispose(),l?.dispose(),r.current=null}}catch(g){console.error("Monaco editor initialization failed:",g),h?.dispose(),l?.dispose()}},[t,e]);function o(l){return l!==null&&typeof l.getValue=="function"}return K.useEffect(()=>{const l=r.current;if(!l)return;const h=l.getModel();o(h)&&h.getValue()!==e&&l.setValue(e)},[e]),vt("div",{className:"monaco-editor-container",style:{display:"flex",flexDirection:"column",height:"100%"},children:[fe("div",{ref:n,style:s}),fe("div",{ref:i,className:"vim-status-bar",style:{height:"20px"}})]})}function UA(e){return new DOMParser().parseFromString(e,"text/html").body.firstChild}class gc{internalValue;internalChords=[];internalChordsHTML=[];constructor(t){if(!t||!Array.isArray(t)||t.length==0)throw new Error("Phrase value must be an array with at least one element");this.internalValue=t,t[0]&&Array.isArray(t)&&this.setChords(t)}get value(){return this.internalValue}get chordsHTML(){return this.internalChordsHTML}get chords(){return this.internalChords}setChords(t){t.forEach(r=>{const n=gc.findChordHTML(r);n&&this.internalChordsHTML.push(n);const i=$l.find(s=>s.key==r);i&&this.internalChords.push(i)})}static createChordHTML(t){return t?UA(`<div class="col-sm-2 row generated" id="chord2">
                <span id="char${t.index}">${t.key}</span>
                <img loading="lazy" alt="2" src="/images/svgs/${t.chordCode}.svg" width="100" class="hand">
            </div>`):null}static findChordHTML(t){let r=null;const n=Array.from($l).filter(i=>i.key.replace("&#x2581;"," ").replace("(underscore)","_")==t);if(n.length>0){const i=n[0],s=this.createChordHTML(i);s&&i&&(s.setAttribute("name",i.key.replace("(","").replace(")","").replace(" ","-")),r=s)}return r}}const bS=K.forwardRef((e,t)=>{const[r,n]=K.useState(0),{mismatchedChar:i}=e,s=()=>{n(a=>a+1)};return K.useImperativeHandle(t,()=>({showError:s})),vt("div",{style:{display:e.isVisible?"block":"none"},children:[vt("div",{children:["Error Count: ",r]}),i&&fe(da,{displayChar:i})]})});bS.displayName="ErrorDisplay";const jA=(e,t)=>{const[r,n]=K.useState(0),[i,s]=K.useState(!1),[a,o]=K.useState("start");K.useEffect(()=>{let w=null;return i?(o("pause"),w=window.setInterval(()=>{n(C=>C+1)},10)):!i&&r!==0&&(o("start"),w&&clearInterval(w)),()=>{w&&clearInterval(w)}},[i,r]);const l=()=>{s(!0)},h=()=>{s(!1)},g=()=>{s(!1);const w=r;return n(0),w},p=()=>{n(0),s(!1)};K.useImperativeHandle(t,()=>({start:l,stop:h,reset:g,success:p}));const m=()=>{switch(a){case"start":return fe("use",{href:"#start",transform:"scale(2,2)"});case"stop":return fe("use",{href:"#stop",transform:"scale(2,2)"});case"pause":return fe("use",{href:"#pause",transform:"scale(2,2)"});default:return fe("use",{href:"#stop",transform:"scale(2,2)"})}};return vt(Jm.Fragment,{children:[fe("span",{id:"timer",children:(r/100).toFixed(1)}),fe("svg",{width:"15",height:"20",style:{float:"left"},children:m()})]})},WA=K.forwardRef(jA),xS=K.forwardRef(({isInPhraseMode:e,onPhraseSuccess:t,onError:r},n)=>{const[i,s]=K.useState(null),[a,o]=K.useState(!1),[l,h]=K.useState(""),[g,p]=K.useState(new gc([""])),[m,w]=K.useState(null),C=K.useRef(null),y=K.useRef(null),v=K.useRef(null),d=J2(v),c=K.useRef(null),f=Gr(()=>ma.value),_=K.useMemo(()=>Pt(),[]),b=K.useCallback(N=>{if(rs(g.value))return 0;const W=g.value,Q=W.join("");if(N===Q)return Q.length;if(rs(N))return 0;let z=0;for(let M=0;M<N.length;M++){if(typeof W=="string"&&N[M]!==W[M])return M;z++}return z},[g.value]),R=K.useCallback(N=>{const W=b(N);return g.value.join("").substring(W)},[g.value,b]),L=K.useCallback((N,W)=>{s(N),o(!0),r(W)},[r]),x=K.useCallback(()=>{s(null),o(!1),r(void 0)},[r]),I=K.useCallback(()=>{s(""),o(!1),h(""),m!=null&&m.key!==null&&m.key!==void 0&&uS(m.key),t(m)},[m,t]),j=K.useCallback(()=>{d("stop")},[d]),G=K.useCallback(()=>{d("start")},[d]),X=K.useCallback(()=>{d("reset")},[d]),D=K.useCallback(()=>{d("reset"),C.current!==null&&C.current!==void 0&&(C.current.innerText=g.value.join(""))},[g.value,d]),$=K.useCallback(N=>{G();const W=b(N);if(W<0||W>g.value.length)return null;const Q=g.chordsHTML[W];if(Q?.classList.remove("error"),N.length===0){D();return}if(N===g.value.join("").trim().substring(0,N.length))x();else{const M=b(N),P=g.value[M];o(!0),s(P??null),L(P??"",M)}if(N.trim()===g.value.join("").trim()){j(),I();return}const z=R(N);h(z)},[G,b,g.value,g.chordsHTML,D,x,L,j,I,R]);return K.useImperativeHandle(n,()=>({resetTimer:X,cancelTimer:D}),[X,D]),K.useEffect(()=>{const{activityKey:N,contentKey:W}=_;if(N==null||rs(W))return;const Q=GamePhrases.default.getGamePhraseByKey(W);Q!=null&&(w(z=>z?.key===Q.key?z:Q),p(new gc(Q.value.split(""))),h(Q.value))},[_,_.contentKey]),Vd(()=>{const N=f.value;$(N)}),_!=null&&!rs(_.contentKey)&&vt("div",{id:ts.NextChars,hidden:!e,children:[i!==null&&i!==""&&a&&fe(bS,{isVisible:a,mismatchedChar:i??""}),fe(WA,{ref:v}),fe("div",{id:ts.NextCharsRate,ref:y}),fe("span",{id:ts.WPM,ref:c}),fe("pre",{id:ts.NextChars,ref:C,children:l})]})});xS.displayName="NextCharsDisplay";const zA=({domain:e,username:t,timestamp:r,githubUsername:n})=>{const i=Gr(()=>cA.value);return vt("pre",{id:ts.Prompt,children:[fe("span",{className:"timestamp",children:r}),fe("span",{className:"user",children:t}),vt("span",{className:"domain",children:["@",e]}),n&&vt("span",{className:"github",children:[fe("i",{className:"fa fa-github","aria-hidden":"true"}),n]}),fe("span",{children:i.value})]})},ES=K.memo(({tutorial:e})=>e==null?fe("div",{id:"tutorial-component",className:"tutorial-component","data-testid":"tutorial-component"}):vt("div",{id:"tutorial-component",className:"tutorial-component","data-testid":"tutorial-component",children:[fe("pre",{className:"tutorial-prompt",children:e.value}),fe("div",{className:"chord-display-container",children:e.key.split("").map((t,r)=>fe(da,{displayChar:t},`char-${r}-${t}`))})]}));ES.displayName="TutorialManager";const at=Gt({prefix:"HandTermWrapper",level:mi.DEBUG}),KA=e=>e.toTimeString().split(" ")[0]??"",RS=K.forwardRef((e,t)=>{const{xtermRef:r,writeToTerminal:n,resetPrompt:i}=FA(),s=10,a=hp(),o=K.useRef(null),l=K.useRef(null),h=pS(),[g]=K.useState("handterm.com"),p=localStorage.getItem("canvasHeight")?.trim()??"100",[m]=K.useState(()=>parseInt(p,10)),[w]=K.useState(null),[,C]=K.useState(void 0),[y]=K.useState(null),[v]=K.useState(null),d=Gr(()=>sS.value),[c,f]=K.useState([]),[,_]=K.useState(null),[b,R]=K.useState(Pt().activityKey);K.useEffect(()=>{const X=()=>{at.debug("Activity signal changed:",{from:b,to:Fe.value,tutorialState:Jt.value,isTutorialComplete:Jt.value===null}),R(Fe.value),b===Ce.TUTORIAL&&Fe.value===Ce.GAME&&at.debug("Transitioning from TUTORIAL to GAME",{tutorialSignal:Jt.value,activitySignal:Fe.value})};X();const D=Fe.subscribe(X);return()=>{D()}},[b]),K.useEffect(()=>{const X=D=>{const N=D.detail?.activity;N&&(at.debug("Location change event:",{activity:N,currentActivity:Fe.value}),Fe.value=N)};return window.addEventListener("locationchange",X),()=>window.removeEventListener("locationchange",X)},[]),K.useEffect(()=>{at.debug("Current activity:",{activity:b,tutorialState:Jt.value,isTutorialComplete:Jt.value===null})},[b]),K.useEffect(()=>{at.debug("Tutorial signal:",{current:Jt.value,completed:localStorage.getItem("completed-tutorials"),state:localStorage.getItem("tutorial-state")}),Jt.value===null&&(at.debug("Tutorial completed, checking for game transition",{currentActivity:b,activitySignal:Fe.value}),b===Ce.TUTORIAL&&(at.debug("Transitioning from TUTORIAL to GAME"),Fe.value=Ce.GAME))},[b]);const L=K.useCallback(()=>{localStorage.setItem("currentCommand",""),vc(null);const X=l.current?.cancelTimer;typeof X=="function"&&X();const D=o.current;$(D)&&D.completeGame();function $(N){return N!==null}i()},[l,o,i]),x=K.useCallback(X=>{if(X===null)return;const D=X.key?.trim()??"",$=X.value?.trim()??"";if(D===""||$==="")return;at.debug("handlePhraseSuccess called with phrase:",D,"Activity:",Fe.value),a.getWPMs().wpmAverage>s&&h.checkGameProgress(X);const Q=o.current;z(Q)&&(Q.completeGame(),Q.levelUp());function z(M){return M!==null}L()},[a,h,L,o,s]);K.useEffect(()=>{if(b===Ce.TREE){at.info("Loading tree items in TREE mode");const X=localStorage.getItem("github_tree_items")?.trim()??"";if(X===""){at.error("No tree items found in localStorage");return}at.debug("Stored items:",X);try{const D=JSON.parse(X);at.debug("Parsed items:",D),Array.isArray(D)&&D.length>0?f(D):at.error("Tree items array is empty or invalid")}catch(D){at.error("Error parsing tree items:",D)}}},[b]),K.useEffect(()=>{if(b===Ce.NORMAL){at.info("Resetting terminal in NORMAL mode");const X=r.current;X!==null&&typeof X.focus=="function"&&X.focus(),i()}},[b,r,i]);const I=K.useCallback(async X=>{try{const D=localStorage.getItem("current_github_repo")?.trim()??"";if(D===""){at.error("No repository selected");return}at.info("Fetching file content:",{repo:D,path:X});const $=await _x(e.auth,D,X);at.debug("File content response:",$),$!==null&&$.status===200&&$.data!==void 0?(localStorage.setItem(yr.editContent,$.data.content),_(X),Et({activityKey:Ce.EDIT,contentKey:`${D}/${X}`,groupKey:null})):at.error("Failed to fetch file content:",$?.error)}catch(D){at.error("Failed to fetch file content:",D);return}},[e.auth]),j=K.useCallback(X=>{C(X)},[]);K.useImperativeHandle(t,()=>({writeOutput:n,prompt:()=>{},saveCommandResponseHistory:()=>"",focusTerminal:()=>{const X=r.current;X!=null&&typeof X.focus=="function"&&X.focus()},handleCharacter:()=>{},refreshComponent:()=>{},setHeroSummersaultAction:()=>{},setEditMode:()=>{},handleEditSave:()=>{},activityMediator:h}),[n,r,h]),K.useEffect(()=>{window.setActivity=X=>{at.debug("Setting activity:",X),Fe.value=X},window.setNextTutorial=X=>{at.debug("Setting tutorial:",X),Jt.value=X},window.ActivityType=Ce},[]),K.useCallback(X=>{I(X)},[I]);const G=K.useCallback(()=>{const X=localStorage.getItem(yr.editContent);if(X==null)return"";try{return JSON.parse(X)??""}catch(D){return at.error("Failed to parse edit content:",D),""}},[]);return vt("div",{id:"handterm-wrapper",children:[b===Ce.GAME&&fe(EA,{ref:o,canvasHeight:m,canvasWidth:e.terminalWidth}),b===Ce.GAME&&fe(xS,{ref:l,isInPhraseMode:!0,onPhraseSuccess:x,onError:j}),w!==null&&fe(da,{displayChar:w}),b===Ce.TUTORIAL&&Jt.value!=null&&fe(ES,{tutorial:Jt.value}),b!==Ce.EDIT&&b!==Ce.TREE&&vt("div",{id:"prompt-and-terminal",children:[fe(zA,{username:v??"guest",domain:g??"handterm.com",githubUsername:y,timestamp:KA(d.value)}),fe("div",{ref:r,id:"xtermRef"})]}),b===Ce.EDIT&&fe(Rm,{value:G(),language:"markdown"},b),b===Ce.TREE&&c.length>0&&fe(Rm,{value:"",language:"plaintext"},b),wo.value!==null&&fe(NA,{setOn:wo.value})]})});RS.displayName="HandTermWrapper";const VA=({time:e=new Date})=>{const t=typeof e=="string"?new Date(e):e,r=t.getHours().toString().padStart(2,"0"),n=t.getMinutes().toString().padStart(2,"0"),i=t.getSeconds().toString().padStart(2,"0");return vt(Yw,{children:[fe("span",{className:"log-hour",children:r}),fe("span",{className:"log-minute",children:n}),fe("span",{className:"log-second",children:i})]})},GA=({wpms:e,name:t="slowest-characters"})=>{const r=K.useMemo(()=>{const n=e.reduce((s,a)=>{const o=a.character.replace("\r","\\r").replace(" ","\\s");return s[o]?((s[o]??={character:o,wpm:0,count:0}).wpm+=a.wpm,(s[o]??={character:o,wpm:0,count:0}).count+=1):s[o]={character:o,wpm:a.wpm,count:1},s},{}),i=Object.values(n).map(s=>({character:s.character,wpm:s.wpm/s.count}));return i.sort((s,a)=>s.wpm-a.wpm),i.slice(0,5)},[e]);return vt("table",{className:"wpm-table",children:[vt("thead",{children:[fe("tr",{children:fe("th",{colSpan:2,children:t})}),vt("tr",{children:[fe("th",{children:"Character"}),fe("th",{children:"Avg WPM"})]})]}),fe("tbody",{children:r.map((n,i)=>vt("tr",{className:"wpm-table-row",children:[fe("td",{children:n.character}),fe("td",{className:"number",children:n.wpm.toFixed(0)})]},i))})]})},qA=({command:e,response:t,status:r,wpms:n,commandTime:i})=>{const s=o=>typeof o=="string"&&/<[a-z][\s\S]*>/i.test(o),a=()=>typeof t=="string"&&s(t)?fe("div",{className:"response",dangerouslySetInnerHTML:{__html:t}}):fe("div",{className:"response",children:t});return vt("div",{"data-status":r,children:[vt("div",{className:"log-line",children:[fe("span",{className:"log-time",children:fe(VA,{time:i})}),fe("span",{className:"wpm-label",children:"WPM:"}),fe("span",{className:"wpm",children:(n.wpmAverage??0).toFixed(0)}),fe("span",{className:"content",children:yf(e)})]}),a(),n&&n.charWpms&&n.charWpms.length>0&&fe(GA,{wpms:n.charWpms,name:"slow-char"})]})},QA=()=>{const[e,t]=K.useState([]);return Vd(()=>{t(Ek.value)}),fe("div",{id:"output-container",children:e.map((r,n)=>fe(qA,{command:r.command,response:r.response,status:r.status,wpms:{wpmAverage:r?.wpmAverage??0,charWpms:r?.characterAverages??[]},commandTime:r.commandTime},n))})},TS=K.createContext(null),XA=()=>{const e=K.useContext(TS);if(!e)throw new Error("useActivityMediatorContext must be used within an ActivityMediatorProvider");return e},JA=({children:e})=>{const[t,r]=K.useState(Ce.NORMAL),n={currentActivity:t,setCurrentActivity:r};return fe(TS.Provider,{value:n,children:e})},YA=K.createContext(null),ZA=({children:e})=>{const[t,r]=K.useState(!1),[n,i]=K.useState(null),[s]=K.useState([]),{currentActivity:a}=XA(),o={currentActivity:a,isLoggedIn:t,setIsLoggedIn:r,userName:n,setUserName:i,outputElements:s};return fe(YA.Provider,{value:o,children:e})},eM=({children:e,handTermRef:t,auth:r})=>{const{commandHistory:n,addToCommandHistory:i,output:s,appendToOutput:a,executeCommand:o}=_S(),h={commandHistory:n,addToCommandHistory:i,output:s,appendToOutput:a,handTermRef:t,auth:r,updateLocation:Et,executeCommand:async g=>{const p=ul(g);await o(p)}};return fe(yS.Provider,{value:h,children:e})};var qs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vi=typeof window>"u"||"Deno"in globalThis;function Ur(){}function tM(e,t){return typeof e=="function"?e(t):e}function Rd(e){return typeof e=="number"&&e>=0&&e!==1/0}function LS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Es(e,t){return typeof e=="function"?e(t):e}function nn(e,t){return typeof e=="function"?e(t):e}function Tm(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==dp(a,t.options))return!1}else if(!oa(t.queryKey,a))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function Lm(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Gi(t.options.mutationKey)!==Gi(s))return!1}else if(!oa(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function dp(e,t){return(t?.queryKeyHashFn||Gi)(e)}function Gi(e){return JSON.stringify(e,(t,r)=>Td(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function oa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!oa(e[r],t[r])):!1}function AS(e,t){if(e===t)return e;const r=Am(e)&&Am(t);if(r||Td(e)&&Td(t)){const n=r?e:Object.keys(e),i=n.length,s=r?t:Object.keys(t),a=s.length,o=r?[]:{};let l=0;for(let h=0;h<a;h++){const g=r?h:s[h];(!r&&n.includes(g)||r)&&e[g]===void 0&&t[g]===void 0?(o[g]=void 0,l++):(o[g]=AS(e[g],t[g]),o[g]===e[g]&&e[g]!==void 0&&l++)}return i===a&&l===i?e:o}return t}function mc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Am(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Td(e){if(!Mm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Mm(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Mm(e){return Object.prototype.toString.call(e)==="[object Object]"}function rM(e){return new Promise(t=>{setTimeout(t,e)})}function Ld(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?AS(e,t):t}function nM(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function iM(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var fp=Symbol();function MS(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===fp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var sM=class extends qs{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Vi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},pp=new sM,oM=class extends qs{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Vi&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},yc=new oM;function Ad(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function aM(e){return Math.min(1e3*2**e,3e4)}function PS(e){return(e??"online")==="online"?yc.isOnline():!0}var OS=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ah(e){return e instanceof OS}function IS(e){let t=!1,r=0,n=!1,i;const s=Ad(),a=y=>{n||(m(new OS(y)),e.abort?.())},o=()=>{t=!0},l=()=>{t=!1},h=()=>pp.isFocused()&&(e.networkMode==="always"||yc.isOnline())&&e.canRun(),g=()=>PS(e.networkMode)&&e.canRun(),p=y=>{n||(n=!0,e.onSuccess?.(y),i?.(),s.resolve(y))},m=y=>{n||(n=!0,e.onError?.(y),i?.(),s.reject(y))},w=()=>new Promise(y=>{i=v=>{(n||h())&&y(v)},e.onPause?.()}).then(()=>{i=void 0,n||e.onContinue?.()}),C=()=>{if(n)return;let y;const v=r===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(d){y=Promise.reject(d)}Promise.resolve(y).then(p).catch(d=>{if(n)return;const c=e.retry??(Vi?0:3),f=e.retryDelay??aM,_=typeof f=="function"?f(r,d):f,b=c===!0||typeof c=="number"&&r<c||typeof c=="function"&&c(r,d);if(t||!b){m(d);return}r++,e.onFail?.(r,d),rM(_).then(()=>h()?void 0:w()).then(()=>{t?m(d):C()})})};return{promise:s,cancel:a,continue:()=>(i?.(),s),cancelRetry:o,continueRetry:l,canStart:g,start:()=>(g()?C():w().then(C),s)}}function lM(){let e=[],t=0,r=o=>{o()},n=o=>{o()},i=o=>setTimeout(o,0);const s=o=>{t?e.push(o):i(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var bt=lM(),DS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rd(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vi?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},cM=class extends DS{#e;#t;#n;#r;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=uM(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=Ld(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Ur).catch(Ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>nn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!LS(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},i=()=>{const o=MS(this.options,t),l={queryKey:this.queryKey,meta:this.meta};return n(l),this.#s=!1,this.options.persister?this.options.persister(o,l,this):o(l)},s={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};n(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#i({type:"fetch",meta:s.fetchOptions?.meta});const a=o=>{ah(o)&&o.silent||this.#i({type:"error",error:o}),ah(o)||(this.#n.config.onError?.(o,this),this.#n.config.onSettled?.(this.state.data,o,this)),this.scheduleGc()};return this.#r=IS({initialPromise:t?.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:o=>{if(o===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(o)}catch(l){a(l);return}this.#n.config.onSuccess?.(o,this),this.#n.config.onSettled?.(o,this.state.error,this),this.scheduleGc()},onError:a,onFail:(o,l)=>{this.#i({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...BS(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return ah(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),bt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function BS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function uM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var hM=class extends qs{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,i=t.queryHash??dp(n,t);let s=this.get(i);return s||(s=new cM({cache:this,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){bt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Tm(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Tm(e,r)):t}notify(e){bt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){bt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){bt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dM=class extends DS{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||FS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){this.#n=IS({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(n,i)=>{this.#r({type:"failed",failureCount:n,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",r=!this.#n.canStart();try{if(!t){this.#r({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#r({type:"pending",context:i,variables:e,isPaused:r})}const n=await this.#n.start();return await this.#t.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,e,this.state.context,this),await this.options.onError?.(n,e,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,e,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#t.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),bt.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function FS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fM=class extends qs{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,r){const n=new dM({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){const t=Wa(e),r=this.#e.get(t)??[];r.push(e),this.#e.set(t,r),this.notify({type:"added",mutation:e})}remove(e){const t=Wa(e);if(this.#e.has(t)){const r=this.#e.get(t)?.filter(n=>n!==e);r&&(r.length===0?this.#e.delete(t):this.#e.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Wa(e))?.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Wa(e))?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){bt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Lm(t,r))}findAll(e={}){return this.getAll().filter(t=>Lm(e,t))}notify(e){bt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return bt.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ur))))}};function Wa(e){return e.options.scope?.id??String(e.mutationId)}function Pm(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const h=async()=>{let g=!1;const p=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},m=MS(t.options,t.fetchOptions),w=async(C,y,v)=>{if(g)return Promise.reject();if(y==null&&C.pages.length)return Promise.resolve(C);const d={queryKey:t.queryKey,pageParam:y,direction:v?"backward":"forward",meta:t.options.meta};p(d);const c=await m(d),{maxPages:f}=t.options,_=v?iM:nM;return{pages:_(C.pages,c,f),pageParams:_(C.pageParams,y,f)}};if(i&&s.length){const C=i==="backward",y=C?pM:Om,v={pages:s,pageParams:a},d=y(n,v);o=await w(v,d,C)}else{const C=e??s.length;do{const y=l===0?a[0]??n.initialPageParam:Om(n,o);if(l>0&&y==null)break;o=await w(o,y),l++}while(l<C)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=h}}}function Om(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function pM(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var vM=class{#e;#t;#n;#r;#o;#s;#i;#a;constructor(e={}){this.#e=e.queryCache||new hM,this.#t=e.mutationCache||new fM,this.#n=e.defaultOptions||{},this.#r=new Map,this.#o=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=pp.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=yc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Es(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=this.#e.get(n.queryHash)?.state.data,a=tM(t,s);if(a!==void 0)return this.#e.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return bt.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;bt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e,n={type:"active",...e};return bt.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=bt.batch(()=>this.#e.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Ur).catch(Ur)}invalidateQueries(e,t={}){return bt.batch(()=>{if(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none")return Promise.resolve();const r={...e,type:e?.refetchType??e?.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=bt.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Ur)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Ur)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Es(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ur).catch(Ur)}fetchInfiniteQuery(e){return e.behavior=Pm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ur).catch(Ur)}ensureInfiniteQueryData(e){return e.behavior=Pm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Gi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(n=>{oa(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#o.set(Gi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#o.values()];let r={};return t.forEach(n=>{oa(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===fp&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},gM=class extends qs{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#i=Ad(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#r=void 0;#o;#s;#i;#a;#v;#d;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Im(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Md(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Md(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#S(),this.#C(),this.#t.removeObserver(this)}setOptions(e,t){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof nn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),r._defaulted&&!mc(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&Dm(this.#t,n,this.options,r)&&this.#h(),this.updateResult(t),i&&(this.#t!==n||nn(this.options.enabled,this.#t)!==nn(r.enabled,this.#t)||Es(this.options.staleTime,this.#t)!==Es(r.staleTime,this.#t))&&this.#g();const s=this.#m();i&&(this.#t!==n||nn(this.options.enabled,this.#t)!==nn(r.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return yM(this,r)&&(this.#r=r,this.#s=this.options,this.#o=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(e,t){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),t?.(n),e[n])})}),r}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#h({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ur)),t}#g(){this.#S();const e=Es(this.options.staleTime,this.#t);if(Vi||this.#r.isStale||!Rd(e))return;const r=LS(this.#r.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#m(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#C(),this.#l=e,!(Vi||nn(this.options.enabled,this.#t)===!1||!Rd(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||pp.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#y(this.#m())}#S(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#C(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,i=this.#r,s=this.#o,a=this.#s,l=e!==r?e.state:this.#n,{state:h}=e;let g={...h},p=!1,m;if(t._optimisticResults){const L=this.hasListeners(),x=!L&&Im(e,t),I=L&&Dm(e,r,t,n);(x||I)&&(g={...g,...BS(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:w,errorUpdatedAt:C,status:y}=g;if(t.select&&g.data!==void 0)if(i&&g.data===s?.data&&t.select===this.#v)m=this.#d;else try{this.#v=t.select,m=t.select(g.data),m=Ld(i?.data,m,t),this.#d=m,this.#a=null}catch(L){this.#a=L}else m=g.data;if(t.placeholderData!==void 0&&m===void 0&&y==="pending"){let L;if(i?.isPlaceholderData&&t.placeholderData===a?.placeholderData)L=i.data;else if(L=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,t.select&&L!==void 0)try{L=t.select(L),this.#a=null}catch(x){this.#a=x}L!==void 0&&(y="success",m=Ld(i?.data,L,t),p=!0)}this.#a&&(w=this.#a,m=this.#d,C=Date.now(),y="error");const v=g.fetchStatus==="fetching",d=y==="pending",c=y==="error",f=d&&v,_=m!==void 0,R={status:y,fetchStatus:g.fetchStatus,isPending:d,isSuccess:y==="success",isError:c,isInitialLoading:f,isLoading:f,data:m,dataUpdatedAt:g.dataUpdatedAt,error:w,errorUpdatedAt:C,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>l.dataUpdateCount||g.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!d,isLoadingError:c&&!_,isPaused:g.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:c&&_,isStale:vp(e,t),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){const L=j=>{R.status==="error"?j.reject(R.error):R.data!==void 0&&j.resolve(R.data)},x=()=>{const j=this.#i=R.promise=Ad();L(j)},I=this.#i;switch(I.status){case"pending":e.queryHash===r.queryHash&&L(I);break;case"fulfilled":(R.status==="error"||R.data!==I.value)&&x();break;case"rejected":(R.status!=="error"||R.error!==I.reason)&&x();break}}return R}updateResult(e){const t=this.#r,r=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#s=this.options,this.#o.data!==void 0&&(this.#f=this.#t),mc(r,t))return;this.#r=r;const n={},i=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!this.#p.size)return!0;const o=new Set(a??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(l=>{const h=l;return this.#r[h]!==t[h]&&o.has(h)})};e?.listeners!==!1&&i()&&(n.listeners=!0),this.#k({...n,...e})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#k(e){bt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function mM(e,t){return nn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Im(e,t){return mM(e,t)||e.state.data!==void 0&&Md(e,t,t.refetchOnMount)}function Md(e,t,r){if(nn(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&vp(e,t)}return!1}function Dm(e,t,r,n){return(e!==t||nn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&vp(e,r)}function vp(e,t){return nn(t.enabled,e)!==!1&&e.isStaleByTime(Es(t.staleTime,e))}function yM(e,t){return!mc(e.getCurrentResult(),t)}var _M=class extends qs{#e;#t=void 0;#n;#r;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),mc(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Gi(r.mutationKey)!==Gi(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#o(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#o(),this.#s()}mutate(t,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#o(){const t=this.#n?.state??FS();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){bt.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,r,n),this.#r.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#r.onError?.(t.error,r,n),this.#r.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},NS=K.createContext(void 0),gp=e=>{const t=K.useContext(NS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},SM=({client:e,children:t})=>(K.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Rs.jsx(NS.Provider,{value:e,children:t})),$S=K.createContext(!1),CM=()=>K.useContext($S);$S.Provider;function wM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var kM=K.createContext(wM()),bM=()=>K.useContext(kM);function HS(e,t){return typeof e=="function"?e(...t):!!e}function Pd(){}var xM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},EM=e=>{K.useEffect(()=>{e.clearReset()},[e])},RM=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&HS(r,[e.error,n]),TM=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},LM=(e,t)=>e.isLoading&&e.isFetching&&!t,AM=(e,t)=>e?.suspense&&t.isPending,Bm=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function MM(e,t,r){const n=gp(),i=CM(),s=bM(),a=n.defaultQueryOptions(e);n.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=i?"isRestoring":"optimistic",TM(a),xM(a,s),EM(s);const o=!n.getQueryCache().get(a.queryHash),[l]=K.useState(()=>new t(n,a)),h=l.getOptimisticResult(a);if(K.useSyncExternalStore(K.useCallback(g=>{const p=i?Pd:l.subscribe(bt.batchCalls(g));return l.updateResult(),p},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),K.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),AM(a,h))throw Bm(a,l,s);if(RM({result:h,errorResetBoundary:s,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw h.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(a,h),a.experimental_prefetchInRender&&!Vi&&LM(h,i)&&(o?Bm(a,l,s):n.getQueryCache().get(a.queryHash)?.promise)?.catch(Pd).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?h:l.trackResult(h)}function PM(e,t){return MM(e,gM)}function za(e,t){const r=gp(),[n]=K.useState(()=>new _M(r,e));K.useEffect(()=>{n.setOptions(e)},[n,e]);const i=K.useSyncExternalStore(K.useCallback(a=>n.subscribe(bt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=K.useCallback((a,o)=>{n.mutate(a,o).catch(Pd)},[n]);if(i.error&&HS(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const uo=Gt({prefix:"Auth",level:mi.ERROR}),ho=Zt.api.BaseUrl;function OM(){const e=gp(),t=()=>{localStorage.removeItem(Re.AccessToken),localStorage.removeItem(Re.RefreshToken),localStorage.removeItem(Re.ExpiresAt),localStorage.removeItem(Re.ExpiresIn),localStorage.removeItem(Re.IdToken),localStorage.removeItem(Re.GithubUsername),Hr(!1),Mn.value=!1},r=za({mutationFn:async()=>{const C=localStorage.getItem(Re.RefreshToken);if(typeof C!="string"||C==="")throw t(),new Error("No refresh token");try{const y=await je.post(`${ho}${Zt.api.RefreshToken}`,{refreshToken:C});if(y.status===500)throw uo.error("Server error during token refresh"),t(),new Error("Server error during token refresh");if(y.data!=null&&typeof y.data=="object"&&"AccessToken"in y.data)return{status:200,data:y.data,message:"Token refreshed",error:[]};throw new Error("Invalid refresh token response")}catch(y){throw je.isAxiosError(y)&&y.response?.status===500?(t(),new Error("Server error during token refresh")):y}},onSuccess:C=>{C.data!=null&&typeof C.data=="object"&&"AccessToken"in C.data&&(l(C.data.ExpiresIn),Hr(!0),Mn.value=!0,localStorage.setItem(Re.AccessToken,C.data.AccessToken),e.invalidateQueries({queryKey:["auth","session"]}))},retry:(C,y)=>je.isAxiosError(y)&&y.response?.status===500?(t(),!1):C<3,retryDelay:C=>Math.min(1e3*2**C,3e4)}),n=K.useCallback(async()=>{try{const C=localStorage.getItem(Re.AccessToken),y=localStorage.getItem(Re.RefreshToken),v=localStorage.getItem(Re.ExpiresAt),d=localStorage.getItem(Re.ExpiresIn),c=localStorage.getItem(Re.IdToken),f=localStorage.getItem(Re.GithubUsername);if(y==null||y==="")return t(),{status:401,message:"No refresh token available",error:[]};if(C==null||v==null||d==null)try{const _=await r.mutateAsync();if(_.data?.AccessToken!=null)return Hr(!0),{status:200,data:_.data,message:"Token refreshed",error:[]}}catch{return t(),{status:401,message:"Token refresh failed",error:[]}}if(C!=null&&y!=null&&v!=null&&d!=null){const _=parseInt(v),b=Date.now(),R=5*60*1e3;if(b+R>_){const L=await r.mutateAsync();if(L.data?.AccessToken!=null)return Hr(!0),{status:200,data:L.data,message:"Token refreshed",error:[]}}if(b<_)return Hr(!0),{status:200,data:{AccessToken:C,ExpiresAt:v,ExpiresIn:parseInt(d,10),IdToken:c??"",RefreshToken:y,githubUsername:f??""},message:"Token valid",error:[]}}return Hr(!1),Mn.value=!1,{status:401,message:"Token refresh failed.",error:[]}}catch(C){return C instanceof Error?uo.error("Token validation failed:",C.message):uo.error("An unexpected error occurred during token validation"),Hr(!1),Mn.value=!1,{status:401,message:"Token validation failed",error:[]}}},[r]),i=K.useRef(!1),{data:s,isPending:a}=PM({queryKey:["auth","session"],queryFn:async()=>{try{const C=localStorage.getItem(Re.AccessToken),y=localStorage.getItem(Re.RefreshToken);if(!C||!y)throw new Error("Missing required tokens");if((await n()).status!=200)throw t(),new Error("Token validation failed");if(i.current)return i.current=!1,{status:200,data:{AccessToken:localStorage.getItem(Re.AccessToken)??"",RefreshToken:localStorage.getItem(Re.RefreshToken)??"",IdToken:localStorage.getItem(Re.IdToken)??"",ExpiresAt:localStorage.getItem(Re.ExpiresAt)||"",ExpiresIn:parseInt(localStorage.getItem(Re.ExpiresIn)||"0",10),githubUsername:localStorage.getItem(Re.GithubUsername)||void 0},message:"Login successful",error:[]};const d=localStorage.getItem(Re.AccessToken);if(typeof d!="string"||d==="")throw new Error("No AccessToken");const c={headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"}},f=await je.get(`${ho}${Zt.api.GetUser}`,c);if(f.data!=null&&typeof f.data=="object"&&"userId"in f.data)return{status:200,data:{AccessToken:localStorage.getItem(Re.AccessToken)??"",RefreshToken:localStorage.getItem(Re.RefreshToken)??"",IdToken:localStorage.getItem(Re.IdToken)??"",ExpiresAt:localStorage.getItem(Re.ExpiresAt)||"",ExpiresIn:parseInt(localStorage.getItem(Re.ExpiresIn)||"0",10),githubUsername:localStorage.getItem(Re.GithubUsername)||void 0},message:"Session valid",error:[]};throw new Error("Invalid session response")}catch(C){return C instanceof Error?uo.error("Session validation failed:",C.message):uo.error("An unexpected error occurred during session validation"),typeof localStorage.getItem(Re.AccessToken)=="string"&&localStorage.removeItem(Re.AccessToken),typeof localStorage.getItem(Re.RefreshToken)=="string"&&localStorage.removeItem(Re.RefreshToken),typeof localStorage.getItem(Re.ExpiresAt)=="string"&&localStorage.removeItem(Re.ExpiresAt),typeof localStorage.getItem(Re.ExpiresIn)=="string"&&localStorage.removeItem(Re.ExpiresIn),typeof localStorage.getItem(Re.IdToken)=="string"&&localStorage.removeItem(Re.IdToken),typeof localStorage.getItem(Re.GithubUsername)=="string"&&localStorage.removeItem(Re.GithubUsername),Hr(!1),Mn.value=!1,Ak(null),{status:401,data:void 0,message:"Session invalid",error:["Session expired or invalid"]}}},enabled:typeof localStorage.getItem(Re.AccessToken)=="string",retry:!1,staleTime:5*60*1e3}),o=za({mutationFn:async C=>{const y=await je.post(`${ho}${Zt.api.SignIn}`,C);if(y.data!=null&&typeof y.data=="object"&&"AccessToken"in y.data)return{status:200,data:y.data,message:"Login successful",error:[]};throw new Error("Invalid login response")},onSuccess:C=>{C.data?.ExpiresIn!=null&&typeof C.data.ExpiresIn=="number"&&(l(C.data.ExpiresIn),Hr(!0),Mn.value=!0,localStorage.setItem(Re.AccessToken,C.data.AccessToken),localStorage.setItem(Re.RefreshToken,C.data.RefreshToken),localStorage.setItem(Re.IdToken,C.data.IdToken),typeof C.data.githubUsername=="string"&&localStorage.setItem(Re.GithubUsername,C.data.githubUsername),Zr(!1),i.current=!0,e.invalidateQueries({queryKey:["auth","session"]}))},onError:()=>{Hr(!1),Zr(!1)},onSettled:()=>Zr(!1)}),l=C=>{const y=Date.now()+C*1e3;rs(C)||localStorage.setItem(Re.ExpiresIn,C.toString()),y!=null&&!Number.isNaN(y)&&localStorage.setItem(Re.ExpiresAt,y.toString())},h=za({mutationFn:async C=>{const y=await je.post(`${ho}${Zt.api.SignUp}`,C);if(y.data!=null&&typeof y.data=="object")return{status:200,data:y.data,message:"Signup successful",error:[]};throw new Error("Invalid signup response")},onSuccess:()=>{Zr(!1)},onError:()=>{Zr(!1)}}),g=za({mutationFn:async({username:C,code:y})=>{const v=await je.post(`${ho}${Zt.api.ConfirmSignUp}`,{username:C,code:y});if(v.data!=null&&typeof v.data=="object")return v.data;throw new Error("Invalid verify response")},onSuccess:()=>void Zr(!1),onError:()=>void Zr(!1)});K.useEffect(()=>{const C=async()=>{(await n()).status===200?(Mn.value=!0,Hr(!0)):(Mn.value=!1,Hr(!1))};C();const y=()=>{C()};return window.addEventListener("storage",y),()=>{window.removeEventListener("storage",y)}},[n]);const p=o.isPending??h.isPending??g.isPending,m=o.isError??h.isError??g.isError,w=o.error??h.error??g.error;return s?.data!=null&&typeof s.data=="object"&&"AccessToken"in s.data?{isLoggedIn:!0,isPending:a,login:async(C,y)=>await o.mutateAsync({username:C,password:y}),signup:async C=>await h.mutateAsync(C),verify:async(C,y)=>await g.mutateAsync({username:C,code:y}),refreshToken:async()=>await r.mutateAsync(),validateAndRefreshToken:n,isLoading:p,isError:m,error:w}:{isLoggedIn:!1,isPending:a,login:async(C,y)=>await o.mutateAsync({username:C,password:y}),signup:async C=>await h.mutateAsync(C),verify:async(C,y)=>await g.mutateAsync({username:C,code:y}),refreshToken:async()=>await r.mutateAsync(),validateAndRefreshToken:n,isLoading:p,isError:m,error:w}}function IM(e){return e.current!==null&&typeof e.current.focusTerminal=="function"}function DM(){const e=K.useRef(null),[t,r]=K.useState(0),n=OM(),i=K.useRef(null),s=Gr(()=>El.value),a=K.useCallback(()=>e.current?.clientWidth??0,[e]);return K.useEffect(()=>{const o=()=>{const l=a();r(l)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[a]),K.useEffect(()=>{const o=a();r(o);const l=h=>{const g=i.current;g!==null&&h.target instanceof HTMLElement&&h.target.id!==ts.terminal&&(h.stopPropagation(),g.focusTerminal(),(h instanceof MouseEvent||h instanceof TouchEvent&&h.touches.length===1)&&setTimeout(()=>{IM(i)&&i.current.focusTerminal()},1e3))};return document.body.addEventListener("click",l),document.body.addEventListener("touchstart",l),()=>{document.body.removeEventListener("click",l),document.body.removeEventListener("touchstart",l)}},[a]),fe(JA,{children:fe("div",{className:"app",ref:e,children:fe(ZA,{children:vt(eM,{auth:n,handTermRef:i,children:[Pt().activityKey!==Ce.EDIT&&fe(QA,{}),s.value&&fe("div",{style:{position:"fixed",top:0,right:0,color:"black",background:"#222",padding:"5px"},children:"Bypass Mode Active"}),fe(RS,{ref:i,auth:n,terminalWidth:t,onOutputUpdate:()=>{}})]})})})})}function BM(){window.commandLineSignal=ma}const FM={defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}},NM=new vM(FM);function $M({children:e}){return fe(SM,{client:NM,children:e})}typeof window.Buffer>"u"&&(window.Buffer=Nm);typeof $m>"u"&&(window.global=window);const Fm=Gt({prefix:"main",level:mi.ERROR});{BM();try{(async()=>{const e=await EC(()=>import("./client-B3FO9r19.js").then(r=>r.c),[]).catch(r=>{throw Fm.error("Failed to load react-dom/client:",r),r}),t=fe(aA,{children:fe(iA,{children:fe(iS,{path:"/*",element:fe(DM,{})})})});Ck(),e.createRoot(document.getElementById("root")).render(fe(K.StrictMode,{children:fe($M,{children:t})}))})()}catch(e){Fm.error("Error during initialization:",e)}}export{UM as r};
//# sourceMappingURL=index-CvapaBRC.js.map
